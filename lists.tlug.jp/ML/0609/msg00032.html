<!-- MHonArc v2.6.16 -->
<!--X-Subject: [tlug] nfs through a firewall -->
<!--X-From-R13: "Vrpgbe Oxnzvar" <nxnzvarNtznvy.pbz> -->
<!--X-Date: Mon, 04 Sep 2006 23:58:28 +0900 -->
<!--X-Message-Id: a96ae3bb0609040758v1c1403d3s21335c28d22a1892@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00031.html">Date Prev</a>][<a href="msg00033.html">Date Next</a>][<a href="msg00026.html">Thread Prev</a>][<a href="msg00033.html">Thread Next</a>][<a href="maillist.html#00032">Date Index</a>][<a href="threads.html#00032">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] nfs through a firewall</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 4 Sep 2006 23:58:24 +0900</li>
<li><strong>From</strong>: <strong>&quot;Hector Akamine&quot; &lt;<a href="mailto:akamine@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20nfs%20through%20a%20firewall">akamine@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] nfs through a firewall</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,

I want to set up a NFS server in a PC that has a firewall (iptables)
enabled. But I'm stuck with the following:
1) I read somewhere that rpcinfo -p shows the list of ports that nfs
is using. The thing
is that rpcinfo shows a lot of ports:

[root@example.com ~]# rpcinfo -p
  program vers proto   port
   100000    2   tcp    111  portmapper
   100000    2   udp    111  portmapper
   100024    1   udp  32768  status
   100024    1   tcp  32977  status
   100011    1   udp    980  rquotad
   100011    2   udp    980  rquotad
   100011    1   tcp    983  rquotad
   100011    2   tcp    983  rquotad
   100003    2   udp   2049  nfs
   100003    3   udp   2049  nfs
   100003    4   udp   2049  nfs
   100003    2   tcp   2049  nfs
   100003    3   tcp   2049  nfs
   100003    4   tcp   2049  nfs
   100021    1   udp  32803  nlockmgr
   100021    3   udp  32803  nlockmgr
   100021    4   udp  32803  nlockmgr
   100021    1   tcp  55803  nlockmgr
   100021    3   tcp  55803  nlockmgr
   100021    4   tcp  55803  nlockmgr
   100005    1   udp    995  mountd
   100005    1   tcp    998  mountd
   100005    2   udp    995  mountd
   100005    2   tcp    998  mountd
   100005    3   udp    995  mountd
   100005    3   tcp    998  mountd

Which ones should I open in the firewall in order for other hosts to
reach the nfs server?

2) It seems that the ports used by nfs are dynamic (change every time
nfs is restarted). Is there any way to make it use the same ports
every time?

I've been trying to RTFM but couldn't find how to solve this. Any help
(or pointers to tutorials) is appreciated

Thanks,
Hector

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00033" href="msg00033.html">Re: [tlug] nfs through a firewall</a></strong>
<ul><li><em>From:</em> Neil Millar</li></ul></li>
<li><strong><a name="00036" href="msg00036.html">[tlug]  nfs through a firewall</a></strong>
<ul><li><em>From:</em> stephen</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00031.html">Re: [tlug] Advice (was: Re: xbuntu on Toshiba Libretto	L1	video	resolution X11)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00033.html">Re: [tlug] nfs through a firewall</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00026.html">[tlug] japanese sites about &quot;digital life&quot;?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00033.html">Re: [tlug] nfs through a firewall</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00032"><strong>Date</strong></a></li>
<li><a href="threads.html#00032"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
