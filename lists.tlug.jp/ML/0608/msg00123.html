<!-- MHonArc v2.6.16 -->
<!--X-Subject: [tlug] [OT] Regular Expressions to find Japanese Text -->
<!--X-From-R13: Rnir [ U <znegvaNnhgbgryvp.pbz> -->
<!--X-Date: Sun, 06 Aug 2006 23:22:05 +0900 -->
<!--X-Message-Id: 44D5FB0A.6090605@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00122.html">Date Prev</a>][<a href="msg00124.html">Date Next</a>][<a href="msg00122.html">Thread Prev</a>][<a href="msg00124.html">Thread Next</a>][<a href="maillist.html#00123">Date Index</a>][<a href="threads.html#00123">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] [OT] Regular Expressions to find Japanese Text</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sun, 06 Aug 2006 23:22:02 +0900</li>
<li><strong>From</strong>: <strong>Dave M G &lt;<a href="mailto:martin@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BOT%5D%20Regular%20Expressions%20to%20find%20Japanese%20Text">martin@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] [OT] Regular Expressions to find Japanese Text</strong></li>
<li>User-agent: Thunderbird 1.5.0.5 (X11/20060728)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
TLUG,

</pre><tt>(The following message contains UTF-8 encoded Japanese text. Apologies 
</tt><tt>if it comes out as ASCII gibberish.)
</tt><pre style="margin: 0em;">

</pre><tt>Once again I hope the members of this list will permit me to draw upon 
</tt><tt>the collective experience of the TLUG in handling Japanese text. If I 
</tt><tt>have strayed too far off topic, please accept my apologies.
</tt><pre style="margin: 0em;">

</pre><tt>In a private email conversation, Jim Breen has been helping me 
</tt><tt>understand his WWWJDIC backdoor entry system for me to create a form 
</tt><tt>which will fetch lists of words from blocks of Japanese text. By using 
</tt><tt>PHP, I've achieved a stage where I am able to get a response from the 
</tt><tt>WWWJDIC server and trim it down to just the words and definitions that I 
</tt><tt>need.
</tt><pre style="margin: 0em;">

</pre><tt>The next step is to parse the words and definitions in such a way as to 
</tt><tt>cleanly insert them into a database, which I can then use to create more 
</tt><tt>personalized study lists.
</tt><pre style="margin: 0em;">

</pre><tt>As I'm sure many of this list's members know well already, the output 
</tt><tt>from WWWJDIC looks like this:
</tt><pre style="margin: 0em;">

&#x6C17;&#x6E29; &#x3010;&#x304D;&#x304A;&#x3093;&#x3011; (n) atmospheric temperature; (P); EP
&#x306B;&#x3064;&#x3044;&#x3066; (exp) concerning; along; under; per; KD

</pre><tt>I want to divide the first line into three variables, $word, $reading, 
</tt><tt>and $meaning. And I want to divide the second line into two variables, 
</tt><tt>$word and $meaning.
</tt><pre style="margin: 0em;">

</pre><tt>If I can figure out how to extract the first variable, $word, then I can 
</tt><tt>figure out the rest and go on to build more complicated text parsing.
</tt><pre style="margin: 0em;">

But that first step seems to be a doozy.

</pre><tt>The way I see it, I could do it two ways. One is to not rely on any 
</tt><tt>difference between Japanese text and English text, but instead build 
</tt><tt>regular expressions based on things like where spaces divide the first 
</tt><tt>word from the rest of the line. For example, take out all the characters 
</tt><tt>up to the first occurrence of a space, and assume that it's Japanese.
</tt><pre style="margin: 0em;">

</pre><tt>But it seems like it would be a lot more sophisticated if I could 
</tt><tt>determine if a word was Japanese by testing it's Unicode value or some 
</tt><tt>similar method. That way I would be less vulnerable to slight 
</tt><tt>variabilities in positioning of words in the source material.
</tt><pre style="margin: 0em;">

</pre><tt>Looking at all the multibyte related functions in the PHP manual, it 
</tt><tt>seems there are options for testing the type of encoding, but not for 
</tt><tt>the type of language or character set.
</tt><pre style="margin: 0em;">
<a  rel="nofollow" href="http://jp2.php.net/manual/en/ref.mbstring.php">http://jp2.php.net/manual/en/ref.mbstring.php</a>
However, I could be wrong about this (and it would be nice if I was).

</pre><tt>Searching the web, I came across this guy's script to test if characters 
</tt><tt>were above the usual ASCII range in Unicode, and could therefore be 
</tt><tt>assumed to be Japanese (since in my case the only 2 options are Japanese 
</tt><tt>or English):
</tt><pre style="margin: 0em;">
<a  rel="nofollow" href="http://www.randomchaos.com/documents/?source=php_and_unicode">http://www.randomchaos.com/documents/?source=php_and_unicode</a>

</pre><tt>But this seems unwieldy, as I think, if I understand it correctly, I'd 
</tt><tt>have to test each individual character. I could use it to test if there 
</tt><tt>was any Japanese at all in a string, but I'm not confident I could use 
</tt><tt>it to extract words.
</tt><pre style="margin: 0em;">

</pre><tt>I think this may be more of a regular expressions issue or possibly an 
</tt><tt>encoding handling issue, and not regulated purely to PHP.
</tt><pre style="margin: 0em;">

</pre><tt>In any case, if anyone has any tips for how I might create a logical way 
</tt><tt>of looking at a string and selecting the Japanese words, that would be 
</tt><tt>awesome.
</tt><pre style="margin: 0em;">

Thank you for your time and help.

--
Dave M G

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00124" href="msg00124.html">Re: [tlug] [OT] Regular Expressions to find Japanese Text</a></strong>
<ul><li><em>From:</em> Botond Botyanszki</li></ul></li>
<li><strong><a name="00125" href="msg00125.html">Re: [tlug] [OT] Regular Expressions to find Japanese Text</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00122.html">Re: [tlug] Slide of Mar. TLUG Tech Meeting, Open Source Software Licensing</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00124.html">Re: [tlug] [OT] Regular Expressions to find Japanese Text</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00122.html">Re: [tlug] Slide of Mar. TLUG Tech Meeting, Open Source Software Licensing</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00124.html">Re: [tlug] [OT] Regular Expressions to find Japanese Text</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00123"><strong>Date</strong></a></li>
<li><a href="threads.html#00123"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
