<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Seeking recommendations for file consolidation -->
<!--X-From-R13: "ebznaf znyvabifxvf" <ebznavafuNtznvy.pbz> -->
<!--X-Date: Fri, 18 Aug 2006 07:47:29 +0900 -->
<!--X-Message-Id: 931e6e80608171547u45c3ef3doad6b04171031d975@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44E44C72.4050509@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00235.html">Date Prev</a>][<a href="msg00237.html">Date Next</a>][<a href="msg00244.html">Thread Prev</a>][<a href="msg00268.html">Thread Next</a>][<a href="maillist.html#00236">Date Index</a>][<a href="threads.html#00236">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Seeking recommendations for file consolidation</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Fri, 18 Aug 2006 01:47:24 +0300</li>
<li><strong>From</strong>: <strong>&quot;romans malinovskis&quot; &lt;<a href="mailto:romaninsh@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Seeking%20recommendations%20for%20file%20consolidation">romaninsh@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Seeking recommendations for file consolidation</strong></li>
<li>References: &lt;<a href="mailto:44E44C72.4050509@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Seeking%20recommendations%20for%20file%20consolidation">44E44C72.4050509@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Once all the data is in one place, I hoped to find a way I can weed out
duplicates and be left with one set of just the most recent versions of
unique files.
</pre></blockquote><pre style="margin: 0em;">

Hello again, Dave M

This sounded challenging enough, so i played a bit. Basically my plan
is first to get a list of all files and calculate their MD5 checksums.
Then list is sorted and we go through looking for duplicates. Once you
will get handy with unix textutils you can customize it the way you
want.

So first you need a list of files and checksums:

find . -type f | while read fn; do echo `md5sum &quot;$fn&quot;` $fn; done |
sort  &gt; all_files

Next just gives an idea what you could do with that:

cat all_files | sed 's/ /|/' | awk -F \| '{ if (c==$1) print $1 &quot; DUP
&quot; $2 ; else print $1 &quot; &quot; $2; c=$1 }' | head

Here I also use sed to replace first space in &quot;all_files&quot; with a pipe
character. I just don't want awk to think that space is column
separator (some files have space in their names)

I hope it was useful.

romans
<a  rel="nofollow" href="http://grr.void.lv/cv">http://grr.void.lv/cv</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00220" href="msg00220.html">[tlug] Seeking recommendations for file consolidation</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00235.html">Re: [tlug] How to figure out which files are duplicates</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00237.html">[tlug] New Custom Server for Linux - Advice Needed</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00244.html">[tlug] How to figure out which files are duplicates . . . . . . . . . (was Re: Seeking recommendations for file consolidation)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00268.html">Re: [tlug] Seeking recommendations for file consolidation</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00236"><strong>Date</strong></a></li>
<li><a href="threads.html#00236"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
