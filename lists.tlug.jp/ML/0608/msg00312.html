<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Seeking recommendations for file consolidation -->
<!--X-From-R13: Sqjneq [vqqyrgba <rqjneqzvqqyrgbaNx3.qvba.ar.wc> -->
<!--X-Date: Mon, 21 Aug 2006 00:21:43 +0900 -->
<!--X-Message-Id: 1156085643.10931.13.camel@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44E44C72.4050509@example.com -->
<!--X-Reference: op.teg6be0p4j0um6@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00311.html">Date Prev</a>][<a href="msg00313.html">Date Next</a>][<a href="msg00288.html">Thread Prev</a>][<a href="msg00221.html">Thread Next</a>][<a href="maillist.html#00312">Date Index</a>][<a href="threads.html#00312">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Seeking recommendations for file consolidation</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sun, 20 Aug 2006 23:54:03 +0900</li>
<li><strong>From</strong>: <strong>Edward Middleton &lt;<a href="mailto:edwardmiddleton@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Seeking%20recommendations%20for%20file%20consolidation">edwardmiddleton@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Seeking recommendations for file consolidation</strong></li>
<li>References: &lt;<a href="mailto:44E44C72.4050509@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Seeking%20recommendations%20for%20file%20consolidation">44E44C72.4050509@example.com</a>&gt; &lt;<a href="mailto:op.teg6be0p4j0um6@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Seeking%20recommendations%20for%20file%20consolidation">op.teg6be0p4j0um6@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Fri, 2006-08-18 at 19:34 +0900, Zev Blut wrote:
&gt; I really am willing to provide the beer and pizza if Stephen is
&gt; willing to take part in realizing his git idea.  Plus, it will give me
&gt; a good excuse to learn more about git ;-)

The question I have of a git based approach is how does git determine
the difference between a new binary file and a file that has been
renamed and modified between versions, and furthermore how does it know
that this file is not to be considered a new file.  Perhaps there is a
good way of doing this but the general problem (i.e. not ignoring corner
cases) would appear to be unsolvable.  Is this not the case?

If you are just wanting duplicates hard-linked to the same inode, will
this not work?

#!/bin/bash
# remove duplicates
XXXSUM=/usr/bin/md5sum
mkdir .sums
for file in `find ./* -type f`
do
  filesum=`${XXXSUM} $file|sed 's/^\([^ ][^ ]*\)  .*$/\1/'`
  if [ -f .sums/$filesum ]
  then
    echo &quot;$file duplicate.&quot;
  fi
  mv  -u ${file} .sums/$filesum
  rm ${file} 2&gt;&gt;/dev/null
  ln .sums/$filesum ${file}
done
rm -rf .sums

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00220" href="msg00220.html">[tlug] Seeking recommendations for file consolidation</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00268" href="msg00268.html">Re: [tlug] Seeking recommendations for file consolidation</a></strong>
<ul><li><em>From:</em> Zev Blut</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00311.html">[tlug] Kickstart udev without restarting the computer</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00313.html">Re: [tlug] Kickstart udev without restarting the computer</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00288.html">Re: [tlug] Seeking recommendations for file consolidation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00221.html">[tlug] Small detail - file icons</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00312"><strong>Date</strong></a></li>
<li><a href="threads.html#00312"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
