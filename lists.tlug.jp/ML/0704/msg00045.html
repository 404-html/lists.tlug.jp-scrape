<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] how filesystem works? -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Wed, 04 Apr 2007 10:29:09 +0900 -->
<!--X-Message-Id: Pine.NEB.4.64.0704040752020.122@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20070329090009.GK3981@example.com -->
<!--X-Reference: ba75897e0703290433l4c843928pb7a155f123579fbd@example.com -->
<!--X-Reference: 20070329114843.GL3981@example.com -->
<!--X-Reference: 460BAF7A.2050905@example.com -->
<!--X-Reference: 20070330070435.GM3981@example.com -->
<!--X-Reference: 20070330142231.721fd4d8.attila@example.com -->
<!--X-Reference: 871wj6y3vl.fsf@example.com -->
<!--X-Reference: Pine.NEB.4.64.0704011455570.18091@example.com -->
<!--X-Reference: 460FD438.3090802@example.com -->
<!--X-Reference: 461069F6.9020307@example.com -->
<!--X-Reference: ba75897e0704012205r6f78a437lf2a8228bada530ad@example.com -->
<!--X-Reference: 4610C680.6030209@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00044.html">Date Prev</a>][<a href="msg00046.html">Date Next</a>][<a href="msg00033.html">Thread Prev</a>][<a href="msg00018.html">Thread Next</a>][<a href="maillist.html#00045">Date Index</a>][<a href="threads.html#00045">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] how filesystem works?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 4 Apr 2007 10:29:08 +0900 (JST)</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20how%20filesystem%20works%3F">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] how filesystem works?</strong></li>
<li>References: &lt;20070329090009.GK3981@example.com&gt; 	&lt;ba75897e0703290433l4c843928pb7a155f123579fbd@example.com&gt; 	&lt;20070329114843.GL3981@example.com&gt;	&lt;460BAF7A.2050905@example.com&gt;	&lt;20070330070435.GM3981@example.com&gt;	&lt;20070330142231.721fd4d8.attila@example.com&gt;	&lt;871wj6y3vl.fsf@example.com&gt;	&lt;<a href="msg00008.html">Pine.NEB.4.64.0704011455570.18091@example.com</a>&gt;	&lt;<a href="msg00015.html">460FD438.3090802@example.com</a>&gt; &lt;<a href="msg00017.html">461069F6.9020307@example.com</a>&gt;	&lt;<a href="msg00019.html">ba75897e0704012205r6f78a437lf2a8228bada530ad@example.com</a>&gt;	&lt;<a href="msg00025.html">4610C680.6030209@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Sun, 1 Apr 2007, Stephen J. Turnbull wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">If you have a devel system, 5GB in /usr is tight for many Linux
distros.
</pre></blockquote><pre style="margin: 0em;"><br>Interesting. My /usr (which includes the entire OS install and any
additional packages I add, and always includes what I think Linux folks
would describe as a &quot;development system&quot;) seems to sit under 4 GB even
on my desktop systems, which tend to have a lot of crud installed.
Perhaps something about the way I work just tends to have a lot less
stuff installed, though from what little Linux I've seen, it's not
really the case that they have a lot of packages installed by default
anyway.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">&gt;      /var	0.5-2 GB	nosuid</pre><br>
<pre style="margin: 0em;">Most Linux distros put daemon data in /var, eg, web documents in
/var/www, database data in /var/lib/db-du-jour, and so on.
</pre></blockquote><pre style="margin: 0em;"><br>Yeah, I've seen that, and I really don't like it, because of backup
reasons.</pre><br>
<pre style="margin: 0em;">I divide my backup data into these basic categories:</pre><br>
<pre style="margin: 0em;">    1. Essential and non-reproducable: e.g., my subversion repository.
    This stuff goes on /home, which is always backed up.</pre><br>
<pre style="margin: 0em;">    2. Essential and reproducable, albeit with time. This usually
    includes the configuration under /etc (on the root partition), which
    I could regenerate, but which I'd rather not when trying to bring
    back a machine under time pressure. Whether or not I back this up
    depends on the cost of backup versus the cost of time it will take
    to rebuild the system. Usually I just back up the root partition,
    since it's small and thus relatively cheap to back up.</pre><br>
<pre style="margin: 0em;">    3. Essential and easily replacable: the operating system under /usr.
    This can easily be restored from OS install media. No backups. Same
    for the web sites (which can all be restored easily from subversion)
    and suchlike, which go under /u.</pre><br>
<pre style="margin: 0em;">    4. Non-essential and non-reproducable: log files, transient spool
    files, and temporary files under /var and /tmp. Though I might
    lose an in-transit mail message or two (I don't deliver mail to
    /var--that goes into users' home dirs), bringing a system back up
    from backups but with a fresh /var will leave you with a working
    system, even if you've lost some history of what happened before.</pre><br>
<pre style="margin: 0em;">Note that I don't believe that non-transient data, especially stuff that
gets large, belongs under /var. Especially, I wouldn't put a web site
there. I think that people do goes back to a misunderstanding of the
4.4BSD hierarchy design (which far predates Linux, BTW).</pre><br>
<pre style="margin: 0em;">Of course, this is changing and improving as I move on. I've now started
tarring up the mail spool and log files on some machines and placing
that tarball under /home before running the backup, so I do keep that
stuff, too, without having to back up all the other crud. Same for
webserver log files and other generated stuff that has come to reside
under /u.</pre><br>
<pre style="margin: 0em;">Databases are a special case: normally there's no point in backing up
the files directly, since a restore isn't guaranteed to bring back a
working database. You need to dump it with the appropriate database dump
tool, which again, I do and put the result in /home before backing up
that.</pre><br>
<pre style="margin: 0em;">Arwyn Hainsworth wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">You will have problems when you run out of space no matter how you
break up your partitions.
</pre></blockquote><pre style="margin: 0em;"><br>True, but having /var fill up becuase your logfiles, mail spool,
whatever overrun still lets your database on /u run just fine.</pre><br>
<pre style="margin: 0em;">Oh, I forgot to mention another good reason for a small, rarely-written
root: it's less likely to be corrupted in the case of flakey hardware
or OS bugs, and it will check and be repaired faster. Both of these
characteristics are very handy if you have a system designed to run
single-user with only what's on the root parition, as BSD is. This can
save a lot of time when you're trying to rescue what you can from a
server with corrupted filesystems.</pre><br>
<pre style="margin: 0em;">cjs
--
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974</pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">Re: [tlug] how filesystem works?</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">Re: [tlug] how filesystem works?</a></strong>
<ul><li><em>From:</em> Stuart Luppescu</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: [tlug] how filesystem works?</a></strong>
<ul><li><em>From:</em> emiddleton@example.com</li></ul></li>
<li><strong><a name="00019" href="msg00019.html">Re: [tlug] how filesystem works?</a></strong>
<ul><li><em>From:</em> Arwyn Hainsworth</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: [tlug] how filesystem works?</a></strong>
<ul><li><em>From:</em> emiddleton@example.com</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00044.html">[tlug] (no subject)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00046.html">Re: [tlug] Feisty Upgrade, USB issues and other oddities</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00033.html">Re: [tlug] how filesystem works?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00018.html">Re: [tlug] how filesystem works?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00045"><strong>Date</strong></a></li>
<li><a href="threads.html#00045"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
