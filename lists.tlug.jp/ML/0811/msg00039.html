<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Re: [RFC] Outline of the fast HTTP talk -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Tue, 04 Nov 2008 09:54:19 +0900 -->
<!--X-Message-Id: 20081104005417.GA27170@pragmatic.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87fxm9tfx7.fsf&#45;genuine&#45;vii@john.fremlin.org -->
<!--X-Reference: 20081103093743.GB14296@lucky.cynic.net -->
<!--X-Reference: 87zlkhrreb.fsf&#45;genuine&#45;vii@john.fremlin.org -->
<!--X-Reference: 20081103141806.GA12339@smtp.office.cynic.net -->
<!--X-Reference: 87wsfkab9i.fsf&#45;genuine&#45;vii@john.fremlin.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00038.html">Date Prev</a>][<a href="msg00040.html">Date Next</a>][<a href="msg00038.html">Thread Prev</a>][<a href="msg00040.html">Thread Next</a>][<a href="maillist.html#00039">Date Index</a>][<a href="threads.html#00039">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Re: [RFC] Outline of the fast HTTP talk</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 4 Nov 2008 09:54:18 +0900</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Re:%20%5BRFC%5D%20Outline%20of%20the%20fast%20HTTP%20talk">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Re: [RFC] Outline of the fast HTTP talk</strong></li>
<li>References: &lt;<a href="msg00029.html">87fxm9tfx7.fsf-genuine-vii@john.fremlin.org</a>&gt;	&lt;<a href="msg00033.html">20081103093743.GB14296@lucky.cynic.net</a>&gt;	&lt;<a href="msg00034.html">87zlkhrreb.fsf-genuine-vii@john.fremlin.org</a>&gt;	&lt;<a href="msg00037.html">20081103141806.GA12339@smtp.office.cynic.net</a>&gt;	&lt;<a href="msg00038.html">87wsfkab9i.fsf-genuine-vii@john.fremlin.org</a>&gt;</li>
<li>User-agent: Mutt/1.5.17 (2007-11-01)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 2008-11-03 18:56 +0000 (Mon), John Fremlin wrote:

&gt; &gt; As well: we gave up on ab quite a while ago, and use httperf[1] for
&gt; &gt; benchmarking. 
&gt; 
&gt; Why?

Because ab, at least the last time I used it, automatically rate-limited
itself to what the web server could handle.

If it still tells you how many requests per second the server can
handle, rather than you telling it how many to submit, it's still got
the same problem.

&gt; &gt; Httperf ... usually [runs] out of file descriptors long before
&gt; &gt; it's generated the kind of load a modern machine is capable of
&gt; &gt; generating.
&gt; 
&gt; Which is why it is useless for this. . .

I would disagree. That httperf does not slow down when the web server
does makes it exceedingly useful, actually. My major interest is not
just in how many requests per second a server can handle, but what
happens when it gets more than that. You'd be surprised at how many
systems, rather than degrading gracefully, collapse catastrophically.

I may not have given the right impression above, by the way. When I
said, &quot;the kind of load a modern machine is capable of generating,&quot; I
meant the kind of load a good test program, given enough IP addresses
and OS support for what it's doing, is capable of generating. This is
guaranteed to bring any web server running on similar hardware to its
knees, even ones like yours serving only dynamic requests with little
computation, which are about the cheapest requests you can serve. (Yes,
they're considerably cheaper than requests for static files.)

&gt; I get about 2k requests per second on one core of my laptop with the
&gt; following mongrel script....
&gt; 
&gt; Are you in that ballpark? 

Well, I've not benchmarked recently, but last time I checked, we were
handling more than 500 requests per second on a 700 MHz Pentium II, so
I'd say, yes we certainly are. Probably, given that on a multi-core
machine we can distribute the load amongst multiple back-ends, we're
faster. (Or does mongrel have the capability to use multiple processes?)

cjs
-- 
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974   
Mobile sites and software consulting: <a  href="http://www.starling-software.com">http://www.starling-software.com</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00040" href="msg00040.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00029" href="msg00029.html">[tlug] [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
<li><strong><a name="00033" href="msg00033.html">Re: [tlug] [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00034" href="msg00034.html">[tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
<li><strong><a name="00037" href="msg00037.html">[tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00038" href="msg00038.html">[tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00038.html">[tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00040.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00038.html">[tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00040.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00039"><strong>Date</strong></a></li>
<li><a href="threads.html#00039"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
