<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark) -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Thu, 06 Nov 2008 09:44:34 +0900 -->
<!--X-Message-Id: 20081106004433.GB8995@pragmatic.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 87fxm9tfx7.fsf&#45;genuine&#45;vii@john.fremlin.org -->
<!--X-Reference: 200811050006.06239.fcartegnie@free.fr -->
<!--X-Reference: 20081104235613.GB9096@pragmatic.cynic.net -->
<!--X-Reference: 200811051743.18977.fcartegnie@free.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00082.html">Date Prev</a>][<a href="msg00084.html">Date Next</a>][<a href="msg00082.html">Thread Prev</a>][<a href="msg00085.html">Thread Next</a>][<a href="maillist.html#00083">Date Index</a>][<a href="threads.html#00083">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 6 Nov 2008 09:44:33 +0900</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Re:%20%5BRFC%5D%20Outline%20of%20the%20fast%20HTTP%20talk%20%28PHP%20benchmark%29">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</strong></li>
<li>References: &lt;<a href="msg00029.html">87fxm9tfx7.fsf-genuine-vii@john.fremlin.org</a>&gt;	&lt;<a href="msg00061.html">200811050006.06239.fcartegnie@free.fr</a>&gt;	&lt;<a href="msg00062.html">20081104235613.GB9096@pragmatic.cynic.net</a>&gt;	&lt;<a href="msg00082.html">200811051743.18977.fcartegnie@free.fr</a>&gt;</li>
<li>User-agent: Mutt/1.5.17 (2007-11-01)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 2008-11-05 17:43 +0100 (Wed), Francois Cartegnie wrote:

&gt; There's the cpu affinity, which sets wich process runs on which cpu (the 
&gt; dynamic you mention)...

To be more precise, in the world of operating systems and
multiprocessing outside of Linux &quot;CPU affinity&quot; refers to the scheduler
preferring to schedule a process's next quantum to run on the same CPU
as the previous one, in order to take advantage of any residual cached
information in that CPU from the previous quantum.

To use it otherwise is a confusing misuse of the term. [Insert rant
about Linux folks changing common terminology here.]

&gt; ...but he uses the affinity tool function that changes the process
&gt; scheduler SCHED_FIFO (realtime) for the lighttpd process. Such
&gt; a process runs until it releases the cpu by itself, and is only
&gt; interruptible by a process of a higher priority.

Right. That's no longer affinity, and would probably best be called
&quot;changing how the process is scheduled.&quot; (Note that the &quot;run until it
blocks&quot; behaviour has nothing to do with affinity, and can just as well
be done on a single-processor system.)

&gt; So I think lighty is just doing sequencial processing of requests (as their 
&gt; process are with same prio, so all exclusive) and no more paralellism in 
&gt; processing is possible. 

Actually, one can gain more parallelism in two ways:

    1. Have multiple lighttpd worker threads (or is it processes? I
    can't remember off-hand) that can run in parallel.

    2. Distribute some of the request processing to other processes
    (running on the same or different hosts) via FastCGI.

cjs
-- 
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974   
Mobile sites and software consulting: <a  href="http://www.starling-software.com">http://www.starling-software.com</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00085" href="msg00085.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00029" href="msg00029.html">[tlug] [RFC] Outline of the fast HTTP talk</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
<ul><li><em>From:</em> Francois Cartegnie</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00082" href="msg00082.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
<ul><li><em>From:</em> Francois Cartegnie</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00082.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00084.html">Re: [tlug] Fast HTTP Talk, Httperf and Libevent,	Pre-talk Hacking	Session</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00082.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00085.html">Re: [tlug] Re: [RFC] Outline of the fast HTTP talk (PHP benchmark)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00083"><strong>Date</strong></a></li>
<li><a href="threads.html#00083"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
