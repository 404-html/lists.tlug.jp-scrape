<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: time -->
<!--X-From: John Seebach <jseebach@example.com> -->
<!--X-Date:  Fri, 5 Nov 1999 18:17:10 +0900 -->
<!--X-Message-Id: E11jYzl&#45;0000C6&#45;00@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199911041446.XAA17108@example.com -->
<!--X-Reference-Id: 14369.42744.621250.428377@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00036.html">Date Prev</A>][<A HREF="msg00038.html">Date Next</A>][<A HREF="msg00027.html">Thread Prev</A>][<A HREF="msg00030.html">Thread Next</A>][<A HREF="maillist.html#00037">Date Index</A>][<A HREF="threads.html#00037">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: time</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: time</strong></LI>
<LI><strong>From</strong>: <strong>John Seebach &lt;<A HREF="mailto:jseebach@example.com">jseebach@example.com</A>&gt;</strong></LI>
<LI>Date: Fri, 5 Nov 1999 11:20:53 +0900</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: text/plain; charset=iso-2022-jp</LI>
<LI>In-Reply-To: &lt;<A HREF="msg00027.html">14369.42744.621250.428377@example.com</A>&gt;; from Stephen J. Turnbull on Fri, Nov 05, 1999 at 12:32:08AM +0900</LI>
<LI>Mail-Followup-To: tlug@example.com</LI>
<LI>References: &lt;<A HREF="msg00024.html">199911041446.XAA17108@example.com</A>&gt; &lt;<A HREF="msg00027.html">14369.42744.621250.428377@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
On Fri, Nov 05, 1999 at 12:32:08AM +0900, Stephen J. Turnbull wrote:
&gt;     John&gt; The hardware clock in my laptop has an annoying habit of
&gt;     John&gt; losing time from, uh, time to time.
&gt; How much time?  And does it happen while you're running, or only when
&gt; you have a suspend/crash?

It usually happens when I have a suspend-crash, which fortunately doesn't
happen all that often. Well, ok, once I managed to make it drift 10-15
minutes by playing quake for a couple of hours, but fortunately, I almost
never play games. The crashes lose enough time (1, 2 hours) to be annoying.
Sometimes I suspend and it wakes up but takes 2 or 3 minutes for it to
start responding to input.  Sometimes it's fine, other times it never wakes
up at all.  After that, the time is mysteriously set back, apparently at
random, an hour or two. Even if I only suspended for 10 minutes or so
before the crash. 

&gt; Running?  Or booting?

Either. I'd rather not have to reboot, but that's usually what I end up
doing.

&gt; In general I think you're probably wrong; no matter what you do to
&gt; change the time, there's probably an app out there you can screw up
&gt; by doing it.

That's what I was afraid of. 

I think it's actually the system clock that's getting hosed *first*, and
then my running system is resetting the hardware clock to match the system
clock's odd time. The problem I'm having is this: There's a weird suspend
crash and then maybe the system comes back up (no reboot), running, only
both the system date and the hardware clock are set back an hour or more. I
can't reset the hardware clock and then reboot, because there's a script
that's called in /etc/rc[06].d that resets thehardware clock to the system
date. I guess I could remove this script, but not sure if that's a good
idea. My guess is that the first thing that gets hosed when there's apm
weirdness is the system date and the hardware clock gets set to match it a
minute or two later when I try to gracefully shut down the system.  If I
reboot, I can usually reset the time by setting the time in the bios.  But
I know that this can't be good for file dates, and it's probably not good
for anacron, either.

[ On the other hand, I don't really know what I'm talking about, that's why I
was asking ;-) ]

So, would it be safe to drop the system into single-user mode (cron gets
stopped on the way down and doesn't get started until I enter a multiuser
runlevel), reset the hwclock and the system date, and then take the system
back up to my default runlevel? There's already a script that gets called
in rcS.d that does a hwclock --hctosys, so it doesn't seem all that
dangerous.

Thanks for the advice,
john
-------------------------------------------------------------------
Next Technical Meeting: November 13 (Sat), 13:30 place: Temple Univ.
* Network Security                               speaker: Steve Baur
Next Nomikai: December 17 (Fri), 19:00 Tengu TokyoEkiMae 03-3275-3691
-------------------------------------------------------------------
more info: <A HREF="http://www.tlug.gr.jp">http://www.tlug.gr.jp</A>        Sponsor: Global Online Japan
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00024" HREF="msg00024.html">tlug: time</A></STRONG>
<UL><LI><EM>From:</EM> John Seebach &lt;jseebach@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00027" HREF="msg00027.html">tlug: time</A></STRONG>
<UL><LI><EM>From:</EM> "Stephen J. Turnbull" &lt;turnbull@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00036.html">RE: tlug: TV cards</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00038.html">Re: tlug: TV cards</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00027.html">tlug: time</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00030.html">Re: tlug: time</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00037"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00037"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
