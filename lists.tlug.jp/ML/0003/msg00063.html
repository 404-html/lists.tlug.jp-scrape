<!-- MHonArc v2.2.0 -->
<!--X-Subject: tlug: complex VPN problem (fwd) -->
<!--X-From: "Scott M. Stone" <sstone@example.com> -->
<!--X-Date:  Tue, 7 Mar 2000 04:51:48 +0900 -->
<!--X-Message-Id: Pine.LNX.4.10.10003061144400.26584&#45;100000@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00062.html">Date Prev</A>][<A HREF="msg00064.html">Date Next</A>][<A HREF="msg00093.html">Thread Prev</A>][<A HREF="msg00064.html">Thread Next</A>][<A HREF="maillist.html#00063">Date Index</A>][<A HREF="threads.html#00063">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>tlug: complex VPN problem (fwd)</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong>"Tokyo Linux Users' Group" &lt;<A HREF="mailto:tlug@example.com">tlug@example.com</A>&gt;</strong></LI>
<LI><strong>Subject</strong>: <strong>tlug: complex VPN problem (fwd)</strong></LI>
<LI><strong>From</strong>: <strong>"Scott M. Stone" &lt;<A HREF="mailto:sstone@example.com">sstone@example.com</A>&gt;</strong></LI>
<LI>Date: Mon, 6 Mar 2000 11:45:10 -0800 (PST)</LI>
<LI>Content-Type: TEXT/PLAIN; charset=US-ASCII</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

Here's a neat one for you - pptp/ppp/linux VPN... Let me know if you have
any ideas, this one is a bit of a mystery :)  thanks.

--------------------------
Scott M. Stone, CCNA &lt;sstone@example.com&gt;
UNIX Systems and Network Engineer
Taos - The SysAdmin Company 

---------- Forwarded message ----------
Date: Mon, 6 Mar 2000 08:05:31 -0800 (PST)
From: Scott M. Stone &lt;sstone@example.com&gt;
To: Taos Network List &lt;network@example.com&gt;
Subject: complex VPN problem


OK, this is a bit odd.. I have a Linux box with 2 ethernet cards.  One
card goes directly to my DSL line, with a static IP.  the other card goes
to an 8-port hub which has two other PCs attached to it.

Ok, so the IP masquerading/routing/firewalling/port forwarding seems to
work, all the machines can browse, etc, etc.  I have ipsec on the router
box as well, to connect to my client site for doing email at home through
their notes server, that works great as well.

HOWEVER, I tried to set up a pptp connection last night to a friend of
mine who's using Windows 98.  I installed and configured the linux pptpd
program, and installed PPP.  The pptp connection is established, pppd
starts and assigns IP addresses (I assigned my friend's remote machine an
IP on my private subnet, 192.168.81.0/24, and I'm using proxyarp with
pppd).  Now, pppd is working fine, or so I think.  From my ROUTER machine
(which is 192.168.81.1 (eth1), 63.248.27.129 (eth0), and now
192.168.81.100 (ppp0)), I can see the remote pc (on 192.168.81.101).  The
remote PC can ping ALL of the interfaces on the router, including
192.168.81.1.  HOWEVER, the problem is that the remote PC cannot access
192.168.81.2, which is one of my internal PCs on my 8-port hub.  Nor can
192.168.81.2 access the remote PC.  However, .2 can access the 'net
through that same gateway, and can access the LAN pointed to by ipsec0
without any problems.

What am I doing wrong here?  Should I be assigning ppp0 the same IP
address as eth1 (192.168.81.1?)  I also tried assigning a different subnet
for the ppp interface and then setting up routing -- same results, no
connectivity.

Any help is greatly appreciated... thanks.

--------------------------
Scott M. Stone, CCNA &lt;sstone@example.com&gt;
UNIX Systems and Network Engineer
Taos - The SysAdmin Company 


--------------------------------------------------------------------
Next Technical Meeting: March 11 (Sat) 13:00 Temple University Japan
* Topic: "What's new in Perl 5.6"
Guest speaker: Simon Cozens (TLUG Perl guru)
Next Nomikai Meeting: April 20 (Thu) Linux Conference 2000 Spring Ed.
--------------------------------------------------------------------
more info: <A TARGET="_top" HREF="http://www.tlug.gr.jp">http://www.tlug.gr.jp</A>        Sponsor: Global Online Japan

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00062.html">tlug: Ext3</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00064.html">tlug: Linux Agents/Robots ??</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00093.html">tlug: developerWorks (was Re: Journaling Filesystems)</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00064.html">tlug: Linux Agents/Robots ??</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00063"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00063"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
