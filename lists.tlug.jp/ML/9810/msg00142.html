<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: Re: search & replace (was: Grep for subdirectories?) -->
<!--X-From: Scott Perlman <perlman@example.com> -->
<!--X-Date:  Mon, 5 Oct 1998 15:52:39 +0900 -->
<!--X-Message-Id: 19981005155210.H3664@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 36175E56.CF2B701@example.com -->
<!--X-Reference-Id: Pine.LNX.3.96LJ1.1b7.981005093914.621j&#45;100000@example.com <3.0.6.32.19981005123400.0095c7c0@example.com -->
<!--X-Reference-Id: 19981005134228.A10159@example.com -->
<!--X-Reference-Id: 19981005143016.C3664@example.com -->
<!--X-Reference-Id: 19981005151819.A10276@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00141.html">Date Prev</A>][<A HREF="msg00143.html">Date Next</A>][<A HREF="msg00138.html">Thread Prev</A>][<A HREF="msg00144.html">Thread Next</A>][<A HREF="maillist.html#00142">Date Index</A>][<A HREF="threads.html#00142">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</strong></LI>
<LI><strong>From</strong>: <strong>Scott Perlman &lt;<A HREF="mailto:perlman@example.com">perlman@example.com</A>&gt;</strong></LI>
<LI>Date: Mon, 5 Oct 1998 15:52:10 +0900</LI>
<LI>Content-Type: text/plain; charset=us-ascii</LI>
<LI>In-Reply-To: &lt;<A HREF="msg00138.html">19981005151819.A10276@example.com</A>&gt;; from Rex Walters on Mon, Oct 05, 1998 at 03:18:19PM +0900</LI>
<LI>References: &lt;<A HREF="msg00107.html">36175E56.CF2B701@example.com</A>&gt; &lt;Pine.LNX.3.96LJ1.1b7.981005093914.621j-100000@example.com &lt;<A HREF="msg00129.html">3.0.6.32.19981005123400.0095c7c0@example.com</A>&gt; &lt;<A HREF="msg00131.html">19981005134228.A10159@example.com</A>&gt; &lt;<A HREF="msg00133.html">19981005143016.C3664@example.com</A>&gt; &lt;<A HREF="msg00138.html">19981005151819.A10276@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Rex Walters did state upon Mon, Oct 05, 1998 at 03:18:19PM +0900:
&gt; On Mon, Oct 05, 1998 at 02:30:16PM +0900, Scott Perlman wrote:
&gt; &gt; actually, just in the spirit of the subdirectories it should probably be 
&gt; &gt; find . -name '*.html' -e 'perl -pi.bak -e "s/match/replace/" {} ;'
&gt; &gt; 
&gt; &gt; (all that is is wrapping The provided perl witha find)
&gt; 
&gt; Actually, to be pedantic, Darren wrote:
&gt; 
&gt; &gt; &gt; &gt; I've a similar question: How do I do a search and replace operation on
&gt; &gt; &gt; &gt; files?
&gt; 
&gt; Thus I didn't specifically include any recursion into sub-directories.
&gt; 
&gt; But if you really wanted to do the search and replace on all the .html
&gt; files in an entire directory *tree*, you might be better off doing it
&gt; differently from how you've described unless you're quite certain that
&gt; there are only a few .html files.
&gt; 
&gt; The problem is that yours will fire off a new perl process for each and
&gt; every .html file found.  This can be pretty slow on a under-powered
&gt; (under-memoried) machine.  With only 200 html files it probably doesn't
&gt; matter (but if they are *big* html files ... ;-).
&gt; 
&gt; Better would be to do the recursion/inode-walk within perl (the find
&gt; module is useful for this) or to feed the filenames into stdin.  Both
&gt; options are sufficiently ugly as a one liner that I would probably break
&gt; down and write a real script.  :-)
&gt; 

Actually no, 
find . -name '*.html' -print | xargs perl -pi.bak -e "s/match/replace/"

Now you've got one perl process (or one per however many arguments
xargs supports)

And the question was how to find the files in recursed directories,
with a followup of how to operate on them..

-Scott (who hasn7t had to do enough real programming to learn all of
the modules andstuff for perl or anything else, but has picked up some
shell tricks here and there)

-- 
Why are we here? Because we're here! | Scott H. Perlman
  Roll The Bones!!  --RUSH	     | 
SH-T CRAPS AGAIN!!!!!!!		     | perlman@example.com
---------------------------------------------------------------
Next Meeting: 10 October, 12:30 Tokyo Station Yaesu central gate
Featuring the IMASY Eng. Team on "IPv6 - The Next Generation IP"
Next Nomikai: 20 November, 19:30  Tengu TokyoEkiMae 03-3275-3691
---------------------------------------------------------------
Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00144" HREF="msg00144.html">Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</A></STRONG>
<UL><LI><EM>From:</EM> Rex Walters &lt;rex@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00107" HREF="msg00107.html">tlug: Grep for subdirectories?</A></STRONG>
<UL><LI><EM>From:</EM> Neil Booth &lt;NeilB@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00131" HREF="msg00131.html">tlug: Re: search &amp; replace (was: Grep for subdirectories?)</A></STRONG>
<UL><LI><EM>From:</EM> Rex Walters &lt;rex@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00133" HREF="msg00133.html">Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</A></STRONG>
<UL><LI><EM>From:</EM> Scott Perlman &lt;perlman@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00138" HREF="msg00138.html">Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</A></STRONG>
<UL><LI><EM>From:</EM> Rex Walters &lt;rex@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00141.html">Re: tlug: Network Question</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00143.html">Re: tlug: Network Question</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00138.html">Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00144.html">Re: tlug: Re: search &amp; replace (was: Grep for subdirectories?)</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00142"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00142"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
