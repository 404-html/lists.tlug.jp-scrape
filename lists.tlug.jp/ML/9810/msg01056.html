<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: cpio WARNING -->
<!--X-From: Scott Perlman <perlman@example.com> -->
<!--X-Date:  Mon, 26 Oct 1998 16:59:33 +0900 -->
<!--X-Message-Id: 19981026165905.B26451@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.3.96LJ1.1b7.981026125524.20295k&#45;100000@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg01055.html">Date Prev</A>][<A HREF="msg01057.html">Date Next</A>][<A HREF="msg01044.html">Thread Prev</A>][<A HREF="msg01059.html">Thread Next</A>][<A HREF="maillist.html#01056">Date Index</A>][<A HREF="threads.html#01056">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: cpio WARNING</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: cpio WARNING</strong></LI>
<LI><strong>From</strong>: <strong>Scott Perlman &lt;<A HREF="mailto:perlman@example.com">perlman@example.com</A>&gt;</strong></LI>
<LI>Date: Mon, 26 Oct 1998 16:59:05 +0900</LI>
<LI>Content-Type: text/plain; charset=us-ascii</LI>
<LI>In-Reply-To: &lt;<A HREF="msg01044.html">Pine.LNX.3.96LJ1.1b7.981026125524.20295k-100000@example.com</A>&gt;; from Scott Stone on Mon, Oct 26, 1998 at 12:58:46PM +0900</LI>
<LI>References: &lt;<A HREF="msg01044.html">Pine.LNX.3.96LJ1.1b7.981026125524.20295k-100000@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Please, do NOT exit(0)

Ayone depending on cpio -c for a backup mechanism will happily use the
scripts they have gotten debugged and working forever, and as cpio
succeeds will not know things went wrong.

Give an exit code that makes more sense.

(also make sure tyou print to STDERR not STDOUT)

-Scott

Scott Stone did state upon Mon, Oct 26, 1998 at 12:58:46PM +0900:
&gt; 
&gt; do NOT use cpio with the '-c' flag (-c == use portable ASCII archive
&gt; format) on a glibc-based system.  There's some libc-internal data
&gt; structure whose size has changed between libc5 and glibc.  Any archive you
&gt; create on a glibc system with 'cpio -c' will be completely unreadable.
&gt; libc5 systems are not affected, and glibc systems can read 'cpio -c'
&gt; archives created on libc5 systems.
&gt; 
&gt; Despite the fact that this bug has been Reported to the right people,
&gt; there is no patch.  Use afio instead of cpio.
&gt; 
&gt; I'm patching TurboLinux's cpio (in 3.0) to say, "use afio instead" and
&gt; exit(0) when the -c flag is used.  Data loss is not fun :)
&gt; 
&gt; This bug is easily verifiable by simply creating a cpio archive with -c
&gt; and then trying to extract it somewhere else.
&gt; 
&gt; Affected systems are Redhat 5.0, 5.1, TurboLinux 2.0, Debian 2.0, and
&gt; anything else that's glibc based and has a glibc-built cpio binary.
&gt; 
&gt; --------------------------------------------------
&gt; Scott M. Stone &lt;sstone@example.com, sstone@example.com&gt;
&gt;                &lt;sstone@example.com&gt;
&gt; Head of TurboLinux Development/Systems Administrator
&gt; Pacific HiTech, Inc (USA) / Pacific HiTech, KK (Japan)
&gt; <A TARGET="_top" HREF="http://www.pht.com">http://www.pht.com</A>		<A TARGET="_top" HREF="http://armadillo.pht.co.jp">http://armadillo.pht.co.jp</A>
&gt; <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>	        <A TARGET="_top" HREF="http://www.turbolinux.com">http://www.turbolinux.com</A>
&gt; 
&gt; 
&gt; ---------------------------------------------------------------
&gt; Next Nomikai: 20 November, 19:30 Tengu TokyoEkiMae 03-3275-3691
&gt; Next Technical Meeting: January, 1999 (details TBA)
&gt; ---------------------------------------------------------------
&gt; Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>
&gt;&gt;&gt;end

-- 
"Then I was inspired,			| Scott Perlman
 Now I'm sad and tired,			| perlman@example.com
 After all I've tried for three years,  
 Seems like ninety." JC-JCS-ALW 
---------------------------------------------------------------
Next Nomikai: 20 November, 19:30 Tengu TokyoEkiMae 03-3275-3691
Next Technical Meeting: January, 1999 (details TBA)
---------------------------------------------------------------
Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="01059" HREF="msg01059.html">Re: tlug: cpio WARNING</A></STRONG>
<UL><LI><EM>From:</EM> Scott Stone &lt;sstone@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="01044" HREF="msg01044.html">tlug: cpio WARNING</A></STRONG>
<UL><LI><EM>From:</EM> Scott Stone &lt;sstone@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg01055.html">Re: tlug: Kanji to Hiragana soft</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg01057.html">Re: tlug: Netscape major 'OOPS'!</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg01044.html">tlug: cpio WARNING</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg01059.html">Re: tlug: cpio WARNING</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#01056"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#01056"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
