<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] comand&#45;line recording... -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Mon, 28 Sep 2009 17:57:11 +0900 -->
<!--X-Message-Id: 20090928085710.GN9366@analytic.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20090926130503.GB16381@analytic.cynic.net -->
<!--X-Reference: 200909270030.37285.tlug@extellisys.net -->
<!--X-Reference: c0f4e2b00909260748p7570cd36lad848ef24df94c83@mail.gmail.com -->
<!--X-Reference: 87d45dn40s.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 87fxa9n5lx.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: c0f4e2b00909260641x1bd35d27h8ebb14a1e14b336f@mail.gmail.com -->
<!--X-Reference: 20090927154133.GD1381@poetic.cynic.net -->
<!--X-Reference: c0f4e2b00909272358v1d9cc34cl14985694b5aad177@mail.gmail.com -->
<!--X-Reference: 20090928072859.GH9366@analytic.cynic.net -->
<!--X-Reference: c0f4e2b00909280105g5f5a999br85458d793b35c6af@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00275.html">Date Prev</a>][<a href="msg00277.html">Date Next</a>][<a href="msg00273.html">Thread Prev</a>][<a href="msg00277.html">Thread Next</a>][<a href="maillist.html#00276">Date Index</a>][<a href="threads.html#00276">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] comand-line recording...</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 28 Sep 2009 17:57:10 +0900</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] comand-line recording...</strong></li>
<li>References: &lt;<a href="mailto:20090926130503.GB16381@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090926130503.GB16381@example.com</a>&gt;	&lt;<a href="mailto:200909270030.37285.tlug@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">200909270030.37285.tlug@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909260748p7570cd36lad848ef24df94c83@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909260748p7570cd36lad848ef24df94c83@example.com</a>&gt;	&lt;<a href="mailto:87d45dn40s.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">87d45dn40s.fsf@example.com</a>&gt;	&lt;<a href="mailto:87fxa9n5lx.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">87fxa9n5lx.fsf@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909260641x1bd35d27h8ebb14a1e14b336f@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909260641x1bd35d27h8ebb14a1e14b336f@example.com</a>&gt;	&lt;<a href="mailto:20090927154133.GD1381@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090927154133.GD1381@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909272358v1d9cc34cl14985694b5aad177@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909272358v1d9cc34cl14985694b5aad177@example.com</a>&gt;	&lt;<a href="mailto:20090928072859.GH9366@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090928072859.GH9366@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909280105g5f5a999br85458d793b35c6af@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909280105g5f5a999br85458d793b35c6af@example.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 2009-09-28 17:05 +0900 (Mon), Bruno Raoult wrote:

&gt; The situation: Developers and support people. They all have access to
&gt; production machines. Audit does not like it.

&gt; So what I proposed the audit was: &quot;we cannot avoid to have developers
&gt; accessing our production environment. But we will have a log of what
&gt; they do on this environment. Thay said it was an acceptable solution.

That seems like a reasonable stop-gap measure to fill in for the moment,
until you can implement something better.

What I'm suspecting here is that you've fallen into the situation
where the audit people said &quot;the developers must not be able to change
the audit logfile,&quot; but really meant that they wanted developers to
be unable to subvert the auditing. If you explain to them that there
are many other ways of subverting the auditing, and that developers
modifying the log files is far less likely to happen accidently than
many of these other subversions (such as forgetting to turn on the
auditing!), they may drop that requirement as fairly pointless, freeing
up your time and energy to concentrate on fixing the overall problem
rather than just that one aspect of it.

&gt; &gt; I don't use generic accounts myself, for a lot of very good reasons....

&gt; I am sure you do use generic accounts. root is one.
&gt; If you have an &quot;apache&quot; server, what is its uid? Yours? Surely not.

Those accounts exist; no person ever logs into them, or is able to log
into them. (They have neither password nor ssh access.) Any particular
person always logs into a machine using an account dedicated to him
only. Anything done as those &quot;role&quot; accounts is done through using sudo
to run a command as that user, which is logged.

&gt; I want to know that Fred changed a config file, on Wednesday 3:00, and
&gt; I want to know that Joe did something at 3:05 on the same file. And
&gt; They should not be able to change this history files (syslog is fine,
&gt; then)...

I think that the requirement &quot;they should not be able to change the
history files&quot; is badly specified, and what you really want is,
&quot;they should not be able to subvert the logging.&quot; That's probably an
impractical requirement, so you need to look instead at the most common
ways the logging could be subverted, and try and deal with those.
Especially if you are not dealing with malicious users, you want to
concentrate on that common human errors, of which modifying log files is
not a typical one.

Keep in mind, also, that an audit trail is useful only to the extent
that it can also be processed, as well as generated. Using script to
track who's edited a file, especially if it's edited using a visual
editor, is going to be very difficult to audit, since the script file is
going to be quite difficult to read.

For configuration files in particular, I suggest keeping them in
revision control. That provides an excellent way to track who changed
a file, when, and what the changes were. There are a lot of ways of
implementing this particular idea, of course, and the details of what
will work well for you will vary widely depending on all of the other
details of your particular situation.

cjs
-- 
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974
           Functional programming in all senses of the word:
                   <a  rel="nofollow" href="http://www.starling-software.com">http://www.starling-software.com</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00277" href="msg00277.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00252" href="msg00252.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00259" href="msg00259.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> tlug</li></ul></li>
<li><strong><a name="00257" href="msg00257.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00258" href="msg00258.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00255" href="msg00255.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00253" href="msg00253.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00265" href="msg00265.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00271" href="msg00271.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00272" href="msg00272.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00273" href="msg00273.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00275.html">Re: [tlug] Trying to compare settings of two different PHP servers [SOLVED]</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00277.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00273.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00277.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00276"><strong>Date</strong></a></li>
<li><a href="threads.html#00276"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
