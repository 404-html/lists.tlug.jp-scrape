<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] comand&#45;line recording... -->
<!--X-From-R13: Pehab Dnbhyg <oenbhygNtznvy.pbz> -->
<!--X-Date: Mon, 28 Sep 2009 18:33:23 +0900 -->
<!--X-Message-Id: c0f4e2b00909280232h7c228270ve8397314070f3eb9@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20090926130503.GB16381@analytic.cynic.net -->
<!--X-Reference: c0f4e2b00909260748p7570cd36lad848ef24df94c83@mail.gmail.com -->
<!--X-Reference: 87d45dn40s.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 87fxa9n5lx.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: c0f4e2b00909260641x1bd35d27h8ebb14a1e14b336f@mail.gmail.com -->
<!--X-Reference: 20090927154133.GD1381@poetic.cynic.net -->
<!--X-Reference: c0f4e2b00909272358v1d9cc34cl14985694b5aad177@mail.gmail.com -->
<!--X-Reference: 20090928072859.GH9366@analytic.cynic.net -->
<!--X-Reference: c0f4e2b00909280105g5f5a999br85458d793b35c6af@mail.gmail.com -->
<!--X-Reference: 20090928085710.GN9366@analytic.cynic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00276.html">Date Prev</a>][<a href="msg00278.html">Date Next</a>][<a href="msg00276.html">Thread Prev</a>][<a href="msg00278.html">Thread Next</a>][<a href="maillist.html#00277">Date Index</a>][<a href="threads.html#00277">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] comand-line recording...</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 28 Sep 2009 18:32:31 +0900</li>
<li><strong>From</strong>: <strong>Bruno Raoult &lt;<a href="mailto:braoult@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">braoult@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] comand-line recording...</strong></li>
<li>References: &lt;<a href="mailto:20090926130503.GB16381@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090926130503.GB16381@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909260748p7570cd36lad848ef24df94c83@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909260748p7570cd36lad848ef24df94c83@example.com</a>&gt; 	&lt;<a href="mailto:87d45dn40s.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">87d45dn40s.fsf@example.com</a>&gt;	&lt;<a href="mailto:87fxa9n5lx.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">87fxa9n5lx.fsf@example.com</a>&gt; 	&lt;<a href="mailto:c0f4e2b00909260641x1bd35d27h8ebb14a1e14b336f@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909260641x1bd35d27h8ebb14a1e14b336f@example.com</a>&gt; 	&lt;<a href="mailto:20090927154133.GD1381@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090927154133.GD1381@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909272358v1d9cc34cl14985694b5aad177@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909272358v1d9cc34cl14985694b5aad177@example.com</a>&gt; 	&lt;<a href="mailto:20090928072859.GH9366@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090928072859.GH9366@example.com</a>&gt;	&lt;<a href="mailto:c0f4e2b00909280105g5f5a999br85458d793b35c6af@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">c0f4e2b00909280105g5f5a999br85458d793b35c6af@example.com</a>&gt; 	&lt;<a href="mailto:20090928085710.GN9366@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20comand-line%20recording...">20090928085710.GN9366@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Mon, Sep 28, 2009 at 17:57, Curt Sampson &lt;cjs@example.com&gt; wrote:
&gt;&gt; The situation: Developers and support people. They all have access to
&gt;&gt; production machines. Audit does not like it.
&gt;
&gt;&gt; So what I proposed the audit was: &quot;we cannot avoid to have developers
&gt;&gt; accessing our production environment. But we will have a log of what
&gt;&gt; they do on this environment. Thay said it was an acceptable solution.
&gt;
&gt; That seems like a reasonable stop-gap measure to fill in for the moment,
&gt; until you can implement something better.
&gt;
&gt; What I'm suspecting here is that you've fallen into the situation
&gt; where the audit people said &quot;the developers must not be able to change
&gt; the audit logfile,&quot; but really meant that they wanted developers to
&gt; be unable to subvert the auditing.

Maybe. But I will not say anything about this... I got their requirements.
I will surely not ask for more strong rules...

&gt; If you explain to them that there
&gt; are many other ways of subverting the auditing, and that developers
&gt; modifying the log files is far less likely to happen accidently than
&gt; many of these other subversions (such as forgetting to turn on the
&gt; auditing!), they may drop that requirement as fairly pointless, freeing
&gt; up your time and energy to concentrate on fixing the overall problem
&gt; rather than just that one aspect of it.

The auditing being automatic, the developers will no need to forget anything...

&gt;&gt; &gt; I don't use generic accounts myself, for a lot of very good reasons....
&gt;
&gt;&gt; I am sure you do use generic accounts. root is one.
&gt;&gt; If you have an &quot;apache&quot; server, what is its uid? Yours? Surely not.
&gt;
&gt; Those accounts exist; no person ever logs into them, or is able to log
&gt; into them. (They have neither password nor ssh access.) Any particular
&gt; person always logs into a machine using an account dedicated to him
&gt; only. Anything done as those &quot;role&quot; accounts is done through using sudo
&gt; to run a command as that user, which is logged.

So I guess you configure apache with root account... Which is worse
than anything...
&quot;root&quot; was a very bad idea in Unix systems... Old VMS systems had
better management
systems...

&gt; I think that the requirement &quot;they should not be able to change the
&gt; history files&quot; is badly specified, and what you really want is,
&gt; &quot;they should not be able to subvert the logging.&quot; That's probably an
&gt; impractical requirement, so you need to look instead at the most common
&gt; ways the logging could be subverted, and try and deal with those.
&gt; Especially if you are not dealing with malicious users, you want to
&gt; concentrate on that common human errors, of which modifying log files is
&gt; not a typical one.

Good point. I totally agree... But Audit will not. They agree we are
not dealing with malicious
users. But they want to be sure the log files are untouched... Their
logic is not mine :-)

&gt; Keep in mind, also, that an audit trail is useful only to the extent
&gt; that it can also be processed, as well as generated. Using script to
&gt; track who's edited a file, especially if it's edited using a visual
&gt; editor, is going to be very difficult to audit, since the script file is
&gt; going to be quite difficult to read.

Maybe not: A &quot;grep&quot; will allow to find commands, right?

&gt; For configuration files in particular, I suggest keeping them in
&gt; revision control. That provides an excellent way to track who changed
&gt; a file, when, and what the changes were. There are a lot of ways of
&gt; implementing this particular idea, of course, and the details of what
&gt; will work well for you will vary widely depending on all of the other
&gt; details of your particular situation.

Yes, except that we are speaking about production system. For instance:
&quot;I cannot send an order to SGX, opening is in 3 minutes...&quot;. In that
case we need to
check log files, call brokers, and make a fast change...
We really make the changes directly on production systems for this reason.

Bruno.

-- 
2 + 2 = 5, for very large values of 2.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00278" href="msg00278.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00252" href="msg00252.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00257" href="msg00257.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00258" href="msg00258.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00255" href="msg00255.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00253" href="msg00253.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00265" href="msg00265.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00271" href="msg00271.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00272" href="msg00272.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00273" href="msg00273.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00276" href="msg00276.html">Re: [tlug] comand-line recording...</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00276.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00278.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00276.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00278.html">Re: [tlug] comand-line recording...</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00277"><strong>Date</strong></a></li>
<li><a href="threads.html#00277"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
