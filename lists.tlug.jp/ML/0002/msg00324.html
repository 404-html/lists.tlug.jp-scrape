<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: networking woes -->
<!--X-From: Selva Nair <selva@example.com&#45;net.co.jp> -->
<!--X-Date:  Tue, 29 Feb 2000 23:21:59 +0900 -->
<!--X-Message-Id: Pine.LNX.3.95.1000229230125.1223A&#45;100000@example.com&#45;selva.trc&#45;net.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: E12PmNd&#45;0000KX&#45;00@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00323.html">Date Prev</A>][<A HREF="msg00325.html">Date Next</A>][<A HREF="msg00323.html">Thread Prev</A>][<A HREF="msg00325.html">Thread Next</A>][<A HREF="maillist.html#00324">Date Index</A>][<A HREF="threads.html#00324">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: networking woes</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong>tlug &lt;<A HREF="mailto:tlug@example.com">tlug@example.com</A>&gt;</strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: networking woes</strong></LI>
<LI><strong>From</strong>: <strong>Selva Nair &lt;<A HREF="mailto:selva@example.com">selva@example.com</A>&gt;</strong></LI>
<LI>Date: Tue, 29 Feb 2000 23:16:20 +0900 (JST)</LI>
<LI>Content-Type: TEXT/PLAIN; charset=US-ASCII</LI>
<LI>In-Reply-To: &lt;<A HREF="msg00322.html">E12PmNd-0000KX-00@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>


On Tue, 29 Feb 2000, John Seebach wrote:

&gt;  Kernel IP routing table
&gt;  Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
&gt;  localnet        *               255.255.255.0   U     0      0        0 eth0

That should be enough for the local net to be accessible.

&gt;  default         localhost       0.0.0.0         UG    1      0        0 lo

Here is a default route through the loopback with local host as
the gateway (see the flas UG). Normally it should be the normal
loopback route with  no gateway, and mask 255.0.0.0 that gets
automatically set up by 'ifconfig lo 127.0.0.1' . Older versions of
ifconfig required an explicit 'route add -net 127.0.0.1', though.   But
in any case, the loopback route needs no gateway, should have mask 
255.0.0.0 and is not made default.

&gt;  
&gt;  ----------------------------------------------------------------------------
&gt;  ...and again, after starting my ppp daemon
&gt;  

&gt;  
&gt;  Kernel IP routing table
&gt;  Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
&gt;  210.175.27.15   *               255.255.255.255 UH    0      0        0 ppp0
&gt;  localnet        *               255.255.255.0   U     0      0        0 eth0
&gt;  default         localhost       0.0.0.0         UG    1      0        0 lo

I think it is because of this default route that ppp is not setting up
the correct defualt route via ppp0.

&gt;  
&gt;  ----------------------------------------------------------------------------
&gt;  
&gt;  I suspect that what's happening here is some script somewhere (likely
&gt;  /etc/pcmcia/network.opts) is setting my defaultroute to be localhost
&gt;  after I insert the card. There's a variable in the script
&gt;  
&gt;  GATEWAY="127.0.0.1"

You dont need this. The loop back is configured by 
ifconfig lo 127.0.0.1.

&gt;  
&gt;  that appears to be responsible this behavior. If I comment it out, I
&gt;  can use ppp, but I can't use my local network. But, if it's there,

Really ? 

&gt;  when i establish a ppp connection, my isp's nameserver is not the
&gt;  default route. Arrgh.
&gt;  
&gt;  Can anybody tell me what I'm doing wrong?
&gt;  
&gt;  john
&gt;  

Selva

--------------------------------------------------------------------
Next Technical Meeting: March 11 (Sat) 13:00 Temple University Japan
* Topic: "What's new in Perl 5.6"
Guest speaker: Simon Cozens (TLUG Perl guru)
Next Nomikai Meeting:   April 21 (Fri) 19:00 Tengu TokyoEkiMae
--------------------------------------------------------------------
more info: <A TARGET="_top" HREF="http://www.tlug.gr.jp">http://www.tlug.gr.jp</A>        Sponsor: Global Online Japan

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00325" HREF="msg00325.html">Re: tlug: networking woes</A></STRONG>
<UL><LI><EM>From:</EM> John Seebach &lt;jseebach@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00322" HREF="msg00322.html">tlug: networking woes</A></STRONG>
<UL><LI><EM>From:</EM> John Seebach &lt;jseebach@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00323.html">Re: tlug: networking woes -- never mind</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00325.html">Re: tlug: networking woes</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00323.html">Re: tlug: networking woes -- never mind</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00325.html">Re: tlug: networking woes</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00324"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00324"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
