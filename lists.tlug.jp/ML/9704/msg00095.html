<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: Broken fs? -->
<!--X-From: "Stephen J. Turnbull" <turnbull@example.com> -->
<!--X-Date:  Fri, 25 Apr 1997 02:10:56 GMT -->
<!--X-Message-Id: m0wKaOe&#45;000010C@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 20371.861841300@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00094.html">Date Prev</A>][<A HREF="msg00096.html">Date Next</A>][<A HREF="msg00093.html">Thread Prev</A>][<A HREF="msg00097.html">Thread Next</A>][<A HREF="maillist.html#00095">Date Index</A>][<A HREF="threads.html#00095">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: Broken fs?</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: Broken fs? </strong></LI>
<LI><strong>From</strong>: <strong>"Stephen J. Turnbull" &lt;<A HREF="mailto:turnbull@example.com">turnbull@example.com</A>&gt;</strong></LI>
<LI>Date: Fri, 25 Apr 1997 11:06:00 +0900</LI>
<LI>In-reply-to: Your message of "Thu, 24 Apr 1997 09:21:40 +0900."            &lt;<A HREF="msg00093.html">20371.861841300@example.com</A>&gt; </LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: owner-tlug</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
--------------------------------------------------------
tlug note from "Stephen J. Turnbull" &lt;turnbull@example.com&gt;
--------------------------------------------------------
On replacing "risky" hard drives:  I wouldn't go out and replace it in 
panic; we're talking very small samples here.  *Two people* have had
bad experiences with Micropolis, and one with WD (come to think of it, 
I think that the other disk that went bad on me recently was a 1.x GB
WD Caviar...).  On the other hand, John Little was giving away little
(100MB) Quantum disks with labels like "sometimes won't spin up".

Moral:  if a hard drive has data on it, it will eventually fail,
losing all the data.  (Sounds familiar, hmmm, McMurchy's Law or
something like that :-)

So stay backed up.

&gt;&gt;&gt;&gt;&gt; "Francis" == Francis Brian O'Carroll &lt;ocarroll@example.com&gt; writes:

    Francis&gt; Dennis McMurchy &lt;denismcm@example.com&gt; said

    &gt;&gt; Also, anyone have any thoughts on the pros and cons of backing
    &gt;&gt; up one HD on another HD (I'm already doing this on my machine
    &gt;&gt; in Canada and would do it here too if I had another drive
    &gt;&gt; installed).

Well, that's how Tandem Nonstops do it (of course they also have two
CPUs and two banks of RAM so everything is tell-me-twice).  Seems
expensive to me, though (see below).

    Francis&gt; My guess is that if the drives (or partitions) are
    Francis&gt; exactly the same it would be a fast way because you could
    Francis&gt; just do dd if=rawhd#1 of=rawhd#2 bs=1024x1024
    Francis&gt; or something like that to make an exact disk image (the
    Francis&gt; bs is for performance). Then you would take hd#2 off line
    Francis&gt; (unmount?)  so that you couldn't accidently trash it.

It already _is_ unmounted if you do that (I think); and as long as you
don't normally run as root, you can't even read a device special.

    Francis&gt; On the other hand if hd#1 physically crashes while you
    Francis&gt; are doing the backup then you have lost hd#1 and hd#2 is
    Francis&gt; inconsistent.

Or the machine could crash in the middle of the backup, and then hd#1
could crash later but before the next backup.  This happened to my
Institute once (tape backup).  Fortunately, all they lost was some
student directories, all but 3 of who had graduated long before, and
those three hadn't logged on since they were freshman.

    Francis&gt; I'm thinking about dividing my fixed disk into partitions
    Francis&gt; the same size as a JAZ disk so I could do the same thing
    Francis&gt; but remove the JAZ disks; any comments?

Specifically, it's not clear to me that you can do it.  I guess it
should work; certainly if you make the HD partitions slightly smaller
than the JAZ disk.  On the other hand, the JAZ disks will likely be
useless as archival material (different partition headers and stuff)
unless you have a free partition of the proper size to load them into.
So this is not a strategy that would allow you to move old data
offline and then read it from the JAZ disk, as a conventional file
copy would.  I think; maybe if the file systems are the same you're
OK.

Hmmm.  Well, looking at my hard drives, I have about 1.5GB of data.
About 500 MB is duplicates (multiple linux installations) or a total
loss (Windows 3.1 on the DOS partition that I never bothered to clean
out).  Of that 1GB, about 150MB is not available on CD or online on
the Web on sites I consider fast (&gt;10kB/sec ftp throughput), or
generatable by compiling something that's available online.  Of that
150MB, about 75MB is related to the Hanshin-Dai-Shinsai (a mirror, now
2 years old, of the Kobe City University of Foreign Studies and lots
of other junk).  That leaves about 75MB of data that I've generated
over the years, and I keep _all_ my email back to about 1990, use RCS
for practically everything, and have a few Netscrap cache files, too :-).

YMMV, but it seems to me that in general a single JAZ disk or MO or
floppy tape is going to be enough to save your data.  If you really
truly expect to need to get your system back up and running within 10
minutes after a hard disk crash, then mirrored hard drives are
probably a must.  But for most people, a boot disk, a CD-ROM with a
"live" file system, and a 100-200MB back-up device should be enough
for a personal system.  (Multiuser systems are a whole 'nother thing,
and I guess if you have a lot of custom images and movies, you could
end up in the terabyte range.  But then you should be burning CD-ROMs, 
no?  They don't change.)

I just leave an MO in the drive and overwrite it every night using `cp
--recursive /home /MO/'.  You wouldn't be able to do that with the "dd
to JAZ" strategy; you'd need to swap disks for many partitions.

Of course, you do have to be a little careful; I have accumulated a
small amount of custom Emacs LISP over the years, but I wouldn't want
to live without it.  It lives in /usr/local/share/emacs/site-lisp or
something like that, so wouldn't be caught in a first-order directory
of configuration info, such as /etc, or user info, such as /home.  But
if you back up /etc and /home, that should be enough to get restarted.
And you can add all the odd places with configuration information as
special cases.

This strategy does require substantial organization.  On the other
hand, every time I've had to restore a backup (three times, total, one
of them my fault: "rm `find &lt;something really dumb&gt;`"), I used the
opportunity to repartition and reorganize, slimming down the data
bloat and making file system navigation easier.  So it's not clear to
me that verbatim backups are necessarily the best way to go in any
case.

-- 
                            Stephen J. Turnbull
Institute of Policy and Planning Sciences                    Yaseppochi-Gumi
University of Tsukuba                      <A TARGET="_top" HREF="http://turnbull.sk.tsukuba.ac.jp/">http://turnbull.sk.tsukuba.ac.jp/</A>
Tel: +81 (298) 53-5091;  Fax: 55-3849              turnbull@example.com
-----------------------------------------------------------------
a word from the sponsor will appear below
-----------------------------------------------------------------
The TLUG mailing list is proudly sponsored by TWICS - Japan's First
Public-Access Internet System.  Now offering 20,000 yen/year flat
rate Internet access with no time charges.  Full line of corporate
Internet and intranet products are available.   info@example.com
Tel: 03-3351-5977   Fax: 03-3353-6096

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00093" HREF="msg00093.html">Re: tlug: Broken fs?</A></STRONG>
<UL><LI><EM>From:</EM> "Francis Brian O'Carroll" &lt;ocarroll@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00094.html">tlug: Kanji can't get through.</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00096.html">tlug: Japanese Email in emacs</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00093.html">Re: tlug: Broken fs?</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00097.html">Re: tlug: Broken fs?</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00095"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00095"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
