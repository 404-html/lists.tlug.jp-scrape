<!-- MHonArc v2.5.2 -->
<!--X-Subject: [tlug] Re: routing question -->
<!--X-From-R13: Fbovnf Rvrqevpu <enaznNgqvrqevpu.qr> -->
<!--X-Date: Sat, 26 Jun 2004 22:07:03 +0200 -->
<!--X-Message-Id: 20040626200700.GD13647@example.com&#45;a&#45;geek.org -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: 20040626195119.5450ddc0.tlug@example.com -->
<!--X-Reference: 20040626110829.GA30783@example.com -->
<!--X-Reference: 20040626205150.7e11be74.tlug@example.com -->
<!--X-Reference: 20040626120306.GB30950@example.com -->
<!--X-Reference: 20040626214921.5ad8fb7f.tlug@example.com -->
<!--X-Derived: pgp00046.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00213.html">Date Prev</a>][<a href="msg00215.html">Date Next</a>][<a href="msg00242.html">Thread Prev</a>][<a href="msg00218.html">Thread Next</a>][<a href="maillist.html#00214">Date Index</a>][<a href="threads.html#00214">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Re: routing question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sat, 26 Jun 2004 22:07:03 +0200</li>
<li><strong>From</strong>: <strong>Tobias Diedrich &lt;<A HREF="mailto:ranma@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Re%3A%20routing%20question">ranma@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Re: routing question</strong></li>
<li>References: &lt;<a href="msg00201.html">20040626195119.5450ddc0.tlug@example.com</a>&gt; &lt;<a href="msg00202.html">20040626110829.GA30783@example.com</a>&gt; &lt;<a href="msg00203.html">20040626205150.7e11be74.tlug@example.com</a>&gt; &lt;<a href="msg00204.html">20040626120306.GB30950@example.com</a>&gt; &lt;<a href="msg00205.html">20040626214921.5ad8fb7f.tlug@example.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.5.1+cvs20040105i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Botond Botyanszki wrote:

&gt; I have no problem accessing this network from the firewall, but cant get
&gt; to the zaurus at 192.168.129.201. Same in reverse.
&gt; 
&gt; In a diagram it's like this:
&gt; 
&gt;    +-------------------------------------&gt;
&gt;    |                   &lt;----------------------------------+
&gt;  firewall         laptop eth0      laptop usb0        zaurus usbd0
&gt; 192.168.1.1 &lt;--&gt; 192.168.2.12 &lt;--&gt; 192.168.129.1 &lt;--&gt; 192.168.129.201
&gt; 
&gt; Trying to assign a different gw for the zaurus other than 192.168.129.1
&gt; gives a &quot;network unreachable&quot; error.

I _guess_ that the packets from your zaurus reach their destination,
but the reply doesn't get back to your zaurus because you didn't set up
your routing for the reverse direction.

The machine with IP 192.168.2.1 or its default gw needs to know that it
has to route packets destined to 192.168.129.201 over your notebook.

You can avoid fiddling with the other routing tables by masquerading the
packets from your zaurus on your notebook.

A packet sniffer like ethereal or tcpdump is a good tool to check where
the packets get stuck.  Sometimes enabling logging of martians and
disabling the reverse path filter can also help debugging complicated
setups (/proc/sys/net/ipv4/conf/*/(rp_filter|log_martians)).

-- 
Tobias						PGP: <A  HREF="http://9ac7e0bc.2ya.com">http://9ac7e0bc.2ya.com</A>
Beware of bugs in the above code; I have only proved it correct, but
not tried it.    -- Donald Knuth
</pre>
<p><strong>Attachment:
<a href="pgp00046.pgp" ><tt>signature.asc</tt></a></strong><br>
<em>Description:</em> Digital signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00218" href="msg00218.html">Re: [tlug] Re: routing question</a></strong>
<ul><li><em>From:</em> Botond Botyanszki</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00201" href="msg00201.html">[tlug] routing question</a></strong>
<ul><li><em>From:</em> Botond Botyanszki</li></ul></li>
<li><strong><a name="00202" href="msg00202.html">Re: [tlug] routing question</a></strong>
<ul><li><em>From:</em> uvacoder</li></ul></li>
<li><strong><a name="00203" href="msg00203.html">Re: [tlug] routing question</a></strong>
<ul><li><em>From:</em> Botond Botyanszki</li></ul></li>
<li><strong><a name="00204" href="msg00204.html">Re: [tlug] routing question</a></strong>
<ul><li><em>From:</em> uvacoder</li></ul></li>
<li><strong><a name="00205" href="msg00205.html">Re: [tlug] routing question</a></strong>
<ul><li><em>From:</em> Botond Botyanszki</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00213.html">Re: [tlug] routing question</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00215.html">Re: [tlug] routing question</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00242.html">Re: [tlug] routing question</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00218.html">Re: [tlug] Re: routing question</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00214"><strong>Date</strong></a></li>
<li><a href="threads.html#00214"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
