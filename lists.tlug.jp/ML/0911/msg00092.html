<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] WAN fail&#45;over configuration in Linux&#45;based router -->
<!--X-From-R13: Oggvyn Yvanyv <nggvynNxvanyv.pu> -->
<!--X-Date: Thu, 05 Nov 2009 23:19:05 +0900 -->
<!--X-Message-Id: 20091105150722.31168563.attila@kinali.ch -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1a4744f80911050525g55066627ga0fe428222da8ce5@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00091.html">Date Prev</a>][<a href="msg00093.html">Date Next</a>][<a href="msg00097.html">Thread Prev</a>][<a href="msg00093.html">Thread Next</a>][<a href="maillist.html#00092">Date Index</a>][<a href="threads.html#00092">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] WAN fail-over configuration in Linux-based router</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 5 Nov 2009 15:07:22 +0100</li>
<li><strong>From</strong>: <strong>Attila Kinali &lt;<a href="mailto:attila@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20WAN%20fail-over%20configuration%20in%20Linux-based%20router">attila@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] WAN fail-over configuration in Linux-based router</strong></li>
<li>References: &lt;<a href="mailto:1a4744f80911050525g55066627ga0fe428222da8ce5@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20WAN%20fail-over%20configuration%20in%20Linux-based%20router">1a4744f80911050525g55066627ga0fe428222da8ce5@example.com</a>&gt;</li>
<li>Organization: NERV</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Thu, 5 Nov 2009 22:25:15 +0900
Jianshi Huang &lt;jianshi.huang@example.com&gt; wrote:

&gt; Could somebody tell me what's the best way to achieve WAN fail-over
&gt; (backup) in a Linux-based router, e.g. openwrt or Vyatta open
&gt; networking.
&gt; 
&gt; Since full fail-over also needs support from ISP side. Any established
&gt; connection can allowed to be dropped if one line drops. New
&gt; connections would be routed to the backup line.

If you want true, real fail over, you need more than one ISP.

I'll outline here what you approximately need. But please be
aware that i'm not an expert in this field.

You will need multiple, independent connections to your location.
Independent means here, that each connection goes to a different ISP,
with different upstream providers (this is important, as a lot of smaller
ISP will happily sell you connectivity, but wont tell you that they
are nothing more than a reseller of a bigger ISP, and hence you'll have
introduced this upstream ISP as single point of failure).

Because you'll need to be reachable from different ISPs over different
routes, you'll need an AS (autonomus system) number and a PI (provider
independent) IP block. Both are not easy to get, ie you have to have
good arguments why you need an AS and a PI-block, what you want to do
with them and why it doesnt work otherwise (the reason is because the AS
space is nearly exhausted and those who manage border gateways do not like
small IP ranges in their routing table, with small equals anything smaller
than a /19).

Now that you have the connectivity, you need two routers that can talk
BGP so that you can announce that you are up and online and where you can
be reached from. It has to be two routers, because you want here redundancy
too.

Of course, if you just need a backup internet connection
in case your ADSL line drops, that's a completely different matter ;-)

HTH

			Attila Kinali

-- 
If you want to walk fast, walk alone.
If you want to walk far, walk together.
		-- African proverb

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00093" href="msg00093.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00088" href="msg00088.html">[tlug] WAN fail-over configuration in Linux-based router</a></strong>
<ul><li><em>From:</em> Jianshi Huang</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00091.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00093.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00097.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00093.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00092"><strong>Date</strong></a></li>
<li><a href="threads.html#00092"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
