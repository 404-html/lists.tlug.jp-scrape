<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] WAN fail&#45;over configuration in Linux&#45;based router -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Thu, 05 Nov 2009 23:02:25 +0900 -->
<!--X-Message-Id: 20091105140224.GI25231@analytic.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1a4744f80911050525g55066627ga0fe428222da8ce5@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00090.html">Date Prev</a>][<a href="msg00092.html">Date Next</a>][<a href="msg00088.html">Thread Prev</a>][<a href="msg00096.html">Thread Next</a>][<a href="maillist.html#00091">Date Index</a>][<a href="threads.html#00091">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] WAN fail-over configuration in Linux-based router</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 5 Nov 2009 23:02:24 +0900</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20WAN%20fail-over%20configuration%20in%20Linux-based%20router">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] WAN fail-over configuration in Linux-based router</strong></li>
<li>References: &lt;<a href="mailto:1a4744f80911050525g55066627ga0fe428222da8ce5@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20WAN%20fail-over%20configuration%20in%20Linux-based%20router">1a4744f80911050525g55066627ga0fe428222da8ce5@example.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 2009-11-05 22:25 +0900 (Thu), Jianshi Huang wrote:

&gt; Could somebody tell me what's the best way to achieve WAN fail-over
&gt; (backup) in a Linux-based router....
&gt; 
&gt; Since full fail-over also needs support from ISP side.

Oh, that's easy! Just make sure you've got your own AS and set of
globally routable addresses, and you're using BGP with your ISPs. :-)

&gt; Any established
&gt; connection can allowed to be dropped if one line drops. New
&gt; connections would be routed to the backup line.

Well, you wouldn't need to worry about that if you were using real
routing, as above. But you're not, and not likely to. So you're going to
fake it, and for that we need more information to figure out where you
compromise.

The first thing we need to know is if this is for connections that the
rest of the world initiate to your servers or connections your one
location initiate to the rest of the world. (If both, we divide and, er,
compromise individually at each.)

For the former, where you're trying to have redundant links for your
servers, it's pretty tricky, and you probably want some stuff related to
this designed in at the application level to make it work well.

For the latter, when you just want to deal well with one of your ISPs
going down, I'm reckoning it might be as easy as two NAT gateways on to
your interior each running HSRP (or a routing protocol, if you have an
interior internetwork and that's free anyway). Though I must admit I've
never tried this myself.

Oh, and all of this assumes IPv4.

cjs
-- 
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974
           Functional programming in all senses of the word:
                   <a  rel="nofollow" href="http://www.starling-software.com">http://www.starling-software.com</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00096" href="msg00096.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
<ul><li><em>From:</em> Patrick Bernier</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00088" href="msg00088.html">[tlug] WAN fail-over configuration in Linux-based router</a></strong>
<ul><li><em>From:</em> Jianshi Huang</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00090.html">Re: [tlug] recomendations for a functional language</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00092.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00088.html">[tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00096.html">Re: [tlug] WAN fail-over configuration in Linux-based router</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00091"><strong>Date</strong></a></li>
<li><a href="threads.html#00091"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
