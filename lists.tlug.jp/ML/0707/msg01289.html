<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] Re: font/char set question -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Mon, 30 Jul 2007 13:43:46 +0900 -->
<!--X-Message-Id: Pine.NEB.4.64.0707301307430.28098@homeric.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5634e9210707282051g6d4ac8b9l1ba725231bdff464@mail.gmail.com -->
<!--X-Reference: d8fcc0800707290802x2c9798dj411fc5400e8b8d6f@mail.gmail.com -->
<!--X-Reference: 46AD1954.1080209@dcook.org -->
<!--X-Reference: d8fcc0800707291946s531f3353y8e0124d8e12cb071@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01288.html">Date Prev</a>][<a href="msg01290.html">Date Next</a>][<a href="msg01338.html">Thread Prev</a>][<a href="msg01300.html">Thread Next</a>][<a href="maillist.html#01289">Date Index</a>][<a href="threads.html#01289">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Re: font/char set question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 30 Jul 2007 13:43:45 +0900 (JST)</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Re:%20font%2Fchar%20set%20question">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Re: font/char set question</strong></li>
<li>References: &lt;<a href="msg01242.html">5634e9210707282051g6d4ac8b9l1ba725231bdff464@mail.gmail.com</a>&gt;	&lt;<a href="msg01264.html">d8fcc0800707290802x2c9798dj411fc5400e8b8d6f@mail.gmail.com</a>&gt;	&lt;<a href="msg01272.html">46AD1954.1080209@dcook.org</a>&gt;	&lt;<a href="msg01281.html">d8fcc0800707291946s531f3353y8e0124d8e12cb071@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Mon, 30 Jul 2007, Josh Glover wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">I would imagine that most Japanese keitai browsers these days can
handle displaying UTF-8 on web pages (but *not* in email!)
</pre></blockquote><pre style="margin: 0em;"><br>In fact, for DoCoMo you have that backwards. They will handle UTF-8
e-mail just fine, but will not handle anything but Shift_JIS for web
pages.</pre><br>
<pre style="margin: 0em;">AU and Softbank support both Shift_JIS and UTF-8 for e-mail and web
pages.</pre><br>
<pre style="margin: 0em;">There may be certain models of phone for which the above is not true,
but in general, conversion seems to be done at the gateway.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">...but I am
less confident in their ability to input it in forms and such.
</pre></blockquote><pre style="margin: 0em;"><br>Every browser I've seen a) does not tell you in what encoding it's
submitting a form, and b) submits forms in the encoding of the web
page from which the form was taken. (Note that I've not thoroughly
investigated point a); the mere presence of browsers that don't tell you
is enough that I might as well assume that they're all like that.)</pre><br>
<pre style="margin: 0em;">Here is the method I've developed over the past seven years or so for
dealing with I18N on web sites.</pre><br>
<pre style="margin: 0em;">1. Unless you know otherwise, generate the page in UTF-8, since that
will deal with situations such as a Chinese comment on a Japanese page,
or a Chinese person typing a search query into a Japanese page.</pre><br>
<pre style="margin: 0em;">2. Convert to a more restrictive encoding for those browsers where you
know you need to do this. For example, convert to Shift_JIS for DoCoMo
phones. Ideally, you'll use a converter that will deal in a nice way
with code points that don't exist in the target encoding. But to do this
in a truly user-friendly way is a heck of a lot more work than just
letting iconv put in question marks for the characters.</pre><br>
<pre style="margin: 0em;">3. Set both a Content-type HTTP header and include an identical meta
http-equiv tag in the header, both specifying the encoding. The HTTP
header will override the value in the meta tag, if they're different
and the header is present. The header will generally not be present if
someone's using a page they'd previously saved to disk, which is why you
need the meta tag as well.</pre><br>
<pre style="margin: 0em;">4. When generating a page with forms, include the encoding as a (hidden)
parameter in the form. When you receive a form, do no conversion until
you check this parameter, and then convert all parameters from that
encoding to UTF-8 before proceeding further.</pre><br>
<pre style="margin: 0em;">This combination of putting the encoding into both the content-type
headers and the form is the only way I know of to reliably determine the
encoding of a submitted form on a wide array of browsers.</pre><br>
<pre style="margin: 0em;">You may also need to use this technique on URLs if you have multi-lingual
ones, but I generally try to avoid those, because I like to include only
information relevant to the user in a URL, if I can manage that.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Japanese keitai browsers are pretty damned primitive. Here are some of
the things that they do not support...
</pre></blockquote><pre style="margin: 0em;"><br>You're rather behind the times here. :-) As of two years ago, many
AU and Softbank phones supported cookies, and moderns DoCoMo phones
support CSS and tables, though I've not yet investigated the extent of
that support or which models support it. I'm not sure what you mean by
&quot;animations except for Flash,&quot; but all phones have supported animated
GIFs and/or PNGs for ages.</pre><br>
<pre style="margin: 0em;">Personally, I think that the Flash stuff is extremely cool, since it
offers the closest thing to &quot;Web 2.0&quot; that you're going to get on a
phone, but then again, that I sell a product to help you do this may
bias me somewhat.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">That is probably true, but think of all the embedded devices in Japan
with web browsers. In order for our site to *never* display mojibake
to 99.999999999999% of our Japanese customers, it is in Shit_JIS.
</pre></blockquote><pre style="margin: 0em;"><br>Well, you could do the reverse of what I do, and display UTF-8 where you
know it will work, and Shift_JIS otherwise.</pre><br>
<pre style="margin: 0em;">Personally, I was somewhat suprised when I first came to Japan that all
of the Amazons didn't Just Work in all of the languages and encodings.
But then again, rewriting your way into that sort of thing can be
extremely difficult if you're not working from a very well refactored
code base with a lot of automated testing. I find that usually by far
the biggest and most expensive job in any legacy system is merging
and generalizing duplicated functionality. Rewriting from scratch,
especially in systems not designed for automated testing, is often
cheaper. The big problem with the rewrite is that there's often a lot of
experience embedded in the legacy system that's very, very difficult to
extract.</pre><br>
<pre style="margin: 0em;">cjs
--
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974
Mobile sites and software consulting: <a  href="http://www.starling-software.com">http://www.starling-software.com</a></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01300" href="msg01300.html">Re: [tlug] Re: font/char set question</a></strong>
<ul><li><em>From:</em> Godwin Stewart</li></ul></li>
<li><strong><a name="01303" href="msg01303.html">Re: [tlug] Re: font/char set question</a></strong>
<ul><li><em>From:</em> Darren Cook</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01242" href="msg01242.html">[tlug] Re: font/char set question</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="01264" href="msg01264.html">Re: [tlug] Re: font/char set question</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="01272" href="msg01272.html">Re: [tlug] Re: font/char set question</a></strong>
<ul><li><em>From:</em> Darren Cook</li></ul></li>
<li><strong><a name="01281" href="msg01281.html">Re: [tlug] Re: font/char set question</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01288.html">Re: font/char set question: Chinese Encodings: GB 18030?  . . . . .	. . [tlug]</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01290.html">Re: [tlug] [OT] Good IT Resume</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01338.html">Re: font/char set question: keitai: non-support of stuff is a feature	. . . . . . . . [tlug]</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01300.html">Re: [tlug] Re: font/char set question</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01289"><strong>Date</strong></a></li>
<li><a href="threads.html#01289"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
