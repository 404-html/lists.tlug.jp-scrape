<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Did Apache change everything? (Setting up virtual hosts) -->
<!--X-From-R13: Ynyva YALVGVODAH <zr.xnyvaNtznvy.pbz> -->
<!--X-Date: Wed, 20 Jan 2010 12:26:53 +0900 -->
<!--X-Message-Id: abb599561001191920n5c82c964x55c6d6794ae3ed2@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4B566ABC.5000504@articlass.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00077.html">Date Prev</a>][<a href="msg00079.html">Date Next</a>][<a href="msg00077.html">Thread Prev</a>][<a href="msg00079.html">Thread Next</a>][<a href="maillist.html#00078">Date Index</a>][<a href="threads.html#00078">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Did Apache change everything? (Setting up virtual hosts)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 20 Jan 2010 12:20:32 +0900</li>
<li><strong>From</strong>: <strong>Kalin KOZHUHAROV &lt;<a href="mailto:me.kalin@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Did%20Apache%20change%20everything%3F%20%28Setting%20up%20virtual%20hosts%29">me.kalin@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Did Apache change everything? (Setting up virtual hosts)</strong></li>
<li>References: &lt;<a href="mailto:4B566ABC.5000504@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Did%20Apache%20change%20everything%3F%20%28Setting%20up%20virtual%20hosts%29">4B566ABC.5000504@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Well, things do change, and yes most people do hate that...
Try to step back and look from above, try to stay calm, it does help.

On Wed, Jan 20, 2010 at 11:30, Dave M G &lt;dave@example.com&gt; wrote:
[snip]
&gt; Here's my current situation. I created a file for my site, called
&gt; local_site.com in /etc/apache2/sites-available and put in the following
&gt; configuration (taken off the web)
&gt;
&gt; - - - - -
&gt;
&gt; &lt;VirtualHost *&gt;
&gt;        ServerName www.local_site.com
&gt;        ServerAlias local_site.com
&gt;        ServerAdmin webmaster@example.com
&gt;
&gt;        DocumentRoot /var/www/local_site.com
&gt;        &lt;Directory /var/www/local_site.com/&gt;
&gt;                Options Indexes FollowSymLinks MultiViews
&gt;                # pcw AllowOverride None
&gt;                AllowOverride All
&gt;                Order allow,deny
&gt;                allow from all
&gt;                # This directive allows us to have apache2's default
&gt; start page
&gt;                # in /apache2-default/, but still have / go to the right
&gt; place
&gt;                # Commented out for Ubuntu
&gt;                #RedirectMatch ^/$ /apache2-default/
&gt;        &lt;/Directory&gt;
&gt;
&gt;        ErrorLog /var/log/apache2/local_site.com/error.log
&gt;
&gt;        # Possible values include: debug, info, notice, warn, error, crit,
&gt;        # alert, emerg.
&gt;        LogLevel warn
&gt;
&gt;        CustomLog /var/log/apache2/local_site.com/access.log combined
&gt;        ServerSignature On
&gt;
&gt; &lt;/VirtualHost&gt;
&gt;
&gt; - - - - -
&gt;
&gt; Then I ran &quot;sudo a2ensite local_site.com&quot;, and it said &quot;enabled&quot;.
&gt;
&gt; So far so good.
&gt;
&gt; Then I reloaded and restarted Apache, and it said:
&gt;
&gt; [fail]
&gt;
&gt; No error output, no nothing. Just [fail].
&gt;
&gt; I went to <a  rel="nofollow" href="http://local_site.com">http://local_site.com</a> and sometimes when I do, I get the
&gt; default &quot;It works!&quot; page. Which I also get if I go to <a  rel="nofollow" href="http://localhost">http://localhost</a>.
&gt;
&gt; But sometimes if I reload it, I then get an &quot;unable to connect&quot; warning.
&gt;
&gt; I went online and found instructions for editing ports.conf and
&gt; apache2.conf, but basically any and all edits I made to those files
&gt; resulted in errors coming out when I restarted Apache. So for now I've
&gt; put them back to their original.
&gt;
&gt; And, lastly, I checked the error logs in /var/log/apache2, but they just
&gt; have a long string of instances of saying &quot;error log at
&gt; /var/www/local_site.com/error.log not found&quot;.

Maybe permissions problem? May be default index problem?

Assuming you run as apache:

touch /var/www/local_site.com/error.log
echo &quot;TLUG&quot; &gt; /var/www/local_site.com/test.txt
chmod -R apache:apache /var/www/local_site.com
chmod 0755 /var/www/local_site.com/
chmod 0660 /var/www/local_site.com/error.log

restart apache, have a look at the log, try to access
<a  rel="nofollow" href="http://local_site.com/test.txt">http://local_site.com/test.txt</a>

Try investigating with apache2ctl (if Ubuntu has it), check if
processes are running (top, htop, pstree), even try to strace the
daemon...


You are not running SELinux by chance, are you? I run into this in
recent CentOS install... (try as root `sestatus` if you have it)

Kalin.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00077" href="msg00077.html">[tlug] Did Apache change everything? (Setting up virtual hosts)</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00077.html">[tlug] Did Apache change everything? (Setting up virtual hosts)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00079.html">Re: [tlug] Did Apache change everything? (Setting up virtual hosts)</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00077.html">[tlug] Did Apache change everything? (Setting up virtual hosts)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00079.html">Re: [tlug] Did Apache change everything? (Setting up virtual hosts)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00078"><strong>Date</strong></a></li>
<li><a href="threads.html#00078"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
