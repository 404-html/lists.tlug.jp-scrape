<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Permissions on PHP script to only run locally -->
<!--X-From-R13: @vpbynf Zvzner <avpbynf+gyhtNyvzner.arg> -->
<!--X-Date: Tue, 09 Mar 2010 14:02:58 +0900 -->
<!--X-Message-Id: 20100309043444.GD27011@senbei.tech.limare.net -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: 4B95BD95.4020201@articlass.org -->
<!--X-Derived: pgpjXSZmgt79c.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00006.html">Date Prev</a>][<a href="msg00008.html">Date Next</a>][<a href="msg00006.html">Thread Prev</a>][<a href="msg00008.html">Thread Next</a>][<a href="maillist.html#00007">Date Index</a>][<a href="threads.html#00007">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Permissions on PHP script to only run locally</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 9 Mar 2010 13:34:44 +0900</li>
<li><strong>From</strong>: <strong>Nicolas Limare &lt;<a href="mailto:nicolas%2Btlug@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Permissions%20on%20PHP%20script%20to%20only%20run%20locally">nicolas+tlug@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Permissions on PHP script to only run locally</strong></li>
<li>References: &lt;<a href="mailto:4B95BD95.4020201@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Permissions%20on%20PHP%20script%20to%20only%20run%20locally">4B95BD95.4020201@example.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Dave,

&gt; I have a PHP script that runs a backup of some site files and emails me
&gt; a tar.gz file once a day. It's activated by cron on the webhosting server
&gt; 
&gt; I wondered if there was a permission setting I could put on the file so
&gt; that it was only accessible by the server's local cron command, and not
&gt; accessible by anyone coming at it from the browser.

The best solution is to put this php script out of the web server
DocumentRoot (Apache terminology). For example, if your web server
distributes files located in the /var/www/example.com/ directory, and
your bachup script is now located at /var/www/example.com/foo/backup.php, 
you should remove this file and save if in
/home/dave/scripts/backup.php for example.

There, no one can execute this script through the web server. But you
can still run it with a cron line

# m h  dom mon dow   command
  6 42 *   *   *     /usr/bin/php /home/dave/scripts/backup.php

-- 
Nicolas LIMARE
smtp:nicolas@example.com                            pgp:0xFA423F4F
xmpp:nicolas@example.com              <a  rel="nofollow" href="http://nicolas.limare.net">http://nicolas.limare.net</a>
</pre><p><strong>Attachment:
<a href="pgpjXSZmgt79c.pgp" ><tt>signature.asc</tt></a></strong><br>
<em>Description:</em> Digital signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">[tlug] Permissions on PHP script to only run locally</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00006.html">Re: [tlug] Permissions on PHP script to only run locally</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00008.html">Re: [tlug] Permissions on PHP script to only run locally</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00006.html">Re: [tlug] Permissions on PHP script to only run locally</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00008.html">Re: [tlug] Permissions on PHP script to only run locally</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00007"><strong>Date</strong></a></li>
<li><a href="threads.html#00007"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
