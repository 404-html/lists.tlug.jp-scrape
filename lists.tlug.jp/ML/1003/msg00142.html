<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] [OT] Subtracting two times in JavaScript -->
<!--X-From-R13: Ubqjva Egrjneg <tfgrjnegNobavirg.arg> -->
<!--X-Date: Sat, 20 Mar 2010 23:22:32 +0900 -->
<!--X-Message-Id: 20100320142218.18e8afb9.gstewart@bonivet.net -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: 4BA4D0BD.6030802@articlass.org -->
<!--X-Derived: pgp5XlqTtZkwO.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00141.html">Date Prev</a>][<a href="msg00143.html">Date Next</a>][<a href="msg00141.html">Thread Prev</a>][<a href="msg00143.html">Thread Next</a>][<a href="maillist.html#00142">Date Index</a>][<a href="threads.html#00142">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] [OT] Subtracting two times in JavaScript</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sat, 20 Mar 2010 14:22:18 +0000</li>
<li><strong>From</strong>: <strong>Godwin Stewart &lt;<a href="mailto:gstewart@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BOT%5D%20Subtracting%20two%20times%20in%20JavaScript">gstewart@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] [OT] Subtracting two times in JavaScript</strong></li>
<li>References: &lt;<a href="mailto:4BA4D0BD.6030802@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BOT%5D%20Subtracting%20two%20times%20in%20JavaScript">4BA4D0BD.6030802@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Sat, 20 Mar 2010 22:42:21 +0900, Dave M G &lt;dave@example.com&gt; wrote:

&gt; diff = new Date(endTime.getTime() - currTime.getTime());

This is one area where you're going wrong.

If you look at the Date object, you'll see that you should supply the
date/time that the object is supposed to represent as an argument to the
constructor, not a time difference.

Simply subtract the results of the getTime() method of one object from that
of the other, and you'll get the number of milliseconds elapsed between the
two.

Something like this:

var elapsed = end.getTime() - currTime.getTime();
// Chop off the last 3 digits to discard the milliseconds and convert to
// an integer on the fly
var seconds = parseInt(elapsed.slice(0,-3),10);

Now download and use this javascript implementation of sprintf():

<a  rel="nofollow" href="http://code.google.com/p/sprintf/">http://code.google.com/p/sprintf/</a>

Finally, you can express &quot;seconds&quot; in hh:mm:ss format this way:

var hh,mm,ss,hms;
ss = seconds % 60;
seconds = ( seconds - ss ) / 60;
mm = seconds % 60;
seconds = ( seconds - mm ) / 60;
hms = sprintf(&quot;%02d:%02d:%02d&quot;,hh,mm,ss);

-- 
G. Stewart - gstewart@example.com

A clear conscience is usually the sign of a bad memory.
</pre><p><strong>Attachment:
<a href="pgp5XlqTtZkwO.pgp" ><tt>pgp5XlqTtZkwO.pgp</tt></a></strong><br>
<em>Description:</em> PGP signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00140" href="msg00140.html">[tlug] [OT] Subtracting two times in JavaScript</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00141.html">Re: [tlug] [OT] Subtracting two times in JavaScript</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00143.html">Re: [tlug] [OT] Subtracting two times in JavaScript</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00141.html">Re: [tlug] [OT] Subtracting two times in JavaScript</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00143.html">Re: [tlug] [OT] Subtracting two times in JavaScript</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00142"><strong>Date</strong></a></li>
<li><a href="threads.html#00142"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
