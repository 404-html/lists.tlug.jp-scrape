<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Getting a client and server to agree on UTC time [SOLVED] -->
<!--X-From-R13: Sqzhaq Sqtne <yvfgfNrqbpuna.pbz> -->
<!--X-Date: Sun, 19 Dec 2010 19:04:37 +0900 -->
<!--X-Message-Id: AANLkTi=2O6ge7LnRd5RcE5C8_cEW=bVOyZ1EN1MiN91e@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D0DA713.7060006@articlass.org -->
<!--X-Reference: 4D0DB8D6.30106@dcook.org -->
<!--X-Reference: 4D0DCA7D.5050501@articlass.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00138.html">Date Prev</a>][<a href="msg00140.html">Date Next</a>][<a href="msg00138.html">Thread Prev</a>][<a href="msg00140.html">Thread Next</a>][<a href="maillist.html#00139">Date Index</a>][<a href="threads.html#00139">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Getting a client and server to agree on UTC time [SOLVED]</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sun, 19 Dec 2010 18:38:45 +0900</li>
<li><strong>From</strong>: <strong>Edmund Edgar &lt;<a href="mailto:lists@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Getting%20a%20client%20and%20server%20to%20agree%20on%20UTC%20time%20%5BSOLVED%5D">lists@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Getting a client and server to agree on UTC time [SOLVED]</strong></li>
<li>References: &lt;<a href="mailto:4D0DA713.7060006@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Getting%20a%20client%20and%20server%20to%20agree%20on%20UTC%20time%20%5BSOLVED%5D">4D0DA713.7060006@example.com</a>&gt; &lt;<a href="mailto:4D0DB8D6.30106@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Getting%20a%20client%20and%20server%20to%20agree%20on%20UTC%20time%20%5BSOLVED%5D">4D0DB8D6.30106@example.com</a>&gt;	&lt;<a href="mailto:4D0DCA7D.5050501@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Getting%20a%20client%20and%20server%20to%20agree%20on%20UTC%20time%20%5BSOLVED%5D">4D0DCA7D.5050501@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 19 December 2010 18:03, Dave M G &lt;dave@example.com&gt; wrote:
&gt; On the PHP side, the key was date_default_timezone_set(&quot;UTC&quot;). That
&gt; cleared up some weird results I was getting by just using time() on its own.

Glad you got it sorted out. But just to clarify this in case this, and
the example Darren posted, gives somebody the wrong idea (or to give
some kind person a chance to fix my understanding of this if I'm
wrong):

In PHP, time() always returns a UTC timestamp. It doesn't matter what
you do with date_default_timezone_set().  The default timezone can be
anything you like - time() will always return the same number at any
given instant. This is the point of the example Darren quoted from the
comments to the PHP manual: They set it to a couple of different
things, and proved it returned the same number either way.

What date_default_timezone_set affects is things like date() and
mktime() that deal with converting UTC timestamps into human-readable
dates and back again. Because these functions deal with human-readable
dates and humans like to work with their local time, they also take
account of the timezone. The alternative functions gmdate() and
gmmktime() will give you UTC-based human-readable dates that ignore
the default timezone. (If you find these last two functions helpful,
there's a good chance you're doing something wrong.)

If date_default_timezone_set() helped you here, it was probably
actually fixing something you were doing with date() elsewhere in the
script.

-- 
Edmund Edgar
Founder, KK Social Minds
Educational Technology for the Web and Virtual Worlds

ed@example.com
+81 090 3912 3380
Skype: edmundedgar
Second Life: Edmund Earp
Linked In: edmundedgar
Twitter: @edmundedgar
<a  rel="nofollow" href="http://www.socialminds.jp">http://www.socialminds.jp</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00135" href="msg00135.html">[tlug] Getting a client and server to agree on UTC time</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00137" href="msg00137.html">Re: [tlug] Getting a client and server to agree on UTC time</a></strong>
<ul><li><em>From:</em> Darren Cook</li></ul></li>
<li><strong><a name="00138" href="msg00138.html">Re: [tlug] Getting a client and server to agree on UTC time [SOLVED]</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00138.html">Re: [tlug] Getting a client and server to agree on UTC time [SOLVED]</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00140.html">[tlug] [OT] Payment gateways in Japan.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00138.html">Re: [tlug] Getting a client and server to agree on UTC time [SOLVED]</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00140.html">[tlug] [OT] Payment gateways in Japan.</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00139"><strong>Date</strong></a></li>
<li><a href="threads.html#00139"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
