<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Forgetting HDD or Partition Names -->
<!--X-From-R13: Ynyva YALVGVODAH <zr.xnyvaNtznvy.pbz> -->
<!--X-Date: Thu, 30 Dec 2010 18:17:30 +0900 -->
<!--X-Message-Id: AANLkTik&#45;FigL352xzkq9vhEy=jQD4kgbY1tvRPEMrSUT@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D1BEACC.8090102@gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00191.html">Date Prev</a>][Date Next][<a href="msg00190.html">Thread Prev</a>][Thread Next][<a href="maillist.html#00192">Date Index</a>][<a href="threads.html#00192">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Forgetting HDD or Partition Names</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 30 Dec 2010 18:08:52 +0900</li>
<li><strong>From</strong>: <strong>Kalin KOZHUHAROV &lt;<a href="mailto:me.kalin@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Forgetting%20HDD%20or%20Partition%20Names">me.kalin@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Forgetting HDD or Partition Names</strong></li>
<li>References: &lt;<a href="mailto:4D1BEACC.8090102@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Forgetting%20HDD%20or%20Partition%20Names">4D1BEACC.8090102@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi CL,

Let me try to point you in slightly different direction while changing
between my consultant, digital forensic and Gentoo hats...

First, congratulations on the decision to tidy up your data! I know
from experience how delightful, yet painful, this can be.
Actually I am planning to do similar &quot;project&quot;, although I only have a
couple of 1.44MB floppies and a few ATA HDDs as a continuation on my
&quot;personal data storage&quot; project that has been going on for some time.

First some questions...

On Thu, Dec 30, 2010 at 11:13, CL &lt;az.4tlug@example.com&gt; wrote:
&gt; Once again, I am finding ways to make my days off far too interesting.
&gt;
&gt; I decided that I would try to start 2011 with as few old IDE drives
&gt; stacked in the corner as possible as well as finally erasing and
&gt; shredding all of my old 3.5&quot; floppies.  I started out to copy all of my
&gt; old work files on to one SATA HDD where I intended to sort them out and
&gt; archive on DVD.  I have research, archive, and report information that
&gt; has been passed forward from my first 8086 box and the 8&quot; floppies from
&gt; the first Wang word processor I used at my then place of work, all the
&gt; way to the present.  It has all be transferred to media that is
&gt; currently readable ... in theory ... along the way.  Most of the old
&gt; stuff is DOS / WIN of one sort or another.
&gt;
&gt; I have an XP guest running on an Xubuntu host.  All of the stuff on
&gt; floppies copied straight over in time to make the last moeru-gomi run of
&gt; the year.  I am able to read and sort those particular files and old
&gt; programs.
&gt;
Why do you need VMs and XP? Are you using XP to copy stuff?

&gt; I began mounting IDE drives two at a time into the chassis for copying
&gt; and have discovered a few problems that mostly appear to be permissions,
&gt; but a few that I can't attribute to that:
&gt;
&gt; 1.  I can read partition names and, after assigning them network
&gt; locations in XP, I can open, read, and save files individually in a
&gt; partition in the virtual disk.  I cannot copy directories or partitions
&gt; as complete blocks, though ... which I think is Permissions Problem
&gt; Number One.
&gt;
Does &quot;partitions as complete blocks&quot; mean the block devices like /dev/hdb2 etc?

&gt; In Xubuntu, I have NTFS set to read / write and can mount / unmount by
&gt; partition ID or partition name (e.g. /media/sda1 or /media/ROOT).  All
&gt; are set to Administrator mountable only.  Should I be setting mount
&gt; permission to &quot;Everyone&quot;?  I cannot think of anything else I am
&gt; forgetting, but probably am ... if anyone would like to suggest another
&gt; place to look.
&gt;
If the answer to the previous question is yes (i.e. block devices),
probably you are barking under the wrong tree.
What does `ls -ls /dev/[sh]d[a-z]*` produce?
And logged as your normal user `groups`?

For my machines (Gentoo), I have something like that:
0 brw-rw---- 1 root disk 8,  2 Nov 27 21:08 /dev/sda2
and my work user belongs to disk group.

&gt; 2.  When I remove the IDE disk and replace it with another, Xubuntu
&gt; tells me that the disk / partitions of the disk I removed cannot be
&gt; found and asks me to (S)kip or (M)anually mount them.  I skip and, when
&gt; I attempt to find and mount the new disk / partitions, the partitions of
&gt; the new disk (particularly the root partition) have the name and
&gt; identifier of the previous (removed) HDD, although the size of the
&gt; current disk / partition is accurately reported.
&gt;
Hmm, how do you remove it? Just unplug it while the machine is running?
That IS DANGEROUS for the hardware, unless you have proper
hot-swappable enclosure.
In which case you need to unmount all partitions from the drive, turn
it off, remove the interface from kernel, wait 5s to spin down and
unplug it. Assuming you work with hdg, as root:
# umount /dev/hdg* &amp;&amp; sync
# hdparm -Y /dev/hdg &amp;&amp; sleep 5
# echo 1 &gt; /sys/block/hdg/device/delete

&gt; How do I remove the details of the previous HDD from memory? I looked at
&gt; the instructions and man pages for &quot;fuse&quot; and &quot;fuser&quot; and find them
&gt; either unintelligible or they leave me with a fear that I will
&gt; permanently destroy valuable hardware or lose data.
&gt;
They should normally go, but because you probably are just yanking the
drives which are not meant to be hotswap...
No idea what daemon does Ubuntu use, there is something holding
references to those devices.

&gt; 3.  ... and what additional thing(s) would I have to do to be able to
&gt; copy the contents of entire partitions on to another disk for sorting?

My core advice is to stay away from GUIs that you are not at least
99.99% comfortable using (at least for the last year) for such
important task as data archiving (before shredding the originals).
Start small (one ATA, one floppy) and don't look at the contents
before you copy them to an easier to access place (your SATA drive). I
have b0rked the original while thinking I am tidying up the target a
few years ago :-(

Test, test, test until you are sure that you copy everything correctly.

A few more tips:
1. Write a simple script to do the job, have it log all errors and progress.
2. I'd use `rsync -HavP &lt;source&gt;/ &lt;destination&gt;/ --dry-run` to check
and  then take out the &quot;--dry-run&quot; to execute.
3. If you care about times on FAT, try to guess the timezone (e.g.
mount -o tz=UTC); always mount the source with `-o ro`; take care of
filename encoding (e.g. -o codepage=932,iocharset=utf8,shortname=lower
for Japanese win)
4. Use ext3 for long-term storage
5. Once you copy everything to a drive, get another one and back it up
fully, turn it off and store it until you are happy with the results
of the tiding-up.
6. Once you have copied everything and secured the backup, put your
originals in a labeled box and store them for at least 6 months, in
case you realize you missed something; after 6 months if you don't
discover issues, wipe the source HDDs. Reuse them or throw them.
7. If the data fits on a few DVDs - good, burn them but keep it on a
HDD for easy access.


Hmm, that is all I can say for now. I have sorted most of my 350GB of
pictures, but I need to go through a couple of old backups and
documents from high-school years ;-)

Cheers,
Kalin.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00190" href="msg00190.html">[tlug] Forgetting HDD or Partition Names</a></strong>
<ul><li><em>From:</em> CL</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00191.html">Re: [tlug] POSTPONED to February - Call for presenters for TLUG January 8th technical meeting</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00190.html">[tlug] Forgetting HDD or Partition Names</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00192"><strong>Date</strong></a></li>
<li><a href="threads.html#00192"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
