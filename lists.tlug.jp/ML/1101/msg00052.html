<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Slooooooow down: logs, smartctl, DNS? -->
<!--X-From-R13: Rnir [ U <qnirNnegvpynff.bet> -->
<!--X-Date: Sun, 16 Jan 2011 14:02:37 +0900 -->
<!--X-Message-Id: 4D327BEB.5070806@articlass.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D306C45.8080109@articlass.org -->
<!--X-Reference: 20110114165007.18eb5840.jep200404@columbus.rr.com -->
<!--X-Reference: 4D311CE8.5020106@articlass.org -->
<!--X-Reference: AANLkTikKX32FFRvLbETMOMwxZ_scOx8iABuszOkuuWfg@mail.gmail.com -->
<!--X-Reference: 4D31CCD1.20506@articlass.org -->
<!--X-Reference: 4D323FC1.3080803@dcook.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00051.html">Date Prev</a>][<a href="msg00053.html">Date Next</a>][<a href="msg00051.html">Thread Prev</a>][<a href="msg00053.html">Thread Next</a>][<a href="maillist.html#00052">Date Index</a>][<a href="threads.html#00052">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Slooooooow down: logs, smartctl, DNS?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sun, 16 Jan 2011 14:02:35 +0900</li>
<li><strong>From</strong>: <strong>Dave M G &lt;<a href="mailto:dave@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">dave@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Slooooooow down: logs, smartctl, DNS?</strong></li>
<li>References: &lt;<a href="mailto:4D306C45.8080109@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">4D306C45.8080109@example.com</a>&gt;	&lt;<a href="mailto:20110114165007.18eb5840.jep200404@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">20110114165007.18eb5840.jep200404@example.com</a>&gt;	&lt;<a href="mailto:4D311CE8.5020106@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">4D311CE8.5020106@example.com</a>&gt;	&lt;<a href="mailto:AANLkTikKX32FFRvLbETMOMwxZ_scOx8iABuszOkuuWfg@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">AANLkTikKX32FFRvLbETMOMwxZ_scOx8iABuszOkuuWfg@example.com</a>&gt;	&lt;<a href="mailto:4D31CCD1.20506@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">4D31CCD1.20506@example.com</a>&gt;	&lt;<a href="mailto:4D323FC1.3080803@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Slooooooow%20down:%20logs%2C%20smartctl%2C%20DNS%3F">4D323FC1.3080803@example.com</a>&gt;</li>
<li>User-agent: Mozilla/5.0 (X11; U; Linux i686; en-US;	rv:1.9.2.13) Gecko/20101208 Thunderbird/3.1.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Darren, Romeo,

Thank you for responding.

I looked at netstat on both the server and client machine (complete
output below). The server didn't seem to have much that looked unusual,
but the client said :
&quot;12 classic Reno fast retransmits failed&quot;

I also used the tcpdump method Romeo suggested, and after a few minutes,
it generated a 116 MB .cab file, which I don't know how to view. I
thought it would be text, but it's not, so it doesn't open with most
viewers. How do I look at it?

I've noticed a new and frustrating wrinkle. I rebooted all machines this
morning because there was a kernel upgrade released. There's always hope
that an upgrade will fix things (though more often it seems to usually
break them).

At first it seemed like everything was responding quicker and I wondered
if I got lucky. Then slowly, over time, it got worse again. Usually I
leave my Mythbuntu machine pretty much running all the time (since I
want it to come to life when I use the remote control), so whatever is
the problem either builds up over time, or is possibly inconsistent and
comes and goes.

Anyway, that's what I've learned so far.

Any tips or insights on what any of this might mean would be most welcome.

Client machine:
$ netstat -s
Ip:
    219170 total packets received
    0 forwarded
    0 incoming packets discarded
    218952 incoming packets delivered
    153606 requests sent out
    12 outgoing packets dropped
Icmp:
    0 ICMP messages received
    0 input ICMP message failed.
    ICMP input histogram:
    0 ICMP messages sent
    0 ICMP messages failed
    ICMP output histogram:
Tcp:
    62 active connections openings
    3 passive connection openings
    2 failed connection attempts
    0 connection resets received
    8 connections established
    218655 segments received
    220706 segments send out
    353 segments retransmited
    0 bad segments received.
    2 resets sent
Udp:
    299 packets received
    0 packets to unknown port received.
    0 packet receive errors
    427 packets sent
UdpLite:
TcpExt:
    22 TCP sockets finished time wait in fast timer
    897 delayed acks sent
    4 delayed acks further delayed because of locked socket
    Quick ack mode was activated 8 times
    2097 packets directly queued to recvmsg prequeue.
    232558 bytes directly received in process context from prequeue
    142400 packet headers predicted
    216 packets header predicted and directly queued to user
    9675 acknowledgments not containing data payload received
    128724 predicted acknowledgments
    301 times recovered from packet loss due to fast retransmit
    1 congestion windows recovered without slow start after partial ack
    3 timeouts after reno fast retransmit
    1 timeouts in loss state
    333 fast retransmits
    2 retransmits in slow start
    2 other TCP timeouts
    12 classic Reno fast retransmits failed
IpExt:
    InMcastPkts: 40
    OutMcastPkts: 1
    InBcastPkts: 176
    OutBcastPkts: 132
    InOctets: 117219520
    OutOctets: 153764827
    InMcastOctets: 1952
    OutMcastOctets: 40
    InBcastOctets: 36086
    OutBcastOctets: 17664


Server machine (Mythbuntu machine that serves media content)
$ netstat -s
Ip:
    222601 total packets received
    0 forwarded
    0 incoming packets discarded
    222601 incoming packets delivered
    248165 requests sent out
Icmp:
    5 ICMP messages received
    2 input ICMP message failed.
    ICMP input histogram:
        destination unreachable: 5
    25 ICMP messages sent
    0 ICMP messages failed
    ICMP output histogram:
        destination unreachable: 25
IcmpMsg:
        InType3: 5
        OutType3: 25
Tcp:
    68 active connections openings
    55 passive connection openings
    8 failed connection attempts
    2 connection resets received
    22 connections established
    221526 segments received
    248273 segments send out
    2 segments retransmited
    0 bad segments received.
    6 resets sent
Udp:
    835 packets received
    20 packets to unknown port received.
    0 packet receive errors
    128 packets sent
UdpLite:
TcpExt:
    43 TCP sockets finished time wait in fast timer
    4287 delayed acks sent
    35 delayed acks further delayed because of locked socket
    10 packets directly queued to recvmsg prequeue.
    16 bytes directly received in process context from prequeue
    158719 packet headers predicted
    2504 acknowledgments not containing data payload received
    164222 predicted acknowledgments
    1 other TCP timeouts
    1 connections reset due to early user close
IpExt:
    InMcastPkts: 827
    OutMcastPkts: 91
    InBcastPkts: 162
    InOctets: 131789476
    OutOctets: 213907867
    InMcastOctets: 260936
    OutMcastOctets: 12811
    InBcastOctets: 35143


-- 
Dave M G

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
<ul><li><em>From:</em> Christian Horn</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00041" href="msg00041.html">[tlug] Slooooooow down</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00043" href="msg00043.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
<ul><li><em>From:</em> jep200404</li></ul></li>
<li><strong><a name="00044" href="msg00044.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00048" href="msg00048.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
<ul><li><em>From:</em> Romeo Theriault</li></ul></li>
<li><strong><a name="00049" href="msg00049.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00051" href="msg00051.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
<ul><li><em>From:</em> Darren Cook</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00051.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00053.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00051.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00053.html">Re: [tlug] Slooooooow down: logs, smartctl, DNS?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00052"><strong>Date</strong></a></li>
<li><a href="threads.html#00052"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
