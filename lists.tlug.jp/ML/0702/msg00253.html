<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] network losing connection -->
<!--X-From-R13: Evtheq Geqnuy <fvtheqheNehaobk.pbz> -->
<!--X-Date: Wed, 28 Feb 2007 17:50:10 +0900 -->
<!--X-Message-Id: 45E54218.5070909@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1172535184.5007.4.camel@example.com -->
<!--X-Reference: 45E3FFED.4040100@example.com -->
<!--X-Reference: 1172587252.6519.0.camel@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00252.html">Date Prev</a>][<a href="msg00254.html">Date Next</a>][<a href="msg00248.html">Thread Prev</a>][<a href="msg00256.html">Thread Next</a>][<a href="maillist.html#00253">Date Index</a>][<a href="threads.html#00253">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] network losing connection</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 28 Feb 2007 09:49:28 +0100</li>
<li><strong>From</strong>: <strong>Sigurd Urdahl &lt;<a href="mailto:sigurdur@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20network%20losing%20connection">sigurdur@??</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] network losing connection</strong></li>
<li>References: &lt;<a href="msg00225.html">1172535184.5007.4.camel@example.com</a>&gt;	&lt;<a href="msg00239.html">45E3FFED.4040100@example.com</a>&gt;	&lt;<a href="msg00248.html">1172587252.6519.0.camel@example.com</a>&gt;</li>
<li>User-agent: Icedove 1.5.0.9 (X11/20061220)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<tt>Matt Gross wrote:
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>On Tue, 2007-02-27 at 10:54 +0100, Sigurd Urdahl wrote: 
  
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>Matt Gross wrote:<br>
    
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">Hi Everyone,</pre><br>
<tt>I am having a lot of problems with my Fedora Core 6 server connection
</tt></blockquote><tt>    
</tt></blockquote></blockquote><tt>[..]
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>If it's an ethernet problem you should be able to see it in the output 
from ifconfig:</tt><br>
<br>
<tt>sigurdur@??:~$ /sbin/ifconfig<br>
    
</tt></blockquote><pre style="margin: 0em;">here is mine:</pre><br>
<tt>[root@?? ~]# ifconfig<br>
eth1    Link encap:Ethernet  HWaddr 00:16:17:B7:D9:03  
  
  
</tt></blockquote><tt>OK, then we can rule that one out.
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>Is the problem noticeable between computers on the same LAN, or only 
through a broad band router or something like that? 
</tt></blockquote></blockquote><tt>Could you describe your network layout? What components are installed? 
Is the traffic passing through simple hubs, switches or a router?</tt><br>
<br>
<tt>If possible, it might be an idea to install something like smokeping on 
both the server and another box on the same net and then test 
connectivity both between these two boxes, between each of them and your 
default gateway, and from each to some common point outside your net. 
Make sure you use IPs when testing, not hostnames, to make sure name 
resolution is not a factor. (this actually applies to other tests you do 
too, e.g arp -n, tcpdump -n)
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>If the former, try 
setting static arp entries on both servers to see if it's an arp related 
problem.<br>
    
</tt></blockquote><pre style="margin: 0em;"><br>I don't think it is a problem with the arp cache.  After the problem
happened, the arp cache is still showing a correct entry:</pre><br>
<pre style="margin: 0em;">[root@?? ~]# arp -a
? (192.168.0.254) at 00:90:CC:42:71:58 [ether] on eth1</pre><br>
<tt>  
Does the question mark above signify anything important? </tt><br>
<br>
<tt>  
</tt></blockquote><tt>It indicates that arp was not able to resolve the hostname for 
192.168.0.254.Could be significant, but not necessarily. (arp -n gives 
the same output it seems).
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">I did notice that when I am having the problem, the following takes
several seconds to complete:</pre><br>
<tt>[root@?? ~]# arp -va<br>
? (192.168.0.254) at &lt;incomplete&gt; on eth1<br>
Entries: 1      Skipped: 0      Found: 1<br>
  
</tt></blockquote><tt>This indicates that you don't have an arp entry for 192.168.0.254, and 
thus you are unable to send traffic there. That would be what you'd 
expect if the network connection is down, if the network is down on 
192.168.0.254, if 192.168.0.254 is down or completely overworked so it 
won't answer your ARP REQUESTs.
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>I noticed the &lt;incomplete&gt; and tried to add the arp entry manually, but<br>
that did not fix my problem.<br>
  
</tt></blockquote><tt>I would assume that the problem then is that you actually lose the 
connection between the server and 192.169.0.254. The next question then 
is whether it's the server or 192.168.0.254 that loses the connection. f 
you can test from another box too it would probably be useful.</tt><br>
<br>
<tt>Another thing that strikes me, you say the problem shows up when you 
have high traffic volumes, and somewhere in this thread you indicate 
that you have Gbit interfaces. _If_ 192.168.0.254 is a (cheap) broadband 
router (it has a very typical default gateway IP:-) it might very well 
start sweating if your server feeds it data a Gbit speed while it can 
only get rid of the data in a normal broadband connection speed. Could 
you try to force the network interface on the server down to 100 mbit/FD?</tt><br>
<br>
<pre style="margin: 0em;">kind regards,
-sig</pre><br>
<pre style="margin: 0em;">--
Sigurd Urdahl
Linux, goofing, cooking, making fire, computer security, having a
beer. Give me good music.</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00256" href="msg00256.html">Re: [tlug] network losing connection</a></strong>
<ul><li><em>From:</em> Matt Gross</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00225" href="msg00225.html">[tlug] network losing connection</a></strong>
<ul><li><em>From:</em> Matt Gross</li></ul></li>
<li><strong><a name="00239" href="msg00239.html">Re: [tlug] network losing connection</a></strong>
<ul><li><em>From:</em> Sigurd Urdahl</li></ul></li>
<li><strong><a name="00248" href="msg00248.html">Re: [tlug] network losing connection</a></strong>
<ul><li><em>From:</em> Matt Gross</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00252.html">[tlug] Re: About Japanese input systems</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00254.html">Re: [tlug] ruby and python in Japan</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00248.html">Re: [tlug] network losing connection</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00256.html">Re: [tlug] network losing connection</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00253"><strong>Date</strong></a></li>
<li><a href="threads.html#00253"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
