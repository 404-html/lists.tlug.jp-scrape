<!-- MHonArc v2.2.0 -->
<!--X-Subject: PPP Problems (Re: tlug: PPP for Dummies :&#45;) -->
<!--X-From: Gaspar Sinai <gsinai@example.com> -->
<!--X-Date:  Tue, 2 Jun 1998 01:40:23 +0900 -->
<!--X-Message-Id: Pine.LNX.3.96.980602011255.372A&#45;100000@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199805311541.PAA00414@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00038.html">Date Prev</A>][<A HREF="msg00040.html">Date Next</A>][<A HREF="msg00072.html">Thread Prev</A>][<A HREF="msg00086.html">Thread Next</A>][<A HREF="maillist.html#00039">Date Index</A>][<A HREF="threads.html#00039">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>PPP Problems (Re: tlug: PPP for Dummies :-)</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>PPP Problems (Re: tlug: PPP for Dummies :-)</strong></LI>
<LI><strong>From</strong>: <strong>Gaspar Sinai &lt;<A HREF="mailto:gsinai@example.com">gsinai@example.com</A>&gt;</strong></LI>
<LI>Date: Tue, 2 Jun 1998 01:28:46 +0900 (JST)</LI>
<LI>Content-Type: TEXT/PLAIN; charset=US-ASCII</LI>
<LI>In-Reply-To: &lt;<A HREF="msg00002.html">199805311541.PAA00414@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Hi Karl,
My provider gives me an access point that I could use while I am
abroad. There are some catches. Now I could set it up so that
it works, but it seems to work only with Windows95 which is totally
useless for me, because all my mail stuff is on the Linux partition
of a dual-boot laptop. 

I would be glad if somebody with compuserve experience could help me. I
even would appriciate directing me how to get a log file of the
authentication of Windows 95 so that I could replicate it in Linux. Now,
in lack of  documentation and sorrunding with proprietary Windows and
Compuserve allience I am thinking of attaching a serial port analyzer, if
I can get one. It is definitelly cheaper than long distance calls from
here.

What I have learnt so far is that:
o the access point is Compuserve
o When you connect it is 7-bit mode.
o People with compuserve accounts here converse the following way:
CONNECT 
&lt;garbage&gt;: +                           this swithes from 7 to 8 bit mode
Host Name:  CIS
Login ID: 12345,213/GO:PPPCONNECT      This tells them what we are up to
                                       but it wont work for me. It says
                                       'invalid login' . Yeah, my login
                                       is not a number.....
Password: &lt;passw&gt;
start pppd here.

So this works for Compuserve users in Linux, but it wont work for me. 
My Id is not a number. But in windows it works. How can I get what windows
does without a serial analyzer? 

Thanks,
gaspar


On Sun, 31 May 1998, Karl-Max Wagner wrote:

&gt; Hi everybody,
&gt; 
&gt; as there apparently are people having trouble with getting ppp
&gt; running ( wonder why.....it's that easy..... ) I'll give some
&gt; instruction of doing it the quick and dirty and easy way.
&gt; 
&gt; First, the basis for checking any modem connection is a terminal
&gt; program. Minicom is simple and handy.
&gt; 
&gt; Start up Minicom and see to it that it is started on the serial
&gt; port your modem is connected to. See to it that the modem is
&gt; initialized correctly. Test that by dialling into an ordinary
&gt; BBS system and see whether everything works correctly. Try a
&gt; zmodem download, if possible to verify whether that works.
&gt; 
&gt; Everything OK ? Good. Now we will proceed to getting a ppp
&gt; connection to your Internet provider. Before we proceed any
&gt; further, we will deal with the theory of authentication first.
&gt; 
&gt; There are two fundamental ways of authentication: terminal and
&gt; pap/chap authentication. Terminal authentication is just what it
&gt; says: you get a "login:" prompt, reply with your login name,
&gt; then you get a "Password:" prompt and you reply with your
&gt; password. Then you are logged in. If you did that with your
&gt; ISP, you won't get a shell prompt now. After a few seconds
&gt; you'll see garbage like this: #$%&amp;'()~+* This is actually the
&gt; ppp daemon of your ISP trying to talk to its colleague of your
&gt; machine.
&gt; 
&gt; In case you have pap/chap authentication you just wait for your
&gt; modem to get the connection to your ISP. Then you leave your
&gt; terminal program WITHOUT CLOSING DOWN THE CONNECTION and start
&gt; your ppp in authentication mode. Your pppd now talks to that one
&gt; of the ISP and does the authentication for you and then sets up
&gt; the ppp connection. Nifty, eh ?
&gt; 
&gt; In the case of Minicom you do that by typing the sequence CTRL-A Q
&gt; and then starting up your pppd with the required parameters.
&gt; 
&gt; Good, you say, and what are the required parameters ? Here is
&gt; what I use for terminal authentication:
&gt; 
&gt; /usr/sbin/pppd /dev/ttyS1 57600 crtscts mtu 1500 mru 1500 \
&gt; defaultroute noipdefault
&gt; 
&gt; What does that mean ? Glad ya asked :-)
&gt; 
&gt; In the above pppd is started using its absolute address (a
&gt; little bit of luxury maybe....). It is connected to the
&gt; interface /dev/ttyS1, in other words, COM2 (to use DOS lingo)
&gt; with a speed of 57600 bits/second. On the serial interface
&gt; hardware flow control is used using the RTS/CTS status lines (
&gt; this is what "crtscts" means ). The maximum packet sizes for
&gt; transmission (mtu) and reception (mru) are 1500 bytes ( this is
&gt; what "mtu 1500 mru 1500" mean ). Then follows a "\" which simply
&gt; escapes the linefeed at the end of the line to append the stuff
&gt; of the next line, too.
&gt; 
&gt; What the fuch then means "defaultroute noipdefault".
&gt; Hahaaa....that's the net wizard's special incantations.....
&gt; 
&gt; A "defaultroute" has to do with Internet routing. It is the
&gt; interface to which all requests for addresses locally unknown
&gt; are sent. Locally unknown means, if the addresses or the network
&gt; to which they belong are not explicitely entered into your
&gt; kernel routing table ( to read it type "route" at the command
&gt; prompt ). And now the important catch......
&gt; 
&gt; It may happen that you configured your scripts in a way that the
&gt; defaultroute is already set to your ethernet card interface if
&gt; you have one. In this case your kernel sends all requests to
&gt; your ethernet interface instead to the ppp interface and from
&gt; there into the Internet. 
&gt; 
&gt; So what have you got then ? Your PPP connection runs fine, but
&gt; all your requests to the Internet go into the Bg Bit Bucket.
&gt; 
&gt; Ultra super uncool megabummer !!!! No Internet !
&gt; 
&gt; So, when doing a "route" and the default does not point to
&gt; ppp something you got that problem. Go and change the startup
&gt; scripts involved. Then reboot and start up ppp again. If route
&gt; now shows the correct default route you're all set. Go and enjoy
&gt; the Internet.....
&gt; 
&gt; Now for the remaining incantation that reads "noipdefault". Most
&gt; probably you don't have a fixed IP address, your ISP assigns you
&gt; one each time you dial in. This "noipdefault makes pppd ask for
&gt; the assignment of an IP address from the ISP and subsequently
&gt; using it for the connection. Just leave it there. It always
&gt; works :-)
&gt; 
&gt; More catches......
&gt; It is of utmost importance that the speed and the interface you
&gt; connect to using Minicom and subsequently pppd are EXACTLY the
&gt; same for both or your pppd will die after a few seconds. So if
&gt; you connect to /dev/modem under Minicom you also have to connect
&gt; to /dev/modem with pppd. /dev/cua1 or /dev/ttyS1 WON'T do, even
&gt; when /dev/modem is a link to one of them.
&gt; 
&gt; Also see to it that the protocol under Minicom is set to "8n1"
&gt; (8 data bits, no parity, one stop bit).
&gt; 
&gt; OK.....and how about that pap/chap stuff ? Well, just a little
&gt; extension......
&gt; 
&gt; Here is my callup of pppd for pap:
&gt; 
&gt; /usr/sbin/pppd /dev/ttyS1 57600 crtscts mtu 1500 mru 1500 \
&gt; defaultroute noipdefault remotename oberland.net user karlmax
&gt; 
&gt; As you can see, it's exactly the same garbage than above with
&gt; some stuff added, more specifically "remotename oberland.net
&gt; user karlmax". The remotename is simply the name of my ISP (the
&gt; best in the world - you should subscribe to them, too) and my
&gt; username there.
&gt; 
&gt; Actually, the remotename is only required to find the correct
&gt; line in the file containing the password, /etc/ppp/pap-secrets.
&gt; 
&gt; In my case it looks like this:
&gt; 
&gt; karlmax   oberland.net   MyPassword
&gt; 
&gt; It may have more than one line, but I need only one. The
&gt; sequence of entries in a line is &lt;username&gt; &lt;remotename&gt;
&gt; &lt;password&gt;.
&gt; 
&gt; Hey, and don't try to pirate my account with the above. I have
&gt; another password, of course.....
&gt; 
&gt; As already said in the above, you just use Minicom to get a
&gt; modem connection running and then leave it and start up pppd to
&gt; do the rest. I put all that into little scripts calling up
&gt; minicom first and automatically launching pppd when I leave
&gt; minicom.
&gt; 
&gt; And by the way, there is a good book on Linux networking: Olaf
&gt; Kirch's "Linux Network administrator's Guide". The book is
&gt; excellent and helped me a lot when I started. It is available
&gt; from O'Reilly in paper form or from any good LDP archive in
&gt; electronic form. Get it and study it.
&gt; 
&gt; Hello, TLUG archivar ! Please could you put this posting into
&gt; some sort of archive, into the TLUG homepage or whatever ? I
&gt; have that eerie feeling that the next newbie will ask the same
&gt; questions soon and I don't want to post that every week ! Thank
&gt; you !
&gt; 
&gt; Hope that helps. Questions welcome !
&gt; 
&gt;                                 Karl-Max Wagner
&gt;                                 karlmax@example.com
&gt; --------------------------------------------------------------
&gt; Next TLUG Meeting: 13 June Sat, Tokyo Station Yaesu gate 12:30
&gt; Featuring Stone and Turnbull on .rpm and .deb packages
&gt; Next Nomikai: 17 July, 19:30 Tengu TokyoEkiMae 03-3275-3691
&gt; After June 13, the next meeting is 8 August at Tokyo Station
&gt; --------------------------------------------------------------
&gt; Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>
&gt; 

--------------------------------------------------------------
Next TLUG Meeting: 13 June Sat, Tokyo Station Yaesu gate 12:30
Featuring Stone and Turnbull on .rpm and .deb packages
Next Nomikai: 17 July, 19:30 Tengu TokyoEkiMae 03-3275-3691
After June 13, the next meeting is 8 August at Tokyo Station
--------------------------------------------------------------
Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00086" HREF="msg00086.html">tlug: Compuserve and PPP</A></STRONG>
<UL><LI><EM>From:</EM> Karl-Max Wagner &lt;karlmax@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00002" HREF="msg00002.html">tlug: PPP for Dummies :-)</A></STRONG>
<UL><LI><EM>From:</EM> Karl-Max Wagner &lt;karlmax@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00038.html">RE: tlug: File Browsers</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00040.html">Re: tlug: Linux telecom nexus</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00072.html">Re: tlug: PPP for Dummies :-)</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00086.html">tlug: Compuserve and PPP</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00039"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00039"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
