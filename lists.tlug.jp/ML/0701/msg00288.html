<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Host Blocking and Logfile Parsing -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Sat, 20 Jan 2007 11:31:35 +0900 -->
<!--X-Message-Id: Pine.NEB.4.64.0701201053020.1314@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00287.html">Date Prev</a>][<a href="msg00289.html">Date Next</a>][<a href="msg00283.html">Thread Prev</a>][<a href="msg00299.html">Thread Next</a>][<a href="maillist.html#00288">Date Index</a>][<a href="threads.html#00288">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Host Blocking and Logfile Parsing</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sat, 20 Jan 2007 11:12:56 +0900 (JST)</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Host%20Blocking%20and%20Logfile%20Parsing">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Host Blocking and Logfile Parsing</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;"><br>I myself don't see the security advantage of blocking IPs based on the
ssh attacks; turn off password authentication and no password attack
will ever succeed anyway.</pre><br>
<pre style="margin: 0em;">However, if you are doing things such as this, be careful how you're
parsing your logs. You have to keep in mind that your logs probably
contain data determined by the attacker, and thus if you're using
something like a shell script to parse it, you may be opening up far
larger security holes than you're closing. In the extreme case, you may
end up going from having a perfectly secure system to allowing anybody
to execute arbitrary commands as root on your system.</pre><br>
<pre style="margin: 0em;">The thread that this message is a part of:</pre><br>
<pre style="margin: 0em;">    <a  href="http://archives.neohapsis.com/archives/fulldisclosure/2006-11/0434.html">http://archives.neohapsis.com/archives/fulldisclosure/2006-11/0434.html</a></pre><br>
<pre style="margin: 0em;">discusses a shell script running as root and parsing logs that may or
may not have done sufficient quoting of log data to avoid arbitrary
command execution. (I didn't bother to read the whole thread, since the
security of this particular script isn't really of concern to me.)</pre><br>
<pre style="margin: 0em;">In general, I'd avoid the use of Bourne shell, or any system that
might evaulate network data in an interpreter, for parsing log files.
Evaulating data is fraught with peril, and is usually very hard to get
correct. (Thus the idea of 'taint' mode in interpreters for languages
such as Perl and Ruby.) The particular attack above related to attempts
to log in as users with metacharacters in the login name:</pre><br>
<pre style="margin: 0em;">    ssh 'foo bar `/sbin/halt`'@example.com</pre><br>
<pre style="margin: 0em;">As always, stay simple, and don't get too clever.</pre><br>
<pre style="margin: 0em;">cjs
--
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974</pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00299" href="msg00299.html">Re: [tlug] Host Blocking and Logfile Parsing</a></strong>
<ul><li><em>From:</em> scott</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00287.html">Re: Learn a Variety of Languages . . . . . . . (was: Re: [tlug] Re:	Bourne Shell is the most appropriate scripting language)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00289.html">UTF-8: each character is one byte . . . . . . (was: Re: Learn a	Variety of Languages) [tlug]</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00283.html">Re: [tlug] Re: CJK Printing from Web Browsers in Debian 3.3.2</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00299.html">Re: [tlug] Host Blocking and Logfile Parsing</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00288"><strong>Date</strong></a></li>
<li><a href="threads.html#00288"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
