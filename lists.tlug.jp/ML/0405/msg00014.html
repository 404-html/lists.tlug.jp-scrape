<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] NEC Aterm DR302 and SSH timeouts -->
<!--X-From-R13: Xvz Fvggfyre <wjg&#45;gyhtNAaXncna.arg> -->
<!--X-Date: Tue, 4 May 2004 10:14:15 +0900 -->
<!--X-Message-Id: 20040504011415.GA20212@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 54379B35.5B551078@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00013.html">Date Prev</a>][<a href="msg00015.html">Date Next</a>][<a href="msg00006.html">Thread Prev</a>][<a href="msg00026.html">Thread Next</a>][<a href="maillist.html#00014">Date Index</a>][<a href="threads.html#00014">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] NEC Aterm DR302 and SSH timeouts</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 4 May 2004 10:14:15 +0900</li>
<li><strong>From</strong>: <strong>Jim Tittsler &lt;<A HREF="mailto:jwt-tlug@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20NEC%20Aterm%20DR302%20and%20SSH%20timeouts">jwt-tlug@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] NEC Aterm DR302 and SSH timeouts</strong></li>
<li>References: &lt;<a href="msg00006.html">54379B35.5B551078@example.com</a>&gt;</li>
<li>Organization: 7J1AJH/AI8A Tokyo</li>
<li>User-agent: Mutt/1.4.1i</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
On Mon, May 03, 2004 at 02:56:43PM +0900, Ian Barwick wrote:
&gt; I'm using such a connection right now, with a piece of kit between me
&gt; and the Internet labelled &quot;NEC Aterm DR302&quot;, which seems to be a
&gt; combined DSL modem (at least I presume it's DSL) and router on a Nihon
&gt; Telecom connection. Everything works fine except that idle SSH
&gt; sessions get timeouts after a while, which is turning intercontinental
&gt; server administration into a bit of a drag.

Some SSH clients have the ability to insert an SSH NOOP
periodically on an idle connection.  (PuTTY for example.  :-)
There are patches that allow you to add it to OpenSSH.
  <A  HREF="http://www.sc.isc.tohoku.ac.jp/~hgot/sources/openssh-watchdog.html">http://www.sc.isc.tohoku.ac.jp/~hgot/sources/openssh-watchdog.html</A>

There may be an easier alternative.  Are you running ssh with
TCP &quot;KeepAlive&quot; messages enabled?  A TCP keepalive may be
enough for your device to sense activity on the link.
Depending on how long the timeout is, you need to increase the
KeepAlive frequency to make sure there is some packet activity
on the link.  By default Linux sets tcp_keepalive_time to 7200
seconds.  Reducing it to 1800 or 900 might be enough to keep
your connection alive without adding significant network
traffic.
  echo 1800 &gt;/proc/sys/net/ipv4/tcp_keepalive_time
  
-- 
Jim Tittsler                                         GPG: 0x01159DB6
Kanto Computer Calendar  <A  HREF="http://www.OnJapan.net/calendar/">http://www.OnJapan.net/calendar/</A>
Python Starship          <A  HREF="http://Starship.Python.net/">http://Starship.Python.net/</A>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00026" href="msg00026.html">Re: [tlug] NEC Aterm DR302 and SSH timeouts</a></strong>
<ul><li><em>From:</em> Ian Barwick</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">[tlug] NEC Aterm DR302 and SSH timeouts</a></strong>
<ul><li><em>From:</em> Ian Barwick</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00013.html">Re: [tlug] playing real video with an open source player</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00015.html">[tlug] character input q's</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00006.html">[tlug] NEC Aterm DR302 and SSH timeouts</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00026.html">Re: [tlug] NEC Aterm DR302 and SSH timeouts</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00014"><strong>Date</strong></a></li>
<li><a href="threads.html#00014"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
