<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] Japanese regex question -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Tue, 30 Aug 2005 02:27:56 +0900 -->
<!--X-Message-Id: 871x4clkkj.fsf@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200508241701.55144.jq@example.com -->
<!--X-Reference: 20050825183913.O88704@example.com&#45;pun.prv -->
<!--X-Reference: 200508251253.47083.jq@example.com -->
<!--X-Reference: 20050826113217.J88704@example.com&#45;pun.prv -->
<!--X-Reference: 87zmr2me23.fsf@example.com -->
<!--X-Reference: 003a01c5ac6d$b6a53420$0b01a8c0@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00237.html">Date Prev</a>][<a href="msg00239.html">Date Next</a>][<a href="msg00229.html">Thread Prev</a>][<a href="msg00186.html">Thread Next</a>][<a href="maillist.html#00238">Date Index</a>][<a href="threads.html#00238">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Japanese regex question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 30 Aug 2005 02:27:56 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<A HREF="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20Japanese%20regex%20question">stephen@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Japanese regex question</strong></li>
<li>References: &lt;<a href="msg00167.html">200508241701.55144.jq@example.com</a>&gt;&lt;<a href="msg00182.html">20050825183913.O88704@example.com</a>&gt;&lt;<a href="msg00184.html">200508251253.47083.jq@example.com</a>&gt;&lt;<a href="msg00187.html">20050826113217.J88704@example.com</a>&gt;&lt;<a href="msg00203.html">87zmr2me23.fsf@example.com</a>&gt;&lt;<a href="msg00229.html">003a01c5ac6d$b6a53420$0b01a8c0@example.com</a>&gt;</li>
<li>Organization: The XEmacs Project</li>
<li>User-agent: Gnus/5.1007 (Gnus v5.10.7) XEmacs/21.5-b21 (corn, linux)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
&gt;&gt;&gt;&gt;&gt; &quot;Ben&quot; == Ben K Bullock &lt;benkasminbullock@example.com&gt; writes:

    Ben&gt; it's virtually impossible to miss where a Unicode character
    Ben&gt; starts.

If you're trying to find them.  But you advocate not looking for them
by default!  That is what I'm saying is a mistake.

    Ben&gt; Mule didn't do Unicode for a long time, certainly ten years
    Ben&gt; ago there was absolutely no support for it.

Mule has a universal coded character set (UCS).  No, it's not Unicode
and yes, it's a mistake that it wasn't Unicode.  But the principles of
programming with it are identical to those of UTF-8.

    Ben&gt; It still is not working perfectly, unfortunately.

If you're referring to Unicode handling per se, it's not relevant to
this discussion.  What matters is the fact that Mule has successfully
used an abstractly similar UCS internally for over a decade.  For
internal purposes this UCS has proven to be as bullet-proof as Unicode
as used by Perl (a UTF-8 variant, IIRC) and Python (UCS-2), and it
precedes them by almost 10 years.

That is, almost all of the problems due to Mule have to do with (a)
codecs and (b) GNU Emacs's failure to separate the integer type from
the character type.  There have been a few problems with Mule-specific
features in regexps but they were resolved 7 or 8 years ago (in
XEmacs, anyway).

Based on that example, Perl and Python should have defaulted to
Unicode as the internal encoding, rectifying Mule's mistake in choice
of internal coded character set but keeping the good aspects of the
design.

    Ben&gt; Switch it on with &quot;use utf8&quot; and regular expressions,
    Ben&gt; strings, etc. all work as if one Unicode character was
    Ben&gt; exactly equivalent to one byte.

Same for Mule, except that there's no on-off switch.  Since 1992.[1]

    Ben&gt; The developers are going to make even &quot;use utf8&quot; unnecessary,
    Ben&gt; it's said.

They (and the designers of Python) should have done that immediately.
That's all I said.

    Ben&gt; The only tricky thing with Perl is input and output: it's
    Ben&gt; necessary to specify that an input or output file is utf-8
    Ben&gt; using binmode, otherwise it gets treated as bytes.

With Mule, you don't have to do that.  Sometimes you do need to
specify that files are binary, of course.  But even that is fairly
rare.  (Of course you have to disambiguate different flavors of
ISO-8859 or EUC more or less by hand, but UTF-8 vs everything else is
very accurately detected.)

    Ben&gt; However, if you think about it, that is necessary, since
    Ben&gt; there is no guarantee that every file input or output must be
    Ben&gt; in utf-8 format, and forcing everything to be read as utf-8
    Ben&gt; would cause errors on non-utf-8 binary files.

It's not necessary.  That's what exception handlers are for.  And most
application programmers would never need to write such an exception
handler; there would be a standard &quot;autodetection&quot; codec that handled
this for them.[2]

Of course if you know they're non-UTF-8 binary, then explicitly
forcing binary makes a lot of sense.  That's what I advocate.


Footnotes: 
[1]  Well, admittedly when RMS finally approved the Mule merge into
GNU Emacs, he insisted on putting in an on-off switch.  But he's
learned the error of his ways---there won't be one in Emacs 23.  And
XEmacs has never had one, except at compile time.

[2]  If your encoding-specific codecs error properly on nonsense octet
sequences, you could even implement this as a simple loop over a list
of encoding-specific codecs at some expense of buffer space and time,
neither of which is noticable in 99% of Emacs applications.  I would
bet that 75% of Python and Perl applications would be the same.

-- 
School of Systems and Information Engineering <A  HREF="http://turnbull.sk.tsukuba.ac.jp">http://turnbull.sk.tsukuba.ac.jp</A>
University of Tsukuba                    Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
               Ask not how you can &quot;do&quot; free software business;
              ask what your business can &quot;do for&quot; free software.

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00167" href="msg00167.html">[tlug] Japanese regex question</a></strong>
<ul><li><em>From:</em> Jonathan Byrne</li></ul></li>
<li><strong><a name="00182" href="msg00182.html">Re: [tlug] Japanese regex question</a></strong>
<ul><li><em>From:</em> Tod McQuillin</li></ul></li>
<li><strong><a name="00184" href="msg00184.html">Re: [tlug] Japanese regex question</a></strong>
<ul><li><em>From:</em> Jonathan Byrne</li></ul></li>
<li><strong><a name="00187" href="msg00187.html">Re: [tlug] Japanese regex question</a></strong>
<ul><li><em>From:</em> Tod McQuillin</li></ul></li>
<li><strong><a name="00203" href="msg00203.html">Re: [tlug] Japanese regex question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00229" href="msg00229.html">Re: [tlug] Japanese regex question</a></strong>
<ul><li><em>From:</em> Ben K. Bullock</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00237.html">Re: [tlug] Japanese regex question</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00239.html">Re: [tlug] Japanese regex question</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00229.html">Re: [tlug] Japanese regex question</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00186.html">Re: [tlug] Japanese regex question</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00238"><strong>Date</strong></a></li>
<li><a href="threads.html#00238"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
