<!-- MHonArc v2.5.2 -->
<!--X-Subject: RE: [tlug] Linux init 0 by powerbutton -->
<!--X-From-R13: cngevpx.avrffraNtreyvat.pb.wc -->
<!--X-Date: Wed, 28 Jul 2004 03:39:19 +0200 -->
<!--X-Message-Id: 87514FF5916BD511A0E60008C709457C04CDFC@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00266.html">Date Prev</a>][<a href="msg00268.html">Date Next</a>][<a href="msg00237.html">Thread Prev</a>][<a href="msg00276.html">Thread Next</a>][<a href="maillist.html#00267">Date Index</a>][<a href="threads.html#00267">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [tlug] Linux init 0 by powerbutton</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 28 Jul 2004 03:39:19 +0200</li>
<li><strong>From</strong>: <strong><A HREF="mailto:patrick.niessen@DOMAIN.HIDDEN?SUBJECT=RE%3A%20%5Btlug%5D%20Linux%20init%200%20by%20powerbutton">patrick.niessen@example.com</A></strong></li>
<li><strong>Subject</strong>: <strong>RE: [tlug] Linux init 0 by powerbutton</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>


&gt; -----Original Message-----
&gt; From: Godwin Stewart [<A  HREF="mailto:gstewart@example.com">mailto:gstewart@example.com</A>] 
&gt; Sent: Thursday, July 22, 2004 5:32 PM
&gt; To: tlug@example.com
&gt; Subject: Re: [tlug] Linux init 0 by powerbutton
&gt; 
&gt; 

&gt; Having a keyboard and at least a graphics adaptor makes it 
&gt; relatively painless to troubleshoot the sucker if the network 
&gt; doesn't work for some reason.

The intention was to have a device that is unobstrusive and as easy to use
as a toaster. So my wife can switch it on and off when needed, without
typing or looking at a screen.  The Linux box will then be central storage
location for photos, mp3s and movies, as well as providing an rsync storage
point for my Mac Dual G5 and possibly print serving functions.

File system export will be mainly samba, maybe nfs.
 
&gt; You'll want a machine which is recent enough to have a not 
&gt; too buggy implementation of ACPI. About 1999 vintage or later 
&gt; will do the trick. If the machine is closer to that vintage 
&gt; than to present day technology you might need to add 
&gt; &quot;acpi=force&quot; to the kernel command line. Make sure your BIOS 
&gt; is set with ACPI support and so that the machine doesn't 
&gt; power off immediately when you hit the power button (usually 
&gt; it takes 4 seconds pressing on it).
&gt; 
&gt; You'll then need to add ACPI support to the kernel (but not 
&gt; APM, they're mutually exclusive), with support for the power 
&gt; button. This will generate an ACPI event whenever the power 
&gt; button is pressed, in turn generating a line in the pseudo 
&gt; file /proc/acpi/event.
&gt; 
&gt; Finally, you'll need acpid (supplied with most distros) which 
&gt; reads events turning up in /proc/acpi/event and which runs 
&gt; commands based on the type of event which happened and on a 
&gt; configuration file in /etc/acpi/events.
&gt; 
&gt; I have this setup here:
&gt; 
&gt; /etc/acpi/events/default:
&gt; 

&gt;#event=button power.* 
&gt; #action=/sbin/init 0
&gt; 

I tailed the acpid log and saw the powerbutton event being registered and
completed, but the machine stayed on.  I made it work by changing the event
line to:

event=button/power

maybe different events are generated depending on Bios?

Anyway, now thanks to this addition, the system works completely as
intended!

Patrick

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00276" href="msg00276.html">Re: [tlug] Linux init 0 by powerbutton</a></strong>
<ul><li><em>From:</em> Godwin Stewart</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00266.html">Re: [tlug] mozilla</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00268.html">Re: [tlug] mozilla</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00237.html">Re: [tlug] Linux init 0 by powerbutton</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00276.html">Re: [tlug] Linux init 0 by powerbutton</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00267"><strong>Date</strong></a></li>
<li><a href="threads.html#00267"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
