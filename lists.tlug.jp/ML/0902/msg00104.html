<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Re: [Hikari] Work on new VPS servers -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Fri, 13 Feb 2009 13:24:30 +0900 -->
<!--X-Message-Id: 20090213042427.GB17082@lucky.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 9536C5D7&#45;85CD&#45;41EE&#45;A9F0&#45;D42E00A22B00@mac.com -->
<!--X-Reference: 20090212070432.GE21537@smtp.office.cynic.net -->
<!--X-Reference: 1F74EC14&#45;9713&#45;4CCF&#45;8AE4&#45;78C785AE1BD2@mac.com -->
<!--X-Reference: 7D2BFFC9&#45;A644&#45;4CD7&#45;BF91&#45;6E9389247E88@h7.dion.ne.jp -->
<!--X-Reference: 150C9C9D&#45;209A&#45;453D&#45;9D1B&#45;5BBAFC012C05@mac.com -->
<!--X-Reference: 951B6F30&#45;0866&#45;4F84&#45;973B&#45;43DA5C594C83@mac.com -->
<!--X-Reference: 20090210143552.GG85068@samsara.bebear.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00103.html">Date Prev</a>][<a href="msg00105.html">Date Next</a>][<a href="msg00105.html">Thread Prev</a>][<a href="msg00107.html">Thread Next</a>][<a href="maillist.html#00104">Date Index</a>][<a href="threads.html#00104">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Re: [Hikari] Work on new VPS servers</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Fri, 13 Feb 2009 13:24:29 +0900</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Re:%20%5BHikari%5D%20Work%20on%20new%20VPS%20servers">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Re: [Hikari] Work on new VPS servers</strong></li>
<li>References: &lt;9536C5D7-85CD-41EE-A9F0-D42E00A22B00@mac.com&gt;	&lt;20090212070432.GE21537@smtp.office.cynic.net&gt;	&lt;1F74EC14-9713-4CCF-8AE4-78C785AE1BD2@mac.com&gt;	&lt;7D2BFFC9-A644-4CD7-BF91-6E9389247E88@h7.dion.ne.jp&gt;	&lt;150C9C9D-209A-453D-9D1B-5BBAFC012C05@mac.com&gt;	&lt;951B6F30-0866-4F84-973B-43DA5C594C83@mac.com&gt;	&lt;20090210143552.GG85068@samsara.bebear.net&gt;	&lt;9536C5D7-85CD-41EE-A9F0-D42E00A22B00@mac.com&gt;	&lt;20090212070432.GE21537@smtp.office.cynic.net&gt;	&lt;1F74EC14-9713-4CCF-8AE4-78C785AE1BD2@mac.com&gt;</li>
<li>User-agent: Mutt/1.5.17 (2007-11-01)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 2009-02-12 22:23 +0900 (Thu), Henri Servomaa wrote:

&gt; The downside is that not many people know how QAM works...

That's not a downside at all; it's just irrelevant, for reasons I'll get
into in a longer, and much more philisophical, post on the main list.

But to sum up the management decision you guys need to be dealing with
right now, look at it this way. Not many people know how your current
system works. If you handed this system to anybody who'd only interacted
with it as a user and said, &quot;set it up again on another machine,&quot; it
would be an enormous amount of work. (Look at how much time it's taking
now, even with people who know the system doing the work.)

The point of QAM is that it turns a lot of this sort of knowledge into
code and scripts, so that even someone who doesn't know the details
can at least know if things are working or not, which is probably the
hardest part of dealing with these sorts of situations. (Typically, the
solution is, &quot;roll it out and see if any users complain.&quot;) You just do a
checkout, run the &quot;Test&quot; script at the top level, and then start fixing
errors.

As an example of the sort of situation in which we use this, you can
look at our &quot;big web site project&quot; which you're somewhat familiar with.
This is a system with two different types of hosts running web servers
(currently sixteen dynamic content servers and five static content
servers), a host running background processing, and a host running the
DBMS. It currently includes several different server programs (lighttpd,
FCGI backeends for lighttpd, memcached, mogilefs, a DAV server, etc.
etc.), about ten diferent distinct server and daemon configurations, and
the code spans at least three different languages (C, Perl, and Ruby)
and uses more than 30 different libraries of the sort that don't come
preinstalled with most full-featured linux distributions (plus a lot
more that do).

If we had to manage and test all of these pieces individually on each
of the thirty or so production servers and yet more development servers
that pieces of this system have run on in the last half year, we'd be
sunk with sysadmin work. I developed QAM specifically to deal with this
sort of thing.

The philosophy behind this is: if you're given a new server with a fresh
OS install, and you can't get get a new copy of your production system
up and running within a couple of hours, something wants to be fixed.

On 2009-02-12 22:55 +0900 (Thu), zev wrote:

&gt; How would it be better than say Capistrano, Chef or Puppet?

Well, keep in mind that I'm only familiar with these in passing, so I
might well be missing some important details here. But from what I've
seen of these, they're pretty similar in focus to other tools I've
built in the past (and that I'm rebuilding now--*sigh*) in that they're
designed to maintain the configuration of hosts.

QAM does something superficially similar, at first glance, but it's got
a different focus: QAM maintains the configuration of applications,
ideally in a way that's fairly independent of the host.

One example would be that some of the special libraries that an
application uses are kept in the project, and built for that project.
So not only does this deal with the library not being present on the
host, it deals with a different version of the library being present,
or having to have a special patched version of the library for some
particular thing.

The consequences of this different orientation go beyond that; we also
can usually run multiple instances of a project or application's servers
on a single host, and we can have multiple applications running at the
same time, even if they do things like use incompatable libraries or
php.ini files or whatever.

QAM is also oriented towards testing the application; while Capistrano
and the like can look at a configuration and change it, these systems
don't appear to me to be able actually to, e.g., make requests of a web
server and make sure it's actually talking to the database, much less be
able to load up a full set of test data, start all the servers, and test
that the code is working correctly.

All that said, as we've seen before when discussing this, QAM has some
weaknesses, especially when it comes to dealing with suid things, or
where it can't get enough control over all of the pieces that it can do
things like change the ports that servers and clients run on in order to
run tests. For pieces that involve that, it would likely be better to
to turn other tools. I'm not proposing that we try to shovel everything
into QAM, just that we find the pieces that are suited to it, use QAM to
manage those, and see if we can save ourselves some effort in the long
run, as opposed to saving the world.

BTW, I'll be at the nomikai tonight if anybody wants to discuss this in
person.

cjs
-- 
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974
           Functional programming in all senses of the word:
                   <a  href="http://www.starling-software.com">http://www.starling-software.com</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00103.html">Re: [tlug] script works, shortcut doesn't</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00105.html">Re: [tlug] script works, shortcut doesn't</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00105.html">Re: [tlug] script works, shortcut doesn't</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00107.html">[tlug] Privacy question - owner settings</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00104"><strong>Date</strong></a></li>
<li><a href="threads.html#00104"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
