<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: gcc question -->
<!--X-From: Fredric Fredricson <fredric.fredriksson@example.com> -->
<!--X-Date:  Thu, 20 Jan 2000 11:26:50 +0900 -->
<!--X-Message-Id: 3886723C.70CEEBED@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.4.10.10001121547550.26141&#45;100000@example.com -->
<!--X-Reference-Id: 387DB3D3.15948545@example.com -->
<!--X-Reference-Id: 14461.53588.914038.845367@example.com -->
<!--X-Reference-Id: 387DDEE5.91F624DE@example.com -->
<!--X-Reference-Id: 14466.46047.822694.666971@example.com -->
<!--X-Reference-Id: 3883BD82.C28E3890@example.com -->
<!--X-Reference-Id: 14467.63547.386201.289028@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00092.html">Date Prev</A>][<A HREF="msg00094.html">Date Next</A>][<A HREF="msg00071.html">Thread Prev</A>][<A HREF="msg00051.html">Thread Next</A>][<A HREF="maillist.html#00093">Date Index</A>][<A HREF="threads.html#00093">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: gcc question</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: gcc question</strong></LI>
<LI><strong>From</strong>: <strong>Fredric Fredricson &lt;<A HREF="mailto:fredric.fredriksson@example.com">fredric.fredriksson@example.com</A>&gt;</strong></LI>
<LI>Date: Thu, 20 Jan 2000 03:26:04 +0100</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: text/plain; charset=us-ascii</LI>
<LI>Organization: MYDATA automation AB</LI>
<LI>References: &lt;<A HREF="msg00043.html">Pine.LNX.4.10.10001121547550.26141-100000@example.com</A>&gt;	&lt;<A HREF="msg00048.html">387DB3D3.15948545@example.com</A>&gt;	&lt;<A HREF="msg00049.html">14461.53588.914038.845367@example.com</A>&gt;	&lt;<A HREF="msg00050.html">387DDEE5.91F624DE@example.com</A>&gt;	&lt;<A HREF="msg00066.html">14466.46047.822694.666971@example.com</A>&gt;	&lt;<A HREF="msg00069.html">3883BD82.C28E3890@example.com</A>&gt; &lt;<A HREF="msg00071.html">14467.63547.386201.289028@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
"Stephen J. Turnbull" wrote:
&gt; 
&gt;     Fredric&gt; Malloc use sbrk(2) (or brk(2)) to ask the kernel for more
&gt;     Fredric&gt; memory when it needs it (there are btw probably also
&gt;     Fredric&gt; other ways than sbrk(2) to do this).
&gt; 
&gt; The man page doesn't say so, but there may be a POSIX way to get
&gt; memory (brk and sbrk are not POSIX).
There is mmap(2) (POSIX). I was told by somebody that I consider
very good on Linux kernel code that modern malloc implementation
probably use mmap(2) and leaves unaccessible pages to fence in some
areas, for example the internal data structures.
The only part that bugs me is that I can not see that it would be
possible to used both sbrk(2) and mmap(2) in the same program.
Maybe malloc does not use mmap(2) or maybe mmap(2) can be used
in a "safe" way together with sbrk(2).

&gt; 
&gt;     Fredric&gt; Consider the following c program:
&gt; 
&gt; It works for me too, although I don't know how offhand to determine
&gt; whether malloc is requesting integral multiples of the pagesize from
&gt; sbrk.
&gt; 
&gt; However, I do not get all the way to the end of the segment; in my
&gt; case, the stdout buffer doesn't get flushed before the SEGV occurs.
&gt; What version of glibc do you have?  (Mine is glibc 2.1.2, Debian
&gt; package revision 10.)
Well, you caught me with my pants down here ;-). I cheated and
copied the first part from stdout redirected to a file and the
last was part copy-paste from output to an xterm. My glibc is by 
the way also 2.1.2.

/Fredric
--------------------------------------------------------------------
Next Nomikai Meeting: February 18 (Fri) 19:00 Tengu TokyoEkiMae
Next Technical Meeting:  March 11 (Sat) 13:00 Temple University Japan
* Topic: TBD
--------------------------------------------------------------------
more info: <A TARGET="_top" HREF="http://www.tlug.gr.jp">http://www.tlug.gr.jp</A>        Sponsor: Global Online Japan

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00043" HREF="msg00043.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> "Scott M. Stone" &lt;sstone@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00048" HREF="msg00048.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> Fredric Fredricson &lt;Fredric.Fredriksson@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00049" HREF="msg00049.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> "Stephen J. Turnbull" &lt;turnbull@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00050" HREF="msg00050.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> Fredric Fredricson &lt;Fredric.Fredriksson@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00066" HREF="msg00066.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> "Stephen J. Turnbull" &lt;turnbull@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00069" HREF="msg00069.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> Fredric Fredricson &lt;fredric.fredriksson@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00071" HREF="msg00071.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> "Stephen J. Turnbull" &lt;turnbull@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00092.html">Re: tlug: automated login &amp; startx, etc</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00094.html">Re: tlug: automated login &amp; startx, etc</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00071.html">Re: tlug: gcc question</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00051.html">Re: tlug: gcc question</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00093"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00093"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
