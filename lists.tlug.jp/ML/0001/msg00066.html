<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: gcc question -->
<!--X-From: "Stephen J. Turnbull" <turnbull@example.com> -->
<!--X-Date:  Mon, 17 Jan 2000 15:17:35 +0900 -->
<!--X-Message-Id: 14466.46047.822694.666971@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.4.10.10001121547550.26141&#45;100000@example.com -->
<!--X-Reference-Id: 387DB3D3.15948545@example.com -->
<!--X-Reference-Id: 14461.53588.914038.845367@example.com -->
<!--X-Reference-Id: 387DDEE5.91F624DE@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00065.html">Date Prev</A>][<A HREF="msg00067.html">Date Next</A>][<A HREF="msg00050.html">Thread Prev</A>][<A HREF="msg00069.html">Thread Next</A>][<A HREF="maillist.html#00066">Date Index</A>][<A HREF="threads.html#00066">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: gcc question</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: gcc question</strong></LI>
<LI><strong>From</strong>: <strong>"Stephen J. Turnbull" &lt;<A HREF="mailto:turnbull@example.com">turnbull@example.com</A>&gt;</strong></LI>
<LI>Date: Mon, 17 Jan 2000 15:17:03 +0900 (JST)</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: text/plain; charset=us-ascii</LI>
<LI>In-Reply-To: &lt;<A HREF="msg00050.html">387DDEE5.91F624DE@example.com</A>&gt;</LI>
<LI>References: &lt;<A HREF="msg00043.html">Pine.LNX.4.10.10001121547550.26141-100000@example.com</A>&gt;&lt;<A HREF="msg00048.html">387DB3D3.15948545@example.com</A>&gt;&lt;<A HREF="msg00049.html">14461.53588.914038.845367@example.com</A>&gt;&lt;<A HREF="msg00050.html">387DDEE5.91F624DE@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt;&gt;&gt;&gt;&gt; "Fredric" == Fredric Fredricson &lt;Fredric.Fredriksson@example.com&gt; writes:

    Fredric&gt; It is not malloc(3) but sbrk(2) that malloc(3) use to
    Fredric&gt; request new pages from the kernel that matters.

No, because GNU malloc (some version of which is used in all Linux
systems AFAIK) breaks up the memory it gets from sbrk() into
reasonably-sized pieces.  In old GNU malloc, you only get all the raw
memory as returned by sbrk if you are allocating more memory than the
malloc BLOCKSIZE, which is 2048 bytes on 32 bit systems.  I don't know
what Doug Lea malloc does, though.

    Fredric&gt; If you allocate, say, 80 bytes using malloc and start to
    Fredric&gt; use the returned pointer to write to memory outside these
    Fredric&gt; 80 bytes you will probably corrupt malloc(3)s data
    Fredric&gt; structures before you try to access data outside the
    Fredric&gt; allocated memory for the process and get a SIGSEGV.

This actually is not true under the old GNU malloc, since it keeps its
data structures in separately allocated memory.  Again, I don't know
about the strategy followed by new GNU (Doug Lea) malloc, I don't have
a copy of the source on my system at the moment.

Of course, since C structures often contain pointers, and in many
cases function pointers, you don't need to corrupt malloc internal
data structures to generate SIGBUS and SIGSEGV errors before
overrunning the allocated memory.


-- 
University of Tsukuba                Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
Institute of Policy and Planning Sciences       Tel/fax: +81 (298) 53-5091
_________________  _________________  _________________  _________________
What are those straight lines for?  "XEmacs rules."
-------------------------------------------------------------------
Next Technical Meeting: January 14 (Fri) 19:00
* Topic: "glibc - current status and future developments"
* Guest Speaker: Ulrich Drepper (Cygnus Solutions)
* Place: Oracle Japan HQ 12F Seminar Room (New Otani Garden Court)
-------------------------------------------------------------------
more info: <A TARGET="_top" HREF="http://www.tlug.gr.jp">http://www.tlug.gr.jp</A>        Sponsor: Global Online Japan

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00069" HREF="msg00069.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> Fredric Fredricson &lt;fredric.fredriksson@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00043" HREF="msg00043.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> "Scott M. Stone" &lt;sstone@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00048" HREF="msg00048.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> Fredric Fredricson &lt;Fredric.Fredriksson@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00049" HREF="msg00049.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> "Stephen J. Turnbull" &lt;turnbull@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00050" HREF="msg00050.html">Re: tlug: gcc question</A></STRONG>
<UL><LI><EM>From:</EM> Fredric Fredricson &lt;Fredric.Fredriksson@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00065.html">tlug: It was PATH. Re: Partial execution of /etc/rc.d/rc.M</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00067.html">Re: tlug: problems with netscape 4.7 japanese</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00050.html">Re: tlug: gcc question</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00069.html">Re: tlug: gcc question</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00066"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00066"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
