<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] hardware -->
<!--X-From-R13: Fbq [pChvyyva <qrivaNfcnzpbc.arg> -->
<!--X-Date: Tue, 20 May 2003 18:22:06 +0900 (JST) -->
<!--X-Message-Id: 20030520182001.O551@example.com&#45;pun.prv -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20030519195335.D64D.PETER@example.com -->
<!--X-Reference: 200305191909.57155.jq@example.com -->
<!--X-Reference: 200305192302.56545@example.com -->
<!--X-Reference: 200305201601.22120.jq@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00264.html">Date Prev</a>][<a href="msg00266.html">Date Next</a>][<a href="msg00263.html">Thread Prev</a>][<a href="msg00248.html">Thread Next</a>][<a href="maillist.html#00265">Date Index</a>][<a href="threads.html#00265">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] hardware</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 20 May 2003 18:22:06 +0900 (JST)</li>
<li><strong>From</strong>: <strong>Tod McQuillin &lt;<A HREF="mailto:devin@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20hardware">devin@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] hardware</strong></li>
<li>References: &lt;<a href="msg00235.html">20030519195335.D64D.PETER@example.com</a>&gt; &lt;<a href="msg00238.html">200305191909.57155.jq@example.com</a>&gt;&lt;<a href="msg00245.html">200305192302.56545@example.com</a>&gt; &lt;<a href="msg00263.html">200305201601.22120.jq@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
On Tue, 20 May 2003, Jonathan Q wrote:

&gt; On Monday 19 May 2003 20:02, Sam Tilders wrote:
&gt;
&gt; &gt; Is there a specific reason you condemn realtek?
&gt;
&gt; Realtek 8129 and 8139 chipsets have had a lot of problems,
&gt; particularly under load and more particularly if NFS is
&gt; involved.  The driver code for one or more of the BSDs
&gt; described the level of brokenness in the the 81x9 chipsets
&gt; in fairly unflattering terms.

Yes, there are some nice comments in there.  Here's what Jonathan is
referring to:

/*
 * The RealTek 8139 PCI NIC redefines the meaning of 'low end.' This is
 * probably the worst PCI ethernet controller ever made, with the possible
 * exception of the FEAST chip made by SMC. The 8139 supports bus-master
 * DMA, but it has a terrible interface that nullifies any performance
 * gains that bus-master DMA usually offers.
 *
 * For transmission, the chip offers a series of four TX descriptor
 * registers. Each transmit frame must be in a contiguous buffer, aligned
 * on a longword (32-bit) boundary. This means we almost always have to
 * do mbuf copies in order to transmit a frame, except in the unlikely
 * case where a) the packet fits into a single mbuf, and b) the packet
 * is 32-bit aligned within the mbuf's data area. The presence of only
 * four descriptor registers means that we can never have more than four
 * packets queued for transmission at any one time.
 *
 * Reception is not much better. The driver has to allocate a single large
 * buffer area (up to 64K in size) into which the chip will DMA received
 * frames. Because we don't know where within this region received packets
 * will begin or end, we have no choice but to copy data from the buffer
 * area into mbufs in order to pass the packets up to the higher protocol
 * levels.
 *
 * It's impossible given this rotten design to really achieve decent
 * performance at 100Mbps, unless you happen to have a 400Mhz PII or
 * some equally overmuscled CPU to drive it.

[...]
-- 
Tod McQuillin

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00235" href="msg00235.html">[tlug] hardware</a></strong>
<ul><li><em>From:</em> Peter Evans</li></ul></li>
<li><strong><a name="00238" href="msg00238.html">Re: [tlug] hardware</a></strong>
<ul><li><em>From:</em> Jonathan Q</li></ul></li>
<li><strong><a name="00245" href="msg00245.html">Re: [tlug] hardware</a></strong>
<ul><li><em>From:</em> Sam Tilders</li></ul></li>
<li><strong><a name="00263" href="msg00263.html">Re: [tlug] hardware</a></strong>
<ul><li><em>From:</em> Jonathan Q</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00264.html">Re: [tlug] write in japanese under RH8 (via Evolution)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00266.html">[tlug] Scott's web page</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00263.html">Re: [tlug] hardware</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00248.html">Re: [tlug] hardware</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00265"><strong>Date</strong></a></li>
<li><a href="threads.html#00265"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
