<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] GNU EMacs &#38; Japanese files -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Wed, 22 Jun 2005 18:22:20 +0900 -->
<!--X-Message-Id: 87zmtiiw4z.fsf@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: BAY108&#45;F393CE2AEA8D124488832C9AAE80@example.com -->
<!--X-Reference: 47677.210.224.135.130.1119329640.squirrel@example.com -->
<!--X-Reference: 87vf48jgxy.fsf@example.com -->
<!--X-Reference: 28569.210.224.135.130.1119403356.squirrel@example.com -->
<!--X-Reference: 8764w7j5q8.fsf@example.com -->
<!--X-Reference: 55128.210.224.135.130.1119426323.squirrel@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00078.html">Date Prev</a>][<a href="msg00080.html">Date Next</a>][<a href="msg00078.html">Thread Prev</a>][<a href="msg00073.html">Thread Next</a>][<a href="maillist.html#00079">Date Index</a>][<a href="threads.html#00079">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] GNU EMacs &amp; Japanese files</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 22 Jun 2005 18:22:20 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<A HREF="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20GNU%20EMacs%20%26%20Japanese%20files">stephen@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] GNU EMacs &amp; Japanese files</strong></li>
<li>References: &lt;<a href="msg00067.html">BAY108-F393CE2AEA8D124488832C9AAE80@example.com</a>&gt;&lt;<a href="msg00071.html">47677.210.224.135.130.1119329640.squirrel@example.com</a>&gt;&lt;<a href="msg00074.html">87vf48jgxy.fsf@example.com</a>&gt;&lt;<a href="msg00076.html">28569.210.224.135.130.1119403356.squirrel@example.com</a>&gt;&lt;<a href="msg00077.html">8764w7j5q8.fsf@example.com</a>&gt;&lt;<a href="msg00078.html">55128.210.224.135.130.1119426323.squirrel@example.com</a>&gt;</li>
<li>Organization: The XEmacs Project</li>
<li>User-agent: Gnus/5.1006 (Gnus v5.10.6) XEmacs/21.5 (cilantro, linux)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
&gt;&gt;&gt;&gt;&gt; &quot;ijw&quot; == ijw  &lt;ijw@example.com&gt; writes:

    ijw&gt; Now, any chance I can persuade it it would like to use a
    ijw&gt; readable Japanese font as opposed to the strange italicised
    ijw&gt; (or brushed, but in any case horrendously pixellated) thing
    ijw&gt; it's rendering at the moment?

Dunno; Windows font handling is one of the things I just plain don't
grok.  Unfortunately, the menus just plain don't work for non-Latin
fonts yet, and I don't think Andy bothered to implement the font
dialog when he added dialog support.  :-(

If you know the Windows name (which probably is the obvious analog to
what appears in a Windows font dialog), then

(set-face-font 'default &quot;MS Mincho:12:::Japanese&quot;)

probably should get you 90% of the way.  (Don't take that font name
seriously, I'm going from memory of a comment in a C source file
... IIRC ....)

    ijw&gt; Also, reading the change documentation, I'm curious to know
    ijw&gt; how the GC mechanism has been rewritten for XEmacs.

Actually, as yet it's the same old GC, but it has been reimplemented
in preparation for working on better alternatives.

A short digression is necessary.  For many years the unexec process
has been a major annoyance, but with the entrance of stuff like the
&quot;Hannibal Lector&quot; linker and the &quot;We Could Tell You Where We'll Load
You, But Then We'd Have To kill(1) You&quot; security extensions, it's
become untenable.  Anyway, we borrowed Guido's time machine, and
implemented a portable dumper just in time to not have to revise our
Linux ELF unexec for the &quot;Hannibal Lector&quot; linker.

It turns out that the memory description records used to figure out
where portably dumped data came from and put it back where XEmacs can
find it at runtime are basically the same information that modern
garbage collectors need.  So Mike Sperber and his students at
U. Tuebingen extended the memory descriptors slightly and rewrote the
existing garbage collector to use them (that's the --enable-kkcc
option).  One of his students (Marcus Crestani) has written a new
allocator (the --enable-mc-alloc option), but I don't know much about
it.  This also required unifying the representation of lrecords and
elcrecords.  I guess he intends to implement a new GC on top of that
soon (anyway, Mike won't sign off on his MS until he does ;-).

    ijw&gt; I've recall seeing some suggestion for a Lisp garbage
    ijw&gt; collector that involved scanning the stack directly for
    ijw&gt; consblock references, which may have been vrey efficient but
    ijw&gt; looked totally appalling...

It's not really an issue of efficiency; that will come from a
generational collector or something like that.  Rather, the current GC
relies on being told which memory cells contain references to Lisp data,
which in the C code means using the GCPRO macros to protect that data.
Unfortunately, it's like any memory management by hand---highly error
prone.  Nor are these minor errors; they're double frees, dangling
pointers, and other hobgoblins.  Talk about appalling!  &quot;Conservative&quot;
collectors in theory avoid such errors; in practice they also tend to
overprotect garbage, producing memory leaks (or more likely long lags
in collection).

Anyway, probably the most commonly used C library for GC, the Boehm
collector, uses this strategy.  A couple of people have actually
hooked up the Boehm collector to XEmacs, but performance was pretty
horrible IIRC.  (They didn't try very hard, though.)

-- 
School of Systems and Information Engineering <A  HREF="http://turnbull.sk.tsukuba.ac.jp">http://turnbull.sk.tsukuba.ac.jp</A>
University of Tsukuba                    Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
               Ask not how you can &quot;do&quot; free software business;
              ask what your business can &quot;do for&quot; free software.

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00067" href="msg00067.html">[tlug] GNU EMacs &amp; Japanese files</a></strong>
<ul><li><em>From:</em> Danny Wilde</li></ul></li>
<li><strong><a name="00071" href="msg00071.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
<ul><li><em>From:</em> ijw</li></ul></li>
<li><strong><a name="00074" href="msg00074.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00076" href="msg00076.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
<ul><li><em>From:</em> ijw</li></ul></li>
<li><strong><a name="00077" href="msg00077.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00078" href="msg00078.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
<ul><li><em>From:</em> ijw</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00078.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00080.html">[tlug] Re: [tlug-digest] Website mirroring utility?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00078.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00073.html">Re: [tlug] GNU EMacs &amp; Japanese files</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00079"><strong>Date</strong></a></li>
<li><a href="threads.html#00079"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
