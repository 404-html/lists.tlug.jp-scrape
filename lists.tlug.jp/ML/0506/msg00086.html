<!-- MHonArc v2.5.2 -->
<!--X-Subject: RE: [tlug] Translating old to new kanji forms using tr -->
<!--X-From-R13: "Rnaal Ivyqr" <shmnxraobNubgznvy.pbz> -->
<!--X-Date: Wed, 29 Jun 2005 11:49:17 +0900 -->
<!--X-Message-Id: BAY108&#45;F284435AF09687207CA0BF1AAE00@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 42C1507D.5070608@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00085.html">Date Prev</a>][<a href="msg00087.html">Date Next</a>][<a href="msg00085.html">Thread Prev</a>][<a href="msg00101.html">Thread Next</a>][<a href="maillist.html#00086">Date Index</a>][<a href="threads.html#00086">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [tlug] Translating old to new kanji forms using tr</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 29 Jun 2005 11:49:17 +0900</li>
<li><strong>From</strong>: <strong>&quot;Danny Wilde&quot; &lt;<A HREF="mailto:fuzakenbo@DOMAIN.HIDDEN?SUBJECT=RE%3A%20%5Btlug%5D%20Translating%20old%20to%20new%20kanji%20forms%20using%20tr">fuzakenbo@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>RE: [tlug] Translating old to new kanji forms using tr</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>


&gt;From: David Riggs &lt;dariggs@example.com&gt;
&gt;Reply-To: tlug@example.com
&gt;To: tlug@example.com
&gt;Subject: [tlug] Translating old to new kanji forms using tr
&gt;Date: Tue, 28 Jun 2005 22:28:29 +0900
&gt;
&gt;I need to go back and forth between the old (旧孁E and the modern kanji 
&gt;forms. I have a list of corresponding old and new form and the the stardard 
&gt;utility &quot;tr&quot; works fine for a test case:
&gt;
&gt;echo 仁E| tr 仁E佁E&gt;
&gt;Gives back 佁Ejust fine.
&gt;
&gt;But as soon as I get more than a handful of characters in the two 
&gt;translation pair lists I get random answers that make no sense. I am 
&gt;setting up a script that simply feeds &quot;tr&quot; the two long lists that I have 
&gt;stuffed into two variables. But I have tried testing &quot;tr&quot; outside of the 
&gt;script and get the same weird results. I am running very standard Debian 
&gt;Sarge 3.1, starting up X with
&gt;
&gt;export XMODIFIERS=&quot;@example.com=kinput2&quot; LC_CTYPE=ja_JP.UTF-8

Using EUC coding, it's possible to get a series of kanji which is something 
like

A2 A4 B3 A4 (kanji 1, kanji 2)

Now, in your list tr might have a kanji A2 A4, and then one B3 A4, but also 
one A4 B3. Thus if it doesn't understand where one character begins and 
another ends, it might mistakenly match the A4 B3 as another kanji and thus 
foul up.

&gt;Which seems to make all the usual utilities work just fine with kanji 
&gt;inside the &quot;konsole&quot; (or plain old xterm as far as that goes).
&gt;
&gt;
&gt;Anybody tried to do this kind of stuff with &quot;tr&quot;? Or have another solution?

I've done something like this once, some time ago. The solution I used was 
to write a script in Perl. You could just write loads of s/kanji1/kanji2/, 
for example, (s/A/B/ means &quot;substitute A for B&quot; in Perl) or you could stuff 
all the kanji into an associative array and match them using a regular 
expression. I think (not sure) that the newer versions of perl have a \cJ 
operator which matches one Japanese character, so if the above-mentioned 
character overlap is the cause of the problem, then it would be solved that 
way.

This is all from a little faded memory, but I hope this is somewhat helpful.

Danny.

_________________________________________________________________
Express yourself instantly with MSN Messenger! Download today it's FREE! 
<A  HREF="http://messenger.msn.click-url.com/go/onm00200471ave/direct/01/">http://messenger.msn.click-url.com/go/onm00200471ave/direct/01/</A>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00101" href="msg00101.html">Re: [tlug] Translating old to new kanji forms using tr</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00085" href="msg00085.html">[tlug] Translating old to new kanji forms using tr</a></strong>
<ul><li><em>From:</em> David Riggs</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00085.html">[tlug] Translating old to new kanji forms using tr</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00087.html">Re: [tlug] Translating old to new kanji forms using tr</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00085.html">[tlug] Translating old to new kanji forms using tr</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00101.html">Re: [tlug] Translating old to new kanji forms using tr</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00086"><strong>Date</strong></a></li>
<li><a href="threads.html#00086"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
