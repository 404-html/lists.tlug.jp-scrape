<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] Firefox 3.0.1 doesn't respect <meta	http&#45;equiv="content&#45;type"> -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Wed, 17 Sep 2008 19:16:37 +0900 -->
<!--X-Message-Id: 877i9b5ay7.fsf@xemacs.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 48C9F1C4.10404@bebear.net -->
<!--X-Reference: 878wtx7tkq.fsf@xemacs.org -->
<!--X-Reference: 20080912073930.GA8935@lucky.cynic.net -->
<!--X-Reference: 8763p17ms6.fsf@xemacs.org -->
<!--X-Reference: 20080912094652.GD8935@lucky.cynic.net -->
<!--X-Reference: 873ak27pfe.fsf@xemacs.org -->
<!--X-Reference: 20080915025127.GB1369@lucky.cynic.net -->
<!--X-Reference: 87y71s66h2.fsf@xemacs.org -->
<!--X-Reference: 20080916083716.GI18304@lucky.cynic.net -->
<!--X-Reference: 87ej3j5wab.fsf@xemacs.org -->
<!--X-Reference: 20080917050847.GA2115@lucky.cynic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00229.html">Date Prev</a>][<a href="msg00232.html">Date Next</a>][<a href="msg00229.html">Thread Prev</a>][<a href="msg00156.html">Thread Next</a>][<a href="maillist.html#00231">Date Index</a>][<a href="threads.html#00231">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 17 Sep 2008 19:22:08 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Firefox%203.0.1%20doesn%27t%20respect%20%3Cmeta%9http-equiv%3D%22content-type%22%3E">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</strong></li>
<li>References: &lt;<a href="msg00155.html">48C9F1C4.10404@bebear.net</a>&gt; &lt;<a href="msg00159.html">878wtx7tkq.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00162.html">20080912073930.GA8935@lucky.cynic.net</a>&gt; &lt;<a href="msg00164.html">8763p17ms6.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00165.html">20080912094652.GD8935@lucky.cynic.net</a>&gt; &lt;<a href="msg00188.html">873ak27pfe.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00197.html">20080915025127.GB1369@lucky.cynic.net</a>&gt; &lt;<a href="msg00215.html">87y71s66h2.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00218.html">20080916083716.GI18304@lucky.cynic.net</a>&gt;	&lt;<a href="msg00227.html">87ej3j5wab.fsf@xemacs.org</a>&gt; &lt;<a href="msg00228.html">20080917050847.GA2115@lucky.cynic.net</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Curt Sampson writes:
 &gt; On 2008-09-17 11:41 +0900 (Wed), Stephen J. Turnbull wrote:

 &gt; &gt;  &gt; Rubbish. What &quot;meaning of HTML document data&quot; is this changing?
 &gt; &gt;  &gt; 
 &gt; &gt;  &gt;     &lt;META http-equiv=&quot;Age&quot; content=&quot;12&quot;&gt;
 &gt; &gt; 
 &gt; &gt; Nobody's talking about any header other than Content-Type, here.
 &gt; 
 &gt; Excuse me, but that is *exactly* what I am talking about.

If this is what you call &quot;exact&quot; ... pulling random stuff out of the
air ... raaaiiight.

 &gt; &gt; You yourself have argued (and Edward has echoed) that asking the httpd
 &gt; &gt; to verify the claims in its Content-Type is too burdensome.  So the
 &gt; &gt; HTTP Content-Type header field is (in actual practice, and supported
 &gt; &gt; by theory) at best a hint.
 &gt; 
 &gt; So your claim is that, if I send an HTTP page as type &quot;image/jpeg&quot;, the
 &gt; browser should, rather than saying &quot;this is a broken JPEG&quot;, dig around
 &gt; and try to determine the content-type automatically?

Where do you get that dope you're smoking?  Of course that's not my
claim.

No, the standard says we look at the Content-Type.  Since JPEG is a
medium that provides no mechanism for labelling what it is if it isn't
JPEG, so if the server says &quot;this is image/jpeg&quot; and JPEG doesn't
work, the browser should say &quot;I don't know what this is, what do you
want me to do?  I advise you to think carefully, because the server is
either lying or crazy.&quot;  And that's what the standard *should* say,
for image/* and similar, IMO.

And furthermore, *given the standard as it is*, we should do exactly
the same thing with text/html.  However, my claim is that that's a bad
standard, because servers are known to be unreliable and to have
common features that decrease reliability, and because they are in a
bad position to try to enforce accuracy.  Rather, something that
actually looks at the content should do this.  Composing tools,
offline website constructors, dynamic content generators, etc.  Not
the httpd.

 &gt; This is probably in violation of the standard,

If you don't already know that it is not in conformance to the
standards, at the very least for the case of &quot;text/html;
charset=utf-8&quot;, then you haven't read either the standards or my
recent posts with any care for &quot;exactness&quot; whatsoever.

 &gt; Basically, program your HTTP server to return correct content types, or
 &gt; live with the consequences.

If that could be done, I'd be happy.  So tell me, how do I stop Apache
from lying about charsets?

But what you really mean is that I should go through my entire website
and check all the files to make sure that none of them will confuse
the HTTP server.  That's what I will do eventually, but in the
meantime you cannot help me stop the httpd from lying, can you?

 &gt; &gt; If you don't want to deal with the inner protocol, don't use the
 &gt; &gt; Content-Type header.
 &gt; 
 &gt; And this is allowable in the standard? Just leave out &quot;Content-type&quot; and
 &gt; have the client guess?

Sure.  The standard says you *should* provide a Content-Type header.
The only times you *must* provide the Content-Type are when the
response is actually part of the HTTP protocol (or an extension such
as WebDAV).

 &gt; &gt; I think it's much more sensible to *define* the outer Content-Type as
 &gt; &gt; a hint....
 &gt; 
 &gt; I think that's a very, very bad thing unless you're very specific about
 &gt; exactly what may be encapsulated, and it's self-identifying.

First, by &quot;hint&quot; I mean &quot;non-authoritative, may be superseded by
'better' information&quot;.  If there's no better information, it's a very
bad idea to disregard the hint.

Second, we're talking about text/html here.  You may have decided it's
something else, but that's what I've been talking about the whole
time.  If the server says &quot;text/*&quot;, then the client has a huge amount
of latitude in any case, because of the imprecise nature of text.

 &gt; Again, guessing at content interpretation on the part of the client
 &gt; has been a source of security problems and exploits many times in
 &gt; the past.

Who's talking about &quot;guessing&quot;?  I'm definitely not!  I'm talking
about using additional information *designed for that purpose* that
may be available.

For example, one could take the HTTP Content-Type as primary, and if
the document looks &quot;odd&quot; for that media type, you could then take the
HTTP-EQUIV Content-Type, and if that is well-formed, you could check
if that fits better.

 &gt; &gt;  &gt; In the end, having a Content-type delivered by HTTP for whatever
 &gt; &gt;  &gt; it's encapsulating makes as much sense as a Windows box interpreting
 &gt; &gt;  &gt; any file ending in &quot;.jpg&quot; as a JPEG file,
 &gt; &gt; 
 &gt; &gt; Yeah, and we know how much havoc that has caused. :-(
 &gt; 
 &gt; Just what havoc, compared to not doing so?

Hm?  Assuming that a .jpg is a JPEG file, so that Outhouse will pass
it to Exploder, which then looks at the magic and determines it's an
.exe, which it then runs because Outhouse vouches for it, is a classic
vector for exploiting Windows.  Isn't that what you were talking
about?

 &gt; It is, indeed. If the encapsulation says, &quot;this chunk of data is
 &gt; image/jpeg&quot;, and you chose to ignore that based on guessing at content,

You are seriously confused here.  Nobody is talking about guessing,

 &gt; then it is indeed modifying the interpretation of the document from
 &gt; what the encpsulating protocol requested, which is what I meant.

and interpretation is not protocol data.  Interpretation is the
prerogative of the client (or should be, RFC 2616 seems to think
otherwise).  Would you claim that providing a View Source function is
a violation of the standard because it disregards the &quot;text/html&quot;
Content-Type?

 &gt; &gt; Obviously I believe that the right thing would be to amend the HTML
 &gt; &gt; standard to give precedence to the document.
 &gt; 
 &gt; That would also involve ammending the HTTP standard.

Unfortunately, it would appear so, as RFC 2616 specifies the behavior
of the recipient while failing to demand that the server give accurate
information.

 &gt; That's far different from the general case of the situation now.

Well, sure, I've never claimed anything different, and have asserted
three or four times now that Firefox's behavior *is* conformant to the
standards and that is *desirable* (correct, whatever) behavior given
the standards as they are.


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00155" href="msg00155.html">Re: [tlug] Firefox 3.0.1	doesn't	respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00159" href="msg00159.html">Re: [tlug] Firefox 3.0.1	doesn't	respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00162" href="msg00162.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00164" href="msg00164.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00165" href="msg00165.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00188" href="msg00188.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00197" href="msg00197.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00215" href="msg00215.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00218" href="msg00218.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00227" href="msg00227.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00228" href="msg00228.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00229.html">Re: [tlug] Firefox 3.0.1 doesn't respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00232.html">Re: [tlug] MySQL behaving strangely</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00229.html">Re: [tlug] Firefox 3.0.1 doesn't respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00156.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00231"><strong>Date</strong></a></li>
<li><a href="threads.html#00231"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
