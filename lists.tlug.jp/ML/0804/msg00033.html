<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Re: rsync efficiency (was: The Mother of All (bash) Commands) -->
<!--X-From-R13: "Xvz Perra" <wvzoerraNtznvy.pbz> -->
<!--X-Date: Tue, 01 Apr 2008 15:42:32 +0900 -->
<!--X-Message-Id: 5634e9210803312342l28747294h94bb9002fa38c8f4@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00032.html">Date Prev</a>][<a href="msg00034.html">Date Next</a>][<a href="msg00028.html">Thread Prev</a>][<a href="msg00036.html">Thread Next</a>][<a href="maillist.html#00033">Date Index</a>][<a href="threads.html#00033">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Re: rsync efficiency (was: The Mother of All (bash) Commands)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 1 Apr 2008 17:42:28 +1100</li>
<li><strong>From</strong>: <strong>&quot;Jim Breen&quot; &lt;<a href="mailto:jimbreen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Re:%20rsync%20efficiency%20%28was:%20The%20Mother%20of%20All%20%28bash%29%20Commands%29">jimbreen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Re: rsync efficiency (was: The Mother of All (bash) Commands)</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Attila Kinali &lt;attila@example.com&gt; pounded the table and roared:
&gt;  Curt Sampson &lt;cjs@example.com&gt; wrote:
&gt;  &gt; On 2008-03-18 15:55 +0100 (Tue), Attila Kinali wrote:
&gt;  &gt;
&gt;  &gt; &gt; Yes, rsync is horribly inefficient in nearly all ways.
&gt;  &gt; &gt; ...(ie, absolutely CPU limited).
&gt;  &gt;
&gt;  &gt; It's actually extremely efficient for the situation it was designed for,
&gt;  &gt; which is a large amount of very similar data on two machines and a slow
&gt;  &gt; network pipe.
&gt;
&gt;  Unless this data is contained in a lot of small files, in which
&gt;  case rsync's very stupid behaviour of traversing the file/directory
&gt;  tree more than once becomes a very expensive operation.

A bit like using Excel to perform Fourier transforms.

rsync was designed to be efficient in synchronizing large files with
sparse changes. Using it on masses of small files is simply using the
wrong tool. You may as well ftp a tarball.

&gt;  I'm backuping my mails which are in an maildir to another machine.
&gt;  Each backup takes about an hour, in which rsync does nothing
&gt;  but stat files on both sites. In the end, there is about 5min
&gt;  of transfering the new data.. that's all.

The good old mbox format was great for rsyncing.

&gt;  Of course, my example is a bit on the extreme side, but rsync
&gt;  claims to be fast and efficient, which it definitly is not.

I use rsync for updating the WWWJDIC mirrors. Each mirror updates about
100Mb of dictionary files each day, of which only a few kb have changed.
The file updates usually only take a few seconds. I use make to create
a manifest of the files which have changed. The mirror retrieves the
manifest then rsyncs the changed files. All very fast and efficient.

Cheers

Jim
-- 
Jim Breen
Honorary Senior Research Fellow
Clayton School of Information Technology,
Monash University, VIC 3800, Australia
<a  href="http://www.csse.monash.edu.au/~jwb/">http://www.csse.monash.edu.au/~jwb/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00036" href="msg00036.html">Re: [tlug] Re: rsync efficiency (was: The Mother of All (bash)	Commands)</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00032.html">Re: [tlug] Re: Why Vista Sucks (was: linux: it's becoming ubiquitous)</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00034.html">Re: [tlug] Re: Why Vista Sucks (was: linux: it's becoming ubiquitous)</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00028.html">Re: [tlug] Ubuntu won't format a 2GB SD card as fat 16: Known	Compatibility Issues for &gt;=2GB SD cards</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00036.html">Re: [tlug] Re: rsync efficiency (was: The Mother of All (bash)	Commands)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00033"><strong>Date</strong></a></li>
<li><a href="threads.html#00033"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
