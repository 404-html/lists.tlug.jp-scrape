<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Upgrading the kernel...? -->
<!--X-From-R13: Epbgg Dboovaf <fpbggebNalp.ee.pbz> -->
<!--X-Date: Sun, 30 Jul 2006 12:54:32 +0900 -->
<!--X-Message-Id: 20060730035428.GA3406@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44CB5808.8070702@example.com -->
<!--X-Reference: 20060729165723.72e7dcec.godwin.stewart@example.com -->
<!--X-Reference: 44CB82F1.4010101@example.com -->
<!--X-Reference: 20060729181305.4ec831cd.godwin.stewart@example.com -->
<!--X-Reference: 44CB9CE3.60205@example.com -->
<!--X-Reference: 20060729202718.334e52f0.godwin.stewart@example.com -->
<!--X-Reference: 44CC1FF8.2080509@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00475.html">Date Prev</a>][<a href="msg00477.html">Date Next</a>][<a href="msg00475.html">Thread Prev</a>][<a href="msg00481.html">Thread Next</a>][<a href="maillist.html#00476">Date Index</a>][<a href="threads.html#00476">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Upgrading the kernel...?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sat, 29 Jul 2006 23:54:28 -0400</li>
<li><strong>From</strong>: <strong>Scott Robbins &lt;<a href="mailto:scottro@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">scottro@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Upgrading the kernel...?</strong></li>
<li>References: &lt;<a href="mailto:44CB5808.8070702@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">44CB5808.8070702@example.com</a>&gt;	&lt;<a href="mailto:20060729165723.72e7dcec.godwin.stewart@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">20060729165723.72e7dcec.godwin.stewart@example.com</a>&gt;	&lt;<a href="mailto:44CB82F1.4010101@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">44CB82F1.4010101@example.com</a>&gt;	&lt;<a href="mailto:20060729181305.4ec831cd.godwin.stewart@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">20060729181305.4ec831cd.godwin.stewart@example.com</a>&gt;	&lt;<a href="mailto:44CB9CE3.60205@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">44CB9CE3.60205@example.com</a>&gt;	&lt;<a href="mailto:20060729202718.334e52f0.godwin.stewart@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">20060729202718.334e52f0.godwin.stewart@example.com</a>&gt;	&lt;<a href="mailto:44CC1FF8.2080509@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Upgrading%20the%20kernel...%3F">44CC1FF8.2080509@example.com</a>&gt;</li>
<li>User-agent: mutt-ng/devel-r804 (FreeBSD)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Sun, Jul 30, 2006 at 11:56:56AM +0900, Dave M G wrote:
&gt; Godwin
&gt; 
&gt; Thanks for explaining things.
&gt; 
&gt; I'm setting aside tomorrow afternoon to try upgrading my kernel. If I 
&gt; can get reliable Palm connections and not create a world of other 
&gt; hassles, then it's worth it. The key is if I can reboot to my current 
&gt; system if things go horribly wrong.
&gt; 
&gt; Before I proceed, I want to make sure that I'm doing the right things. 
&gt; So I'm just going to put here the commands I need to do, and if any 
&gt; expert eyes spot any gotchas, that would help a lot.


I haven't been following this thread too closely, so forgive me if I'm
missing something but...

Can't you simply upgrade your kernel through apt-get and hadn't you
posted at some point that some folks had simply done that to fix this
problem with the palm?

The main reason I mention this is that rebuilding a Debian kernel can be
a pain in the neck.  (As opposed to Slackware, which is what Godwin
uses, or even RH, which is what I think he used to use many many many
years ago.)

Looking at that post I see various potential problems.  


&gt; 
&gt; First, a question. There is a warning midway down the page that says 
&gt; &quot;MPORTANT: READ THIS POST OR THE KERNEL MAY NOT COMPILE!&quot;. It links to 
&gt; this page:
&gt; <a  rel="nofollow" href="http://www.ubuntuforums.org/showpost.php?p=1308736&amp;postcount=106">http://www.ubuntuforums.org/showpost.php?p=1308736&amp;postcount=106</a>
&gt; 
&gt; On that page, it says to &quot;unset the following&quot;, followed by these 
&gt; directions:
&gt; Device Drivers -&gt; Multimedia Devices -&gt; Digital Broadcasting Devices
&gt; 
&gt; But, I don't understand what it's pointing to. Those aren't directories, 
&gt; and I can't find any kind of &quot;Device Drivers&quot; program in my Gnome Panel. 
&gt; What setting or application am I supposed to be using to remove these 
&gt; &quot;Digital Broadcasting Devices&quot;?


No, they mean that when you configure the kernel, using, I guess,
that xconfig (sigh, it's been awhile since I compiled a Linux kernel, and
it's SOO much easier in FreeBSD--I always used make menuconfig but I
assume this is something more graphically oriented)  you will see 
the options of which they speak. 


&gt; cd /usr/src/linux
&gt; 
&gt; make-kpkg clean
&gt; 
&gt; make-kpkg -initrd --revision=386 kernel_image kernel_headers modules_image
&gt; 
&gt; dpkg -i &lt;name of the image .deb file&gt;
&gt; 
&gt; dpkg -i &lt;name of the header .deb file&gt;
&gt; 
&gt; QUESTION: As per Godwin's recommendation, I want to ensure that I can 
&gt; boot back to my current setting. What exactly is it that I'm moving to 
&gt; /boot/vmlinuz-test to ensure that's the case? I assume I do it at this 
&gt; stage of the kernel creation. And when I edit GRUB, what do I put in 
&gt; menu.ls to point to the new kernel?

What do you have now in /boot?  There should be something called vmlinuz
and probably something called initrd.img.  Check your current
grub/menu.lst to see.  Those are the files you want to, before doing
anything, copy to /boot/vmlinuz.old and /boot/initrd.img.old  You should
see something similar to this in your grub/menu.lst now

kernel /boot/vmlinuz
initrd /boot/initrd.img

They probably have longer names, like vmlinuz-2.16.xxx and
initrd-2.16.xxx.img but it doesn't matter.  Just check grub's menu.lst
see what the lines are now, find those files, usually in /boot,
sometimes in /  (I dont have an Ubuntu install to check at this moment)
and copy them to something like vmlinuz.old and initrd.img.old.

Then, as I have no idea if Ubuntu automatically overwrites your menu.lst
when installing new kernels, first copy the menu.lst somewhere.  

Then, if it has overwritten it, you can at least see the names of the
files you had.  

That is also what you will add to menu.lst,  Copy the lines with a
vmlinuz and initrd.img and add in another entry, something like

title Ubuntu Past
kernel /boot/vmlinuz.old
initrd initrd.img.old

(The above may be incorrect---just follow the pattern that is in your
present menu.lst, but replace the vmlinuz and initrd lines with the
vmlinuz.old and initrd.old.)


Most distributions, when you're done with building the kernel, you copy
arch/i386/boot/bzImage (in the /usr/src/kernel-whatever directory
that you are in when you're building the kernel) to /boot/vmlinuz.  This
is what Godwin was referring to when he spoke of vmlinuz.test


-- 

Scott Robbins

PGP keyID EB3467D6
( 1B48 077D 66F6 9DB0 FDC2 A409 FA54 EB34 67D6 )
gpg --keyserver pgp.mit.edu --recv-keys EB3467D6

Xander: This is just too much. I mean, yesterday's my life like, 
uh oh, pop quiz. Today, it's rain of toads. 


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00458" href="msg00458.html">[tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00464" href="msg00464.html">Re: [tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Godwin Stewart</li></ul></li>
<li><strong><a name="00465" href="msg00465.html">Re: [tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00467" href="msg00467.html">Re: [tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Godwin Stewart</li></ul></li>
<li><strong><a name="00468" href="msg00468.html">Re: [tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00469" href="msg00469.html">Re: [tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Godwin Stewart</li></ul></li>
<li><strong><a name="00475" href="msg00475.html">Re: [tlug] Upgrading the kernel...?</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00475.html">Re: [tlug] Upgrading the kernel...?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00477.html">[tlug] SPF info</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00475.html">Re: [tlug] Upgrading the kernel...?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00481.html">Re: [tlug] Upgrading the kernel...?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00476"><strong>Date</strong></a></li>
<li><a href="threads.html#00476"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
