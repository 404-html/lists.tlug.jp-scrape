<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] distributed file systems -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Mon, 15 Feb 2010 20:17:30 +0900 -->
<!--X-Message-Id: 20100215111730.GD25775@analytic.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4d3714b51002141821r1b903f03j7a567122720e9c15@mail.gmail.com -->
<!--X-Reference: 20100215035353.GJ24817@poetic.cynic.net -->
<!--X-Reference: 4d3714b51002142226p338664a8l34a9d918eea2d9bd@mail.gmail.com -->
<!--X-Reference: 20100215072802.GB25775@analytic.cynic.net -->
<!--X-Reference: 4d3714b51002150048j5a4b62dfx3ecca5ba5c85a2e6@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00076.html">Date Prev</a>][<a href="msg00078.html">Date Next</a>][<a href="msg00073.html">Thread Prev</a>][<a href="msg00068.html">Thread Next</a>][<a href="maillist.html#00077">Date Index</a>][<a href="threads.html#00077">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] distributed file systems</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 15 Feb 2010 20:17:30 +0900</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] distributed file systems</strong></li>
<li>References: &lt;<a href="mailto:4d3714b51002141821r1b903f03j7a567122720e9c15@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">4d3714b51002141821r1b903f03j7a567122720e9c15@example.com</a>&gt;	&lt;<a href="mailto:20100215035353.GJ24817@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">20100215035353.GJ24817@example.com</a>&gt;	&lt;<a href="mailto:4d3714b51002142226p338664a8l34a9d918eea2d9bd@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">4d3714b51002142226p338664a8l34a9d918eea2d9bd@example.com</a>&gt;	&lt;<a href="mailto:20100215072802.GB25775@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">20100215072802.GB25775@example.com</a>&gt;	&lt;<a href="mailto:4d3714b51002150048j5a4b62dfx3ecca5ba5c85a2e6@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">4d3714b51002150048j5a4b62dfx3ecca5ba5c85a2e6@example.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 2010-02-15 17:48 +0900 (Mon), Sach Jobb wrote:

&gt; We have considered a solution of splitting the input/update/delete
&gt; processes from the read process on the software level. So that the
&gt; local client would read everything from a local &quot;read only&quot; server,
&gt; but anything that required an upload or delete would directly access
&gt; our data center in Tokyo. In fact, that's sort of the fall back plan.
&gt; 
&gt; The real issue here is performance. It's just too slow from the UK
&gt; (NYC seems to be a bit better, but still very slow). If it's too slow
&gt; we are justifiably afraid that people will grow frustrated and won't
&gt; use it. Before anyone asks: yes the site is heavy and that's because
&gt; it's packed with media and there is a little bit we can do to improve
&gt; it but fundamentally the business requirements demand that the page
&gt; remain fairly large.

Ah, I see! If you're looking for a pleasing user experience, you
definitely want to stay away from anything too fancy. Sophisticated
synchronization can be a real performance killer, and once it hits you
(if it does), you may have a hell of a time trying to dig yourself out
of it.

Trying to get large files from Tokyo to London in under ten seconds on
a consistent basis is probably not something you want to start chasing.
I think what you really want to do is to try to get *most* things
happening quickly; most users can live fairly happily with something
being a bit slow now and then if that's rare.

For the large files that change rarely or never, Edmund had the right
idea: serve them all from one central location, but use caching proxes
at all of the remote locations. Make sure you set your expiry time
appropriately. Preheat the cache by feeding information about new files
to a program at each remote site that will request them through the
cache. Unless you've got a huge number of updates and everybody's only
looking at the very newest stuff, your speed problems (at least for
those files) will probably be more to do with local networks and the web
browsers' rendering speed than anything else.

As far as putting data into the system, centralize it in the sense that
everything going out to the remote locations passes through the central
location. That doesn't mean, however, that you can push some of the
user interface out to the remote sites. If the submission process is
a multi-step one, perhaps it can do most of the work on a remote web
server, and then that remote server can submit a final consolidated and
checked request to the central location. Possibly it can cache some
of the database data that has a master copy at the central location.
(That's a trade off you have to decide: accuracy versus speed of
response. You can't have both.) Doing some research on consistency
models, particularly eventual consistency (which is what Amazon uses for
its shopping carts), will be useful here.

&gt; This is literally less than 50 files. We needed some way for some of
&gt; the content to be changed that did not involve a database for a couple
&gt; of customers in some rare circumstances and this horrible hack is the
&gt; result of that.

Yeah, then split these off from the other files and handle them in a
different way.

cjs
-- 
Curt Sampson         &lt;cjs@example.com&gt;         +81 90 7737 2974
             <a  rel="nofollow" href="http://www.starling-software.com">http://www.starling-software.com</a>
The power of accurate observation is commonly called cynicism
by those who have not got it.    --George Bernard Shaw

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00063" href="msg00063.html">[tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Sach Jobb</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Sach Jobb</li></ul></li>
<li><strong><a name="00067" href="msg00067.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00070" href="msg00070.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Sach Jobb</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00076.html">Re: [tlug] generic usability linux/digital TV, WAS:	Question	regarding TV Card for Linux;</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00078.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00073.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00068.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00077"><strong>Date</strong></a></li>
<li><a href="threads.html#00077"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
