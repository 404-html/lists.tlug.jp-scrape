<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] distributed file systems -->
<!--X-From-R13: Ynyva YALVGVODAH <zr.xnyvaNtznvy.pbz> -->
<!--X-Date: Mon, 15 Feb 2010 16:47:44 +0900 -->
<!--X-Message-Id: abb599561002142340j2786051l8e9731ccf0b5c175@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4d3714b51002141821r1b903f03j7a567122720e9c15@mail.gmail.com -->
<!--X-Reference: 20100215035353.GJ24817@poetic.cynic.net -->
<!--X-Reference: 4d3714b51002142226p338664a8l34a9d918eea2d9bd@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00067.html">Date Prev</a>][<a href="msg00069.html">Date Next</a>][<a href="msg00077.html">Thread Prev</a>][<a href="msg00071.html">Thread Next</a>][<a href="maillist.html#00068">Date Index</a>][<a href="threads.html#00068">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] distributed file systems</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 15 Feb 2010 16:40:49 +0900</li>
<li><strong>From</strong>: <strong>Kalin KOZHUHAROV &lt;<a href="mailto:me.kalin@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">me.kalin@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] distributed file systems</strong></li>
<li>References: &lt;<a href="mailto:4d3714b51002141821r1b903f03j7a567122720e9c15@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">4d3714b51002141821r1b903f03j7a567122720e9c15@example.com</a>&gt; 	&lt;<a href="mailto:20100215035353.GJ24817@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">20100215035353.GJ24817@example.com</a>&gt;	&lt;<a href="mailto:4d3714b51002142226p338664a8l34a9d918eea2d9bd@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20distributed%20file%20systems">4d3714b51002142226p338664a8l34a9d918eea2d9bd@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Mon, Feb 15, 2010 at 15:26, Sach Jobb &lt;sach@example.com&gt; wrote:
&gt;&gt; While mogilefs can be considered a &quot;file system,&quot; it's not a file system
&gt;&gt; like one you'd put on a hard disk or an SD card. First, it's accessed
&gt;
&gt; Indeed technically mogilefs is not a file system in the sense that we
&gt; are used to. However, the general term for this sort of thing, so far
&gt; as I can tell, seems to be &quot;distributed file systems.&quot; Even mogilefs
&gt; refers to itself as a &quot;distributed file system.&quot; In fact I don't
&gt; actually care much what it's called. I am just trying to use the same
&gt; name that everyone else does.
&gt;
&gt;&gt; My very strong recommendation is that you, for the moment at any
&gt;&gt; rate, drop the idea of using a distributed file system, and instead
&gt;&gt; of describing a proposed (and probably poor) solution to an unknown
&gt;&gt; problem, instead describe the problem itself. It's almost certain that
&gt;&gt; a &quot;distributed file system&quot; in the sense of something like NFS either
&gt;&gt; won't work well for you or be rather insecure or both.
&gt;
&gt; Good point. In fact, if there is a reasonable way to do it that does
&gt; not involve a distributed file system, or whatever you want to call
&gt; it, I would be very interested in that as well.
&gt;
&gt; There is a web application, in fact a few applications, which take a
&gt; input from a large number of users. These are not system users of
&gt; course, but web users. Much of this data goes into a database, which
&gt; is not a problem. There are a lot of associated files, which are at
&gt; least 95% images, but there are also mp3s, flvs, and some misc text
&gt; files. There may also be other stuff that I am not aware of.
&gt;
&gt; This is, thankfully, mostly stored in a single location with a
&gt; directory structure based off a dates. For example:
&gt; ~/files/something/2010/2/10/something/something/myfile.png
&gt;
&gt; Mostly this is just write and forget. But there are some cases where
&gt; there are deletes and edits (the text files).
&gt;
&gt; The updates have to be replicated to the other servers fairly quickly.
&gt; I.E. I don't want to use cron or something triggering a script.
&gt;
&gt; NFS: I refuse to use NFS for anything under any circumstances. In
&gt; fact, it's best not to talk about NFS in front of me. Think Happy
&gt; Gilmore.
If you can limit all your users to submit new data to one server,
and later delete it, yet they'll be able to read from ANY server it
will simplify
the problem a great deal. You'll have one master RW server and many RO
slave servers that sync from the master. If you don't need version control,
you can use a rsync script triggered by a inotify (or dnotfy) to replicate
the changes. Or you can run cron or endless loop script to do:
`rsync -HavP --delete master:/dir1/ /dir1/`, of course with properly setup ssh
PKI authentication.

BTW, how quickly is &quot;fairly quickly&quot; ? A minute, 5 s, 1 s, less?

&gt;&gt; By the way, I'd lay greater than 50% odds that you'd be best served by a
&gt;&gt; version control system.
&gt;
&gt; That is interesting. The code itself is managed that way as part of a
&gt; deployment process (we'll just add the remote servers into the same
&gt; process). It seems a bit strange to me to use version control for
&gt; something that doesn't have any versioning.
&gt;
&gt; How would you invision that working exactly? Someone uploads a file,
&gt; and it triggers a merge? I guess with git I could see how that might
&gt; be possible, but wouldn't it be sexier if I just new that every write
&gt; was being written to the other servers, and the was something in place
&gt; tracking this against the nodes?

If you cannot separate the master/slave transactions, then you might use
a version control system such as git or subversion. User submitted/deleted
content will trigger a commit hook and it should notify the rest of the servers
to update their local repositories. However, I'd suggest running a cron,
or even an endless loop on each server updating the local copy every minute
or so. If you have many (10+) servers, try to distribute the timing, although
both git and subversion/apache are fast enough in practice.


&gt; Certainly some of you out there have had to deal with this sort of
&gt; problem before and I think it's an interesting subject. How have the
&gt; rest of you addressed this sort of problem before?

I haven't seen exactly the same problem, but I use subversion for tasks like
that, almost never looking at the revision history, but utilizing the
efficient delta
transfer algorithm.

Cheers,
Kalin.

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00071" href="msg00071.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Sach Jobb</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00063" href="msg00063.html">[tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Sach Jobb</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: [tlug] distributed file systems</a></strong>
<ul><li><em>From:</em> Sach Jobb</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00067.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00069.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00077.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00071.html">Re: [tlug] distributed file systems</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00068"><strong>Date</strong></a></li>
<li><a href="threads.html#00068"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
