<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] Darcs and the Lack of Haskell Programmers -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Mon, 04 Aug 2008 14:07:52 +0900 -->
<!--X-Message-Id: 871w15icb0.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20080730015628.GB27857@lucky.cynic.net -->
<!--X-Reference: 878wvjdgk7.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 20080730113103.GE20935@lucky.cynic.net -->
<!--X-Reference: 87wsj3atzl.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 20080731004528.GC15176@lucky.cynic.net -->
<!--X-Reference: 87tze6psgd.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 20080801041725.GD27578@lucky.cynic.net -->
<!--X-Reference: 87k5f1cdd8.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4892DD0B.8060107@bebear.net -->
<!--X-Reference: 87bq0cm64k.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 20080802072324.GF17959@lucky.cynic.net -->
<!--X-Reference: 48966CF4.7020403@bebear.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00033.html">Date Prev</a>][<a href="msg00035.html">Date Next</a>][<a href="msg00032.html">Thread Prev</a>][<a href="msg00037.html">Thread Next</a>][<a href="maillist.html#00034">Date Index</a>][<a href="threads.html#00034">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Darcs and the Lack of Haskell Programmers</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 04 Aug 2008 14:22:59 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Darcs%20and%20the%20Lack%20of%20Haskell%20Programmers">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Darcs and the Lack of Haskell Programmers</strong></li>
<li>References: &lt;20080730015628.GB27857@lucky.cynic.net&gt;	&lt;878wvjdgk7.fsf@uwakimon.sk.tsukuba.ac.jp&gt;	&lt;20080730113103.GE20935@lucky.cynic.net&gt;	&lt;87wsj3atzl.fsf@uwakimon.sk.tsukuba.ac.jp&gt;	&lt;20080731004528.GC15176@lucky.cynic.net&gt;	&lt;87tze6psgd.fsf@uwakimon.sk.tsukuba.ac.jp&gt;	&lt;<a href="msg00001.html">20080801041725.GD27578@lucky.cynic.net</a>&gt;	&lt;<a href="msg00002.html">87k5f1cdd8.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;	&lt;<a href="msg00004.html">4892DD0B.8060107@bebear.net</a>&gt;	&lt;<a href="msg00005.html">87bq0cm64k.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;	&lt;<a href="msg00007.html">20080802072324.GF17959@lucky.cynic.net</a>&gt;	&lt;<a href="msg00032.html">48966CF4.7020403@bebear.net</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Edward Middleton writes:
 &gt; Curt Sampson wrote:

 &gt; &gt; We generally do what might be called &quot;distributed integration&quot;: every
 &gt; &gt; developer, upon making a change, is responsible for making sure that
 &gt; &gt; that change is releasable, he needs to integrate it into whatever
 &gt; &gt; branches are going to have it in a release, do all testing necessary,
 &gt; &gt; and make sure that if we rolled those branches out into production right
 &gt; &gt; now, it's going to work. This is a pretty standard Extreme Programming
 &gt; &gt; practice; probably some other agile folks use it too.
[[ ... ]]
 &gt; &gt; So they came up with the integration pumpkin: a stuffed toy pumpkin that
 &gt; &gt; you would take when you were integrating, that served as a global lock
 &gt; &gt; on this, as it were.
 &gt; &gt;
 &gt; &gt; I'd always wondered why they did this, until I started seriously using
 &gt; &gt; Darcs. It turns out that distributed revision control has an issue with
 &gt; &gt; this sort of thing: it distributes the repository, but centralizes the
 &gt; &gt; integration for any particular release branch. This works fine for
 &gt; &gt; something like Darcs or the Linux kernel, where one or a few people do
 &gt; &gt; all of the integration. But it doesn't work so well on my projects,
 &gt; &gt; where every developer is expected to make the release branch releasable
 &gt; &gt; with his changes, and any random team member might be doing the final
 &gt; &gt; changes to make an actual release version.

First let me say that I have no idea what Curt is talking about here.
I do not see why a dVCS would be worse for these purposes than svn, as
long as releases are to be made from a public branch or branches.

My personal experience is that Darcs sucks in a high-churn
environment, especially if you have files that are stacks (GNU-style
changelogs) or queues (diaries), which guarantee that you'll get lots
of persistent conflicts.  Darcs does manage to get rid of some
spurious conflicts, but introduces others (specifically, you must use
Darcs to generate and apply patches or you will run into spurious
conflicts if you try to merge with a branch that did not use Darcs to
apply that patch).  Darcs is very slow and has a UI that frequently
makes it quite easy to divide a set of changes into &quot;coherent
changesets&quot;, both of which makes it tempting to record patches late
and infrequently.  Darcs has a very sucky way of indicating merges
(instead of the usual 3-way merge output of

&lt;&lt;&lt;&lt;&lt;&lt;&lt; mainline version 3.1
Ho Ho Ho Chi Minh / O-Bama's gonna win
=======
Hilary's Billary willary sillyry.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; mine

it does

vvvvvvv
Ho Ho Ho Chi Minh / O-Bama's gonna win
=======
Hilary's Billary willary sillyry.
^^^^^^^

gag retch puke -- and consider what happens if you haven't resolved
the conflicts recently and get nested conflicts -- spew), and in
general doesn't help you much with merges it can't avoid.  Then there
are other problems, see the thread I posted (which has gotten longer
and tempers are starting to flare a bit).

 &gt; Perhaps someone who is using git could clarify this, I was under the 
 &gt; impression that it could be used with the following workflow.
 &gt; 
 &gt; Jack&gt; git-clone ..
 &gt; Jacks local repository &lt;- remote repository

Are those &quot;..&quot; supposed to be an ellipsis?  I'm going to assume so,
that you're just abbreviating the uninteresting arguments.

 &gt; Jack&gt; git-branch ..
 &gt; Jacks working copy &lt;- Jacks local repository

This isn't necessary.  The default behavior of git-clone checks out a
working copy.  Branch doesn't check out, anyway.

 &gt; Jack&gt; git-comit ..
 &gt; Jacks working copy change -&gt; Jacks local repository
 &gt; 
 &gt; Jack&gt; git-push ..
 &gt; Jacks local repository -&gt; remote repository

So far so good.

 &gt; If developers Jack and Jill were working on the same branch and pushed 
 &gt; the changes back to the remote repository then the first set of changes 
 &gt; would get committed and the second would throw and error like subversion.
 &gt; 
 &gt; Jill&gt; git-comit ..
 &gt; jills working copy change -&gt; Jill local repository
 &gt; 
 &gt; Jack&gt; git-commit ..
 &gt; Jack working copy change -&gt; Jack local repository
 &gt; 
 &gt; Jill&gt; git push ..
 &gt; Jills local change-&gt; remote repository
 &gt; 
 &gt; Jack&gt; git push ..
 &gt; Jacks local repository -&gt; remote repository
 &gt; * push fails[1]

Yep.

Curt again:

 &gt; &gt; Now that I think about it, I'd say that the problem has nothing to do
 &gt; &gt; with [any of the reasons Steve gave].
 &gt; 
 &gt; I think it is probably more an issue of motivation.  Was there a 
 &gt; satisfactory alternative when the darcs project was started?

No, and there still isn't from the point of view of Darcs fans.  Darcs
is the only VCS that takes the idea of &quot;changeset&quot;, rather than
&quot;revision&quot;, as primitive.  GNU Arch sort of does, and of course most
VCSes actually store their revisions as patches.  But none of these
are &quot;taking patches seriously&quot;, rather they use patches as a method of
compression.  To &quot;take patches seriously&quot; means to have a theory of
when two patches &quot;mean the same thing&quot;.  Only Darcs has this, but
their theory is *majorly* broken.[1]

AFAIK the first of the &quot;modern&quot; dVCSes was GNU Arch (2001-2).
Monotone started a little later (2003).  Darcs started in 2004, and
git and Mercurial were both released in mid-July 2005.

 &gt; Git seems to do most of the important tasks darcs does.  Git is
 &gt; looking like it will replace subversion for large public
 &gt; repositories.

Unfortunately, at the moment git has a pretty sucky UI, and Linus et
amis have a pretty sucky attitude toward that problem.  This doesn't
bother me personally, git is my drug of choice, and maybe somebody
(GitHub?) will pick up the ball and run with it for all the UI whiners
out there.  But both Mercurial and Bazaar have substantially slicker
UIs (lots of Do What I Mean and even Do What I Didn't Know I Wanted).
This makes them popular with a certain largish class of users, but
probably substantially worse for building *Hub webapps.[2]  Darcs
shares the boat with them.

Footnotes: 
[1]  For the mathematically trained, it's based on group theory, with
patches forming a group, which implies that a patch must have an
inverse, and that the inverse inverse patch has to be the patch
itself.  However, consider a patch which adds a unique line.  The
inverse must delete that line.  The inverse is not a valid patch by
itself since the line doesn't exist!  The hand-waving starts
immediately....  It's not that this can't be fixed, but they don't
really try.

[2]  My theory is that git was originally a few low-level C programs
for manipulating a fast object database, with the UI built up from
scripts.  I think this heritage makes it likely that it is much better
factored for the kind of abuse a server environment will dish out than
the user-pandering programs like Darcs, Mercurial, and Bazaar.



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00037" href="msg00037.html">Re: [tlug] Darcs and the Lack of Haskell Programmers</a></strong>
<ul><li><em>From:</em> Dave Brown</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Re: [tlug] STM (was: Re: work times &amp; accommodation @tokyo)</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: [tlug] STM (was: Re: work times &amp; accommodation @tokyo)</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00004" href="msg00004.html">Re: [tlug] STM (was: Re: work times &amp; accommodation @tokyo)</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: [tlug] STM (was: Re: work times &amp; accommodation @tokyo)</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">[tlug] Darcs and the Lack of Haskell Programmers</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00032" href="msg00032.html">Re: [tlug] Darcs and the Lack of Haskell Programmers</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00033.html">Re: [tlug] FTTH ISP recommendation</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00035.html">Re: [tlug] FTTH ISP recommendation</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00032.html">Re: [tlug] Darcs and the Lack of Haskell Programmers</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00037.html">Re: [tlug] Darcs and the Lack of Haskell Programmers</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00034"><strong>Date</strong></a></li>
<li><a href="threads.html#00034"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
