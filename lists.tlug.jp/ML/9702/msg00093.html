<!-- MHonArc v2.2.0 -->
<!--X-Subject: tlug: X internationalized input (XIM and kinput2) -->
<!--X-From: "Stephen J. Turnbull" <turnbull@example.com> -->
<!--X-Date:  Tue, 25 Feb 1997 13:07:54 GMT -->
<!--X-Message-Id: m0vzMT8&#45;00001RC@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00092.html">Date Prev</A>][<A HREF="msg00094.html">Date Next</A>][<A HREF="msg00095.html">Thread Prev</A>][<A HREF="msg00097.html">Thread Next</A>][<A HREF="maillist.html#00093">Date Index</A>][<A HREF="threads.html#00093">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>tlug: X internationalized input (XIM and kinput2)</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>tlug: X internationalized input (XIM and kinput2)</strong></LI>
<LI><strong>From</strong>: <strong>"Stephen J. Turnbull" &lt;<A HREF="mailto:turnbull@example.com">turnbull@example.com</A>&gt;</strong></LI>
<LI>Date: Tue, 25 Feb 1997 21:58:53 +0900</LI>
<LI>CC: <A HREF="mailto:rodrigue-joe@example.com">rodrigue-joe@example.com</A>, "David Walter" &lt;<A HREF="mailto:djw18@example.com">djw18@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: owner-tlug</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
--------------------------------------------------------
tlug note from "Stephen J. Turnbull" &lt;turnbull@example.com&gt;
--------------------------------------------------------
Well, I've been poking around in internationalization of input again,
and I've got kinput2 working with XIM (the X Input Method protocol)
for a sample program from O'Reilly.  kinput2 has suicided once, so
it's not robust yet, but this would be very cool if it works for say
Emacs.

XEmacs 20 is supposed to support XIM, but having seen how flakey the
programs are in this area (if kterm doesn't work right, the standard
is still unstable), I'm not going to switch from Canna-ized GNU Emacs
until I hear from somebody who's using XEmacs with XIM....

If anyone's interested, the modified (two bugs fixed, one due to
working around a bug in the X11R5 Xlib, and the other an invalid
parameter in a configuration request) version of i18n_input.c (along
with the rest of the examples from the O'Reilly internationalization
section, the Imakefile, and a Makefile generated under XFree86 3.1.2
plus MooTiff---it may not work for you), plus source for Canna 3.5b2,
kinput2 2.0, and kterm 6.2.0, are in

       <A TARGET="_top" HREF="ftp://turnbull.sk.tsukuba.ac.jp/pub/linux/examples/I18N/">ftp://turnbull.sk.tsukuba.ac.jp/pub/linux/examples/I18N/</A>

I recommend rebuilding kinput2 with "make CDEBUGFLAGS=' -g -DDEBUG'"
and running it with the "-debuglevel 5" option (the -debug and -trace
options give too little and too much detail respectively) to see how
the protocol proceeds.  If you are going to test it against kterm for
XIM, use the flags "+ximp +kinput -xim" to disable the other
protocols.  kterm works fine with the kinput2 protocol.  If you
already have Canna or Wnn installed, you don't need to build Canna.

Do read the docs; there are lots of fine points having to do with the
XMODIFIERS environment variable ("XMODIFIERS='@example.com=kinput2'" should
work) and the localization variables (kterm uses EUC internally and so
doesn't listen to the LANG variable, you need to use the eucJPlocale
resource (bizarre naming, if you ask me; you can do it from the
command line with "-xrm *eucJPlocale: ja_JP.EUC").  There may be other
stuff I've forgotten.

I don't yet know why kterm 6.2.0 can't use the XIM protocol to
communicate with kinput2, but kinput2 reports a CLOSE request, then
complains of bad protocol (if kterm _is_ closing the IM, then trying
to use it, this is what would happen).

Steve

-- 
                            Stephen J. Turnbull
Institute of Policy and Planning Sciences                    Yaseppochi-Gumi
University of Tsukuba                      <A TARGET="_top" HREF="http://turnbull.sk.tsukuba.ac.jp/">http://turnbull.sk.tsukuba.ac.jp/</A>
Tel: +81 (298) 53-5091;  Fax: 55-3849              turnbull@example.com
-----------------------------------------------------------------
a word from the sponsor will appear below
-----------------------------------------------------------------
The TLUG mailing list is proudly sponsored by TWICS - Japan's First
Public-Access Internet System.  Now offering 20,000 yen/year flat
rate Internet access with no time charges.  Full line of corporate
Internet and intranet products are available.   info@example.com
Tel: 03-3351-5977   Fax: 03-3353-6096

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00092.html">tlug: Thashed to death</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00094.html">Re: tlug: Mucked up my kterm fonts</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00095.html">Re: tlug: Thashed to death</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00097.html">No Subject</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00093"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00093"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
