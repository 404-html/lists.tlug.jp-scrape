<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: PAP and CHAP -->
<!--X-From: "Alan B. Stone" <stoneab@example.com> -->
<!--X-Date:  Sun, 11 May 1997 13:54:48 GMT -->
<!--X-Message-Id: 3375D027.62133DE@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.3.93.970511211934.422B&#45;100000@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00060.html">Date Prev</A>][<A HREF="msg00062.html">Date Next</A>][<A HREF="msg00060.html">Thread Prev</A>][<A HREF="msg00063.html">Thread Next</A>][<A HREF="maillist.html#00061">Date Index</A>][<A HREF="threads.html#00061">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: PAP and CHAP</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: PAP and CHAP</strong></LI>
<LI><strong>From</strong>: <strong>"Alan B. Stone" &lt;<A HREF="mailto:stoneab@example.com">stoneab@example.com</A>&gt;</strong></LI>
<LI>Date: Sun, 11 May 1997 22:56:55 +0900</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: text/plain; charset=us-ascii</LI>
<LI>Organization: COMTECH Japan</LI>
<LI>References: &lt;<A HREF="msg00060.html">Pine.LNX.3.93.970511211934.422B-100000@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: owner-tlug</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
--------------------------------------------------------
tlug note from "Alan B. Stone" &lt;stoneab@example.com&gt;
--------------------------------------------------------
Dennis,

Thanks.  I will give it a try.  Right now I click the activate button
which in is the netcfg window of Red Hat Linux.  However, so far it
doesn't work with connections that utilize PAP.  Again thanks, I will
give it a try.

Blaine

Dennis McMurchy wrote:
&gt; 
&gt; --------------------------------------------------------
&gt; tlug note from Dennis McMurchy &lt;denismcm@example.com&gt;
&gt; --------------------------------------------------------
&gt; On Sun, 11 May 1997, Alan B. Stone wrote:
&gt; 
&gt; &gt; I'm thinking that
&gt; &gt; within the RedHat netcfg, not only can you have it send whatever you
&gt; &gt; type in, but I'm wondering if you can indicate a file to use for
&gt; &gt; connection?  Either way, thanks.  I will give it a try.  I'll let you
&gt; &gt; know what happens.
&gt; 
&gt;   Sounds to me (forgive me if I'm wrong) that you're still thinking
&gt; in terms of somehow manually logging.  I would think what you want to
&gt; do is to click once wait thirty seconds and have a ppp connection to
&gt; your ISP all ready to use for sendmail, Netscape, telnet, or whatever.
&gt; 
&gt;   What I do may not be elegant, but should work with any Unix-like
&gt; OS (does work with Slackware 3.1 kernel 2.0.26).
&gt; 
&gt;   1. My dial-in script and other net stuff is all one click on a
&gt;      fvwm window manager menu, but doesn't have to be.  In fact, I was
&gt;      executing everything manually at the prompt, until I set up one
&gt; of my machines for a group of ordinary users to use recently.  I must
&gt; admit, it's a lot nicer having everything on the menu.
&gt; 
&gt;   2. The dial-up script I use:
&gt; 
&gt; /usr/sbin/pppd connect '/usr/sbin/chat -v "" ATDT7241745 CONNECT "" \
&gt;  ' /dev/cua1 38400 -detach debug crtscts modem \
&gt;  defaultroute noipdefault user denismcm  &amp;
&gt; 
&gt;   This will work for you if you change the phone number, possibly
&gt; the /dev/cua1 (if your modem is not on that device - could be cua0,
&gt; say, on your system), possibly the speed could be 19200 if you have
&gt; a 14.4 modem, and of course, the username (denismcm in my case).
&gt; Every one of those quotation marks and slashes is _essential_.
&gt; Also, of course, depending on your distribution, pppd and chat may
&gt; live in different directories.
&gt; 
&gt;   This script assumes there is a /etc/ppp/pap-secrets file (such as
&gt; Jim or Andrew mentioned) that looks like this:
&gt; 
&gt; #client         server          secret
&gt; denismcm         *              MyPassword
&gt; 
&gt;   3.  It generally takes about 25 seconds for the connection to be
&gt; made and the ppp link negotiated.  The -v switch after /usr/bin/chat
&gt; makes a pretty detailed record of these negotiations between the two
&gt; machines which is logged in /var/adm/messages, and can be very useful
&gt; in debugging the connection if there are any problems.  It will also
&gt; record your dynamically allocated dotted quad internet address, which
&gt; you'll need should you want to fancy things like putting your machine
&gt; on the net and so on.  Once you have everything working, you may want
&gt; to turn off the -v switch.
&gt; 
&gt;   4.  You can verify that the connection is up with this one-liner:
&gt; 
&gt;                 /sbin/ifconfig
&gt; 
&gt; which will display something like this:
&gt; 
&gt; lo        Link encap:Local Loopback
&gt;           inet addr:127.0.0.1  Bcast:127.255.255.255  Mask:255.0.0.0
&gt;           UP BROADCAST LOOPBACK RUNNING  MTU:3584  Metric:1
&gt;           RX packets:150 errors:0 dropped:0 overruns:0
&gt;           TX packets:150 errors:0 dropped:0 overruns:0
&gt; 
&gt; ppp0      Link encap:Point-Point Protocol
&gt;           inet addr:202.243.60.70  P-t-P:202.243.60.4  Mask:255.255.255.0
&gt;           UP POINTOPOINT RUNNING  MTU:1500  Metric:1
&gt;           RX packets:8 errors:1 dropped:1 overruns:0
&gt;           TX packets:11 errors:0 dropped:0 overruns:0
&gt; 
&gt; If your ppp link is not up, of course only the lo section displays.
&gt; Or you can just watch the display in the 'pppcosts' window, if you have
&gt; that running.  I recommend pppcosts to anyone who has to pay local phone
&gt; charges.  It keeps a (very accurate) cumulative tally of your total
&gt; online time to date and provides a real-time one-line display of how
&gt; long you have had the current connection up.  The window looks this
&gt; when you're online:
&gt; 
&gt; ONLINE: 00:07:17 (3 units, JY 30)
&gt; Total online: 08:23:34 (196 units, JY 1960)
&gt; ONLINE: 00:03:04 (2 units, JY 20)
&gt; 
&gt;   The top line is the last session, the middle line is total to date,
&gt; and the bottom line is the current session.  I did the modifications
&gt; for NTT rates myself and they are now part of the distribution.
&gt; Unfortunately, I don't seem to have a useful URL for this, but it's
&gt; just a little file (18K or thereabouts), so I could easily make it
&gt; available through email or on my website, if you can't find it.  I love
&gt; it.
&gt; 
&gt;   5. I use sendmail for outgoing mail.  sendmail -q  will flush out
&gt; whatever is waiting to go out once your ppp link is up.  You could
&gt; set things up to automagically flush the mailqueue every time you go
&gt; on line, but I don't bother myself.  I explicitly invoke sendmail.
&gt;   I sometimes use a little script called peek.mailqueue to make sure
&gt; everything has gone out:
&gt; 
&gt; ls -l /var/spool/mqueue/*
&gt; 
&gt; If you ever need to operate directly on the queue,of course, you can
&gt; do so as root.  Nice for those times when you really were a little too
&gt; acid in your email.
&gt; 
&gt;   6. I used to use an extraordinarily complicated script written using
&gt; Expect to grab my mailbox, until I discovered popclient, which works
&gt; very nicely and is standard fare (at least with Slackware - come to
&gt; think of it the latest Slackware popclient is buggy - you'd want the
&gt; older one - version 2.21, I think).  This is my mailgrabbing script:
&gt; 
&gt; /home/denisbin/pop/popclient -3  -v -u denismcm -p MyPassWord -o /home/denis/internet/postbox popmail.gol.com
&gt; cat /home/denis/internet/bell
&gt; 
&gt; This gets my mailbox from the ISP and drops it into
&gt; /home/denis/internet/postbox for me, deleting the messages from my
&gt; box at the ISP, and then cat's a   (which rings the bell on my terminal -
&gt; there must be a more elegant way to do this though -  letting me know the
&gt; download is finished).
&gt; 
&gt;   7. If you do a lot of ftp'ing or telnet'ing or want to put your machine
&gt; on the net, I have some handy scripts for that too, which I could share
&gt; with you.
&gt; 
&gt;   8. I find that for grabbing the small amounts of news I want to read
&gt; that the program called 'suck' works really nicely.  It's on the archive
&gt; CDs and sunsite and so on.  Works very well for what I do.
&gt; 
&gt;   9. And finally, you want to shut down your link sometimes ;-).
&gt; I use a little script like this:
&gt; 
&gt;   #!/bin/sh
&gt;   #this program was clipped out of the linux ppp-howto file
&gt;   DEVICE=ppp0
&gt;   #
&gt;   # If the ppp0 pid file is present then the program is running. Stop it.
&gt;   if [ -r /var/run/$DEVICE.pid ]; then
&gt;           kill -INT `cat /var/run/$DEVICE.pid`
&gt;   #
&gt;   # If the kill did not work then there is no process running for this
&gt;   # pid. It may also mean that the lock file will be left. You may wish
&gt;   # to delete the lock file at the same time.
&gt;           if [ ! "$?" = "0" ]; then
&gt;                   rm -f /var/run/$DEVICE.pid
&gt;                   echo "ERROR: Removed stale pid file"
&gt;                   exit 1
&gt;           fi
&gt;   #
&gt;   # Success. Let pppd clean up its own junk.
&gt;           echo "PPP link to $DEVICE terminated."
&gt;           exit 0
&gt;   fi
&gt;   #
&gt;   # The ppp process is not running for ppp0
&gt;   echo "ERROR: PPP link is not active on $DEVICE"
&gt;   exit 1
&gt; 
&gt;   Gee, I had forgotten it has so many lines.  As it says, it's from
&gt; the ppp-howto.  Works just fine.
&gt; 
&gt;   I'm sure I've forgotten something critical, but this will get you
&gt; started anyway.
&gt; 
&gt;   Enjoy,
&gt; 
&gt;   Dennis McMurchy,
&gt;   Tojinmachi, Fukuoka
&gt; 
&gt; -----------------------------------------------------------------
&gt; a word from the sponsor will appear below
&gt; -----------------------------------------------------------------
&gt; The TLUG mailing list is proudly sponsored by TWICS - Japan's First
&gt; Public-Access Internet System.  Now offering 20,000 yen/year flat
&gt; rate Internet access with no time charges.  Full line of corporate
&gt; Internet and intranet products are available.   info@example.com
&gt; Tel: 03-3351-5977   Fax: 03-3353-6096
-----------------------------------------------------------------
a word from the sponsor will appear below
-----------------------------------------------------------------
The TLUG mailing list is proudly sponsored by TWICS - Japan's First
Public-Access Internet System.  Now offering 20,000 yen/year flat
rate Internet access with no time charges.  Full line of corporate
Internet and intranet products are available.   info@example.com
Tel: 03-3351-5977   Fax: 03-3353-6096

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00060" HREF="msg00060.html">Re: tlug: PAP and CHAP</A></STRONG>
<UL><LI><EM>From:</EM> Dennis McMurchy &lt;denismcm@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00060.html">Re: tlug: PAP and CHAP</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00062.html">Re: tlug: Communicator 4.0b3 plugins</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00060.html">Re: tlug: PAP and CHAP</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00063.html">Re: tlug: PAP and CHAP</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00061"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00061"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
