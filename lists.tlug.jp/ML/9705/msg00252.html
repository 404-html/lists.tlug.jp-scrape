<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: kinput2 vs. egg [was: Yatta! XEmacs Japanese input with kinput2 via XIM] -->
<!--X-From: "Stephen J. Turnbull" <turnbull@example.com> -->
<!--X-Date:  Mon, 26 May 1997 06:54:16 GMT -->
<!--X-Message-Id: m0wVtZx&#45;00005cC@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: m2pvugnvfj.fsf@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00251.html">Date Prev</A>][<A HREF="msg00253.html">Date Next</A>][<A HREF="msg00237.html">Thread Prev</A>][<A HREF="msg00254.html">Thread Next</A>][<A HREF="maillist.html#00252">Date Index</A>][<A HREF="threads.html#00252">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: kinput2 vs. egg [was: Yatta! XEmacs Japanese input with kinput2 via XIM]</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: kinput2 vs. egg [was: Yatta! XEmacs Japanese input with kinput2 via XIM] </strong></LI>
<LI><strong>From</strong>: <strong>"Stephen J. Turnbull" &lt;<A HREF="mailto:turnbull@example.com">turnbull@example.com</A>&gt;</strong></LI>
<LI>Date: Mon, 26 May 1997 15:48:23 +0900</LI>
<LI>In-reply-to: Your message of "24 May 1997 22:21:20 -0400."            &lt;<A HREF="msg00237.html">m2pvugnvfj.fsf@example.com</A>&gt; </LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: owner-tlug</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
--------------------------------------------------------
tlug note from "Stephen J. Turnbull" &lt;turnbull@example.com&gt;
--------------------------------------------------------
&gt;&gt;&gt;&gt;&gt; "Steve" == Steve Dunham &lt;dunham@example.com&gt; writes:

    &gt;&gt; Then when I figured that out, I knew from previous experience
    &gt;&gt; that you have to be careful about passing the areas to XOpenIC,
    &gt;&gt; and once I found those things were zero, it was that obvious
    &gt;&gt; thing to try.  Next I would give up :-)

    Steve&gt; Yeah, but you took the time to actually sit down and do it.
    Steve&gt; BTW, the only guy currently doing XIM stuff on XEmacs is
    Steve&gt; working with Slowaris only (and he is working for Sun).

    Steve&gt; Could you submit your bug report to
    Steve&gt; &lt;xemacs-beta@example.com&gt; or give me permission to forward
    Steve&gt; it?

Please do, if you don't mind.  You're welcome to quote anything I say
on TLUG to anybody, it's a public forum; but please reference me
(there's always an implicit copyright, but this is "fair use").  If I
say something so stupid as to be hilarious, and you want to quote
that, I would appreciate the courtesy of told just who is being shown
what a fool I can be :-)

When I get out from under the current logjam I'll join the XEmacs beta 
list, but at the moment I have no context to phrase the report properly.

    Steve&gt; A good question to ask is what do people do who know
    Steve&gt; Japanese and Chinese.  XEmacs and Mule handle internal
    Steve&gt; representation and display (which XEmacs, IMHO, handles
    Steve&gt; better) in a reasonable manner, but input is an issue.

XEmacs uses Mule to handle internal representation.  \what XEmacs
handles display better than is GNU Emacs.  (You knew that and
misspoke, I'm sure.)  You are absolutely right about handling the
internal representation well, though.  I wrote a little elisp function
to clean up MH-E scan listings (but only the RFC-1422 compliant
headers).  Version 0.1, which implemented parsing of RFC-1422 headers,
output mojibake as expected.  Version 0.2 simply filtered the two-byte
kanji codes generated by v 0.1 code with "(make-character lc-jp (aref
octets i) (aref octets (1+ i)))" and was immediately promoted to
version 0.8, because it worked!  (lc-jp is the leading character for
Mule's internal representation of Japanese - Mule represents non-ASCII
characters, maybe non-ISO-8859-1 characters, with a character set byte
prefix).  Boy, was I surprised.

XIM _can_ handle true multilingual input, but not as currently
implemented in XEmacs/Mule.  The current implementation of XIM
completely bypasses Mule.  The XIM is opened in the frame-opening
code, and does so based on the current C locale as found in LANG or
LC_ALL.  You can manipulate this with setenv (you need to get at the
process's environment, not the shell's) or whatever the XEmacs LISP
function is, but this would still require a separate frame for each
language.  /* NB: my understanding of the code is buggy; this doesn't
work.  Using setenv to reset LANG to C did not disable kinput2 in a
new frame. */

I don't know if there are proper hooks in Mule to attach to XIM
protocol input methods, but it should be possible to arrange for XIM
to be opened on the fly using code like that for attaching to Canna,
Wnn, or SJ3.  Then you would need some supporting C code to get a list
of available servers.  (Since LEIM/Quail is implemented entirely in
Emacs LISP, this is not an issue for LEIM.)  You could handle
key-binding to change language environments on the fly with single key
strokes or keep language state in a LISP variable and use a single
on-off toggle, or select from a menu, using standard Emacs LISP
techniques.  Preferably these should follow the LEIM interface, or if
that is considered clumsy, improvements in LEIM should be coordinated
with the improved interface for XIM methods.

This would also localize the bug-handling to the right place; if
opening the input method failed, you would default to ASCII.  Then the
user could try again.  As currently implemented, error-handling is
non-local in the sense that the XIM is opened with other X stuff,
which it is logically separate from, and not with Mule and input-
handling stuff, which it is logically related to.

    Steve&gt; I've even had problems using Japanese and German at the
    Steve&gt; same time.  I can't properly display by bookmarks file in
    Steve&gt; Netscape.

This will get fixed when Netscape goes to Unicode (or to UCS-4, like
Mule is doing at the moment).  If it's a real problem, w3.el is the
only answer as far as I know.  If it's cosmetic, you can live with
it....

Allegedly Arena-I18N will do the job, but I can't even get to the
first title on www.gw.omron.co.jp, let alone download a full
distribution or even a full set of patches :-(

Regards,
Steve T.

-- 
                            Stephen J. Turnbull
Institute of Policy and Planning Sciences                    Yaseppochi-Gumi
University of Tsukuba                      <A TARGET="_top" HREF="http://turnbull.sk.tsukuba.ac.jp/">http://turnbull.sk.tsukuba.ac.jp/</A>
Tel: +81 (298) 53-5091;  Fax: 55-3849              turnbull@example.com
-----------------------------------------------------------------
a word from the sponsor will appear below
-----------------------------------------------------------------
The TLUG mailing list is proudly sponsored by TWICS - Japan's First
Public-Access Internet System.  Now offering 20,000 yen/year flat
rate Internet access with no time charges.  Full line of corporate
Internet and intranet products are available.   info@example.com
Tel: 03-3351-5977   Fax: 03-3353-6096

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00254" HREF="msg00254.html">tlug: unicode</A></STRONG>
<UL><LI><EM>From:</EM> Craig Oda &lt;craig@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00237" HREF="msg00237.html">Re: tlug: kinput2 vs. egg [was: Yatta! XEmacs Japanese input with kinput2 via XIM]</A></STRONG>
<UL><LI><EM>From:</EM> Steve Dunham &lt;dunham@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00251.html">Re: tlug: Kanji cut &amp; paste from Netscape</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00253.html">Re: tlug: Symbol Input in Mule+Wnn+Egg</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00237.html">Re: tlug: kinput2 vs. egg [was: Yatta! XEmacs Japanese input with kinput2 via XIM]</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00254.html">tlug: unicode</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00252"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00252"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
