<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] [OT] JavaScript debugging &#45; fresh eyes required -->
<!--X-From-R13: Ubqjva Egrjneg <tfgrjnegNobavirg.arg> -->
<!--X-Date: Wed, 25 Jun 2008 23:15:19 +0900 -->
<!--X-Message-Id: 20080625151452.f7109bc3.gstewart@bonivet.net -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00393.html">Date Prev</a>][<a href="msg00395.html">Date Next</a>][<a href="msg00391.html">Thread Prev</a>][<a href="msg00395.html">Thread Next</a>][<a href="maillist.html#00394">Date Index</a>][<a href="threads.html#00394">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] [OT] JavaScript debugging - fresh eyes required</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 25 Jun 2008 15:14:52 +0100</li>
<li><strong>From</strong>: <strong>Godwin Stewart &lt;<a href="mailto:gstewart@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BOT%5D%20JavaScript%20debugging%20-%20fresh%20eyes%20required">gstewart@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] [OT] JavaScript debugging - fresh eyes required</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,

I'm going cross-eyed through looking at these two javascript functions for
too long and need someone else's eyes to pick out the error here.

I have a huge javascript file for a site I'm currently developing. It works
fine on pretty much everything except Internet Exploder 7 (surprise,
surprise). It's been tested on Firefox, Safari and Opera, and I've heard
reports of it working on versions of IE prior to 7 but wouldn't actually
shake on that.

IE7 renders the page normally if I comment out these two functions. If I
leave them in, it halts with a javascript error &quot;object expected&quot; which is
not exactly helpful...

-----8&lt;----- code snippet -----8&lt;-----

function drawMonthSelect(id,class,current) {
	var i;
	var ret = &quot;&lt;select name='&quot;+id+&quot;' id='&quot;+id+&quot;' class='&quot;+class+&quot;'&gt;&quot;;
	for ( i=1 ; i&lt;=12 ; i++ ) {
		ret += &quot;&lt;option value='&quot;+i+&quot;'&quot;;
		if ( i == current ) ret += &quot; selected='selected'&quot;;
		ret += &quot;&gt;&quot;+months[i]+&quot;&lt;/option&gt;&quot;;
	}
	ret += &quot;&lt;/select&gt;&quot;;
	return ret;
}

function drawYearSelect(id,class,current) {
	var i;
	var ret = &quot;&lt;select name='&quot;+id+&quot;' id='&quot;+id+&quot;' class='&quot;+class+&quot;'&gt;&quot;;
	for ( i=2008 ; i&gt;=2008 ; i-- ) {
		ret += &quot;&lt;option value='&quot;+i+&quot;'&quot;;
		if ( i == current ) ret += &quot; selected='selected'&quot;;
		ret += &quot;&gt;&quot;+i+&quot;&lt;/option&gt;&quot;;
	}
	ret += &quot;&lt;/select&gt;&quot;;
	return ret;
}
-----8&lt;----- code snippet -----8&lt;-----

Note that the first &quot;2008&quot; in the for loop of the second function is just
&quot;this year&quot; generated programatically. This is in fact the output of a PHP
script that generates javascript which in turn generates HTML for direct
injection into the page's DOM. Twisted? Yeah. But it works (except in IE7).
Something tells me that this pie-chart is pretty accurate:

<a  href="http://humor.beecy.net/geeks/web-design/web-design.gif">http://humor.beecy.net/geeks/web-design/web-design.gif</a>

-- 
G. Stewart - gstewart@example.com

Reporter (to Mahatma Gandhi):
  &quot;Mr. Gandhi, what do you think of Western civilisation?&quot;
Gandhi:
  &quot;I think it would be a good idea.&quot;

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00395" href="msg00395.html">Re: [tlug] [SOLVED] [OT] JavaScript debugging - fresh eyes required</a></strong>
<ul><li><em>From:</em> Godwin Stewart</li></ul></li>
<li><strong><a name="00396" href="msg00396.html">[tlug] [OT] JavaScript debugging - fresh eyes required</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00393.html">Re: [tlug] There are way too many Linux distros</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00395.html">Re: [tlug] [SOLVED] [OT] JavaScript debugging - fresh eyes required</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00391.html">Re: [tlug] Call for presenters - July 12th technical meeting</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00395.html">Re: [tlug] [SOLVED] [OT] JavaScript debugging - fresh eyes required</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00394"><strong>Date</strong></a></li>
<li><a href="threads.html#00394"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
