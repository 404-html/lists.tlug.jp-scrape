<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] Re: Piping stderr? -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Thu, 27 Jun 2002 19:09:06 +0900 (JST) -->
<!--X-Message-Id: 873cv9owxa.fsf@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3D109EC0.4070703@example.com -->
<!--X-Reference: 87n0trz38q.fsf@example.com -->
<!--X-Reference: s3t3cvj6oad.fsf@example.com -->
<!--X-Reference: 87r8j1w8ol.fsf@example.com -->
<!--X-Reference: 877kktb463.wl@example.com -->
<!--X-Reference: 87u1nxuguj.fsf@example.com -->
<!--X-Reference: 87n0tlmn5r.wl@example.com -->
<!--X-Reference: 87bsa1nsvr.fsf@example.com -->
<!--X-Reference: 87vg895g7k.wl@example.com -->
<!--X-Reference: 871yaxnjei.fsf@example.com -->
<!--X-Reference: 87adpkj70k.wl@example.com -->
<!--X-Reference: 87u1nrao03.fsf@example.com -->
<!--X-Reference: 87znxjhlw4.wl@example.com -->
<!--X-Reference: 87ptyf91b3.fsf@example.com -->
<!--X-Reference: 87wusnhfg8.wl@example.com -->
<!--X-Reference: 876607wlpj.fsf@example.com -->
<!--X-Reference: 87eleuz973.wl@example.com -->
<!--X-Reference: 87d6ues4tn.fsf@example.com -->
<!--X-Reference: 87n0thf6m2.wl@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00710.html">Date Prev</a>][<a href="msg00712.html">Date Next</a>][<a href="msg00704.html">Thread Prev</a>][<a href="msg00713.html">Thread Next</a>][<a href="maillist.html#00711">Date Index</a>][<a href="threads.html#00711">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Re: Piping stderr?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: 27 Jun 2002 19:09:21 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<A HREF="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20Re%3A%20Piping%20stderr%3F">stephen@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Re: Piping stderr?</strong></li>
<li>References: &lt;<a href="msg00403.html">3D109EC0.4070703@example.com</a>&gt;&lt;<a href="msg00404.html">87n0trz38q.fsf@example.com</a>&gt;&lt;<a href="msg00406.html">s3t3cvj6oad.fsf@example.com</a>&gt;&lt;<a href="msg00428.html">87r8j1w8ol.fsf@example.com</a>&gt;&lt;<a href="msg00432.html">877kktb463.wl@example.com</a>&gt;&lt;<a href="msg00440.html">87u1nxuguj.fsf@example.com</a>&gt;&lt;<a href="msg00482.html">87n0tlmn5r.wl@example.com</a>&gt;&lt;<a href="msg00491.html">87bsa1nsvr.fsf@example.com</a>&gt;&lt;<a href="msg00501.html">87vg895g7k.wl@example.com</a>&gt;&lt;<a href="msg00509.html">871yaxnjei.fsf@example.com</a>&gt;&lt;<a href="msg00542.html">87adpkj70k.wl@example.com</a>&gt;&lt;<a href="msg00544.html">87u1nrao03.fsf@example.com</a>&gt;&lt;<a href="msg00546.html">87znxjhlw4.wl@example.com</a>&gt;&lt;<a href="msg00547.html">87ptyf91b3.fsf@example.com</a>&gt;&lt;<a href="msg00550.html">87wusnhfg8.wl@example.com</a>&gt;&lt;<a href="msg00555.html">876607wlpj.fsf@example.com</a>&gt;&lt;<a href="msg00626.html">87eleuz973.wl@example.com</a>&gt;&lt;<a href="msg00631.html">87d6ues4tn.fsf@example.com</a>&gt;&lt;<a href="msg00704.html">87n0thf6m2.wl@example.com</a>&gt;</li>
<li>Organization: The XEmacs Project</li>
<li>User-agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Informed Management (RC2))</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
&gt;&gt;&gt;&gt;&gt; &quot;Jiro&quot; == Jiro SEKIBA &lt;jir@example.com&gt; writes:

    Jiro&gt; Unicode is not THE codeset, but ONE OF CODESETS.

I think you have been listening to Ohta-san's propaganda for too long.

Unicode doesn't have &quot;lots&quot; of characters.  CNS 11643 has &quot;lots&quot; of
characters, more than Unicode 2.1 (and probably more than 3.2, but I
haven't checked).  Unicode _is_ THE Universal Character Set (UCS).
Plus a whole bunch of essential algorithms for handling text.

And if you really really have to have some character (or character
set) that Unicode doesn't provide, there are a hundred thousand
private space code points reserved for _you personally_.  What's the
problem?

    Jiro&gt;  I don't understand what you mean 'when', but it will just
    Jiro&gt; automatically fallback into 'C' locale, and continue
    Jiro&gt; working.  If it can't fallback into C&quot;, C library is broken,
    Jiro&gt; it means whole system already downed ;-).

Exactly.  But one of the reasons it doesn't fallback into C may very
well be because the I18N library _thinks_ it's OK, but it's broken.
This is not sufficient reason for my system to crash; dunno how you
feel about that....

    Jiro&gt; If so, this IS the UTF-8 hard coded programs issue.

Who said &quot;hard code&quot; UTF-8?  In fact, I don't need that the programs
I'm talking about to _ever_ interpret UTF-8.  They interpret ASCII;
anything containing non-ASCII is part of a string or a comment, and
will be passed on verbatim or ignored.  Validation, if necessary,
should be done by other programs or the library functions called.  All
that needs to be hard-coded is recognition of a character:

/* yes, I know there are much faster table-driven ways to do this */
if (*p &amp; 0x80 == 0x00)          /* ASCII */
  length = 1;
else if (*p &amp; 0xE0 == 0xC0)     /* multibyte */
  length = 2;
else if (*p &amp; 0xF0 == 0xE0)
  length = 3;
else if (*p &amp; 0xF8 == 0xF0)
  length = 4;
else if (*p &amp; 0xFC == 0xF8)
  length = 5;
else if (*p &amp; 0xFE == 0xFC)
  length = 6;
else                            /* illegal first byte, including 10xxxxxx */
  abort();

This is not rocket science, and it is not going to change, ever.

    Jiro&gt; If you have ten UTF-8 hard coded programs, you have to fix
    Jiro&gt; each programs.  On the other hand, on CSI design just fix
    Jiro&gt; library.  Programs don't need to be modified anything.

Wrong.  Dangerous, ugly stuff like Shift JIS will be wandering around
_inside_ my program.  To handle it correctly, I will need extra code.
In _all_ my CSI programs.

    Jiro&gt; Even if this is not what you mentioned, it shows the bad
    Jiro&gt; thing of UTF-8 hard code programs.

I'm not advocating doing _anything_ by hard-coding in each program.
I'm advocating that simple applications that need to be robust should
restrict themselves to a single small library intended to do just one
well-defined thing well: process Unicode character streams, character
by character.  No bidi, no composed characters, no interpretation of
surrogates (illegal in UTF-8 but I don't need to care).  And no
steenkin' Shift JIS, Big Five, or NEC kanji.

    Jiro&gt; ##<A  HREF="http://support.microsoft.com/default.aspx?scid=%2Fisapi%2Fgomscom%2Easp%3Ftarget%3D%2Fjapan%2Fsupport%2Fkb%2Farticles%2Fjp170%2F5%2F59%2Easp&amp;LN=JA">http://support.microsoft.com/default.aspx?scid=%2Fisapi%2Fgomscom%2Easp%3Ftarget%3D%2Fjapan%2Fsupport%2Fkb%2Farticles%2Fjp170%2F5%2F59%2Easp&amp;LN=JA</A>
    Jiro&gt; ###BTW I do not much care about this Win issue ;-p, it's
    Jiro&gt; just a example.

Oh, _that_.  Of course you can't round trip when the coded character
set _intentionally_ provides multiple code points for the same
character.  Unless you go out of your way to cater to the brain-damage
(cf full/half-width compatibility character in FF row of the BMP).

This is _exactly_ the kind of junk you don't have to worry about if
you restrict internal text to Unicode.

    &gt;&gt; Other than that, there are no efforts I know of.  Again, be
    &gt;&gt; concrete.

    Jiro&gt; I'm NOT talking about the problem of NOW.  Who knows it's
    Jiro&gt; never happen?

Are you talking about SETI?[1]  No sane earthling will design a
character set to be incompatible with Unicode ever again.

    Jiro&gt; What seems to be the problem?

CSI means that arbitrarily stupid character encodings (Shift JIS is a
leading example) can get inside my program.  This means that _my_
program needs to deal with _their_ brain damage.  I don't want my
program to ever deal with Shift JIS.  If my users want to see Shift
JIS, I'll translate at the program boundary.  I don't have a problem
with that.

Fewer lines of code, fewer libraries, means fewer things to go wrong.


Footnotes: 
[1]  Search for Extra-Terrestrial Intelligence.

-- 
Institute of Policy and Planning Sciences     <A  HREF="http://turnbull.sk.tsukuba.ac.jp">http://turnbull.sk.tsukuba.ac.jp</A>
University of Tsukuba                    Tennodai 1-1-1 Tsukuba 305-8573 JAPAN
 My nostalgia for Icon makes me forget about any of the bad things.  I don't
have much nostalgia for Perl, so its faults I remember.  Scott Gilbert c.l.py

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00713" href="msg00713.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00403" href="msg00403.html">[tlug] Piping stderr?</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="00404" href="msg00404.html">Re: [tlug] Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00406" href="msg00406.html">[tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Mike Fabian</li></ul></li>
<li><strong><a name="00428" href="msg00428.html">[tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00432" href="msg00432.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00440" href="msg00440.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00482" href="msg00482.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00491" href="msg00491.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00501" href="msg00501.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00509" href="msg00509.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00542" href="msg00542.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00544" href="msg00544.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00546" href="msg00546.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00547" href="msg00547.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00550" href="msg00550.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00555" href="msg00555.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00626" href="msg00626.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
<li><strong><a name="00631" href="msg00631.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00704" href="msg00704.html">Re: [tlug] Re: Piping stderr?</a></strong>
<ul><li><em>From:</em> Jiro SEKIBA</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00710.html">Re: [tlug] remote</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00712.html">Re: [tlug] remote</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00704.html">Re: [tlug] Re: Piping stderr?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00713.html">Re: [tlug] Re: Piping stderr?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00711"><strong>Date</strong></a></li>
<li><a href="threads.html#00711"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
