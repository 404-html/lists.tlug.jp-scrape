<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [tlug] EDICT dictionary on Kindle -->
<!--X-From-R13: Xbua [rggenhk <wzrggenhkNbcrajsr.bet> -->
<!--X-Date: Sat, 22 Dec 2012 16:04:41 +0900 -->
<!--X-Message-Id: 20121222070434.GA25940@sanma.local -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+04B5BRXGfiC1_=aGLZ8PCo&#45;0wPoL3tPVR60myiLEG0i6xpNg@mail.gmail.com -->
<!--X-Reference: CADFHC5yk6BGvhTM0wb3nbSP+5TFSq763JodLruFr7a7bc==y3g@mail.gmail.com -->
<!--X-Reference: CA+04B5Dt5+SXf30Wt_L3G=zCkRAbjx3NJEcHfgr+2XZptzGsFw@mail.gmail.com -->
<!--X-Reference: CAMEtR2K4&#45;tTQNmqKnGXJNWVFpAat4LSt=CNEcZQRe&#45;s3E4RfLw@mail.gmail.com -->
<!--X-Reference: CABHGxq5AudMvnjSjiswDSy20V1oJ4CMVfjnRFqOVe656+a7K3Q@mail.gmail.com -->
<!--X-Reference: CAMEtR2JO&#45;Z6LCCD1&#45;U0oD1c3eX82inJbCXxY_aZFK3s_u9ATqA@mail.gmail.com -->
<!--X-Reference: 20121216222647.GA10816@sanma.local -->
<!--X-Reference: CABHGxq6tiwS6i2wMMpiMRK2_yWh+9HaemG4TMFnqmPUhmJJpUQ@mail.gmail.com -->
<!--X-Reference: 20121221124529.GA6829@sanma.local -->
<!--X-Reference: CABHGxq7Ltt4mzy6OcTWXNJAoVAU5z_M1hUrqtfS06q9xh+h7tw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00063.html">Date Prev</a>][<a href="msg00065.html">Date Next</a>][<a href="msg00063.html">Thread Prev</a>][<a href="msg00065.html">Thread Next</a>][<a href="maillist.html#00064">Date Index</a>][<a href="threads.html#00064">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] EDICT dictionary on Kindle</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sat, 22 Dec 2012 16:04:34 +0900</li>
<li><strong>From</strong>: <strong>John Mettraux &lt;<a href="mailto:jmettraux@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20EDICT%20dictionary%20on%20Kindle">jmettraux@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] EDICT dictionary on Kindle</strong></li>
<li>References: &lt;CA+04B5BRXGfiC1_=aGLZ8PCo-0wPoL3tPVR60myiLEG0i6xpNg@mail.gmail.com&gt;	&lt;CADFHC5yk6BGvhTM0wb3nbSP+5TFSq763JodLruFr7a7bc==y3g@mail.gmail.com&gt;	&lt;CA+04B5Dt5+SXf30Wt_L3G=zCkRAbjx3NJEcHfgr+2XZptzGsFw@mail.gmail.com&gt;	&lt;CAMEtR2K4-tTQNmqKnGXJNWVFpAat4LSt=CNEcZQRe-s3E4RfLw@mail.gmail.com&gt;	&lt;CABHGxq5AudMvnjSjiswDSy20V1oJ4CMVfjnRFqOVe656+a7K3Q@mail.gmail.com&gt;	&lt;CAMEtR2JO-Z6LCCD1-U0oD1c3eX82inJbCXxY_aZFK3s_u9ATqA@mail.gmail.com&gt;	&lt;20121216222647.GA10816@sanma.local&gt;	&lt;<a href="msg00062.html">CABHGxq6tiwS6i2wMMpiMRK2_yWh+9HaemG4TMFnqmPUhmJJpUQ@mail.gmail.com</a>&gt;	&lt;20121221124529.GA6829@sanma.local&gt;	&lt;<a href="msg00063.html">CABHGxq7Ltt4mzy6OcTWXNJAoVAU5z_M1hUrqtfS06q9xh+h7tw@mail.gmail.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.20 (2009-06-14)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
On Sat, Dec 22, 2012 at 03:34:56PM +1100, Jim Breen wrote:
&gt; On 21 December 2012 23:45, John Mettraux &lt;jmettraux@example.com&gt; wrote:
&gt; &gt; On Fri, Dec 21, 2012 at 10:19:49PM +1100, Jim Breen wrote:
&gt;
&gt; &gt;&gt; I have put my version at:
&gt; &gt;&gt; <a  rel="nofollow" href="http://www.csse.monash.edu.au/~jwb/edict2.mobi">http://www.csse.monash.edu.au/~jwb/edict2.mobi</a>
&gt; &gt;&gt; Can someone with a Kindle try it out and check on
&gt; &gt;&gt; (a) and (b) above for me?
&gt;
&gt; &gt; For (b) I counted 167060 &lt;idx:entry.../&gt;.
&gt;
&gt; Yep, I get that too (in the edict2.html file).
&gt;
&gt; &gt; Now for the file at
&gt; &gt;
&gt; &gt;   <a  rel="nofollow" href="http://www.csse.monash.edu.au/~jwb/edict2.mobi">http://www.csse.monash.edu.au/~jwb/edict2.mobi</a>
&gt; &gt;
&gt; &gt; Regarding (a), lookup from the dictionary itself (magnifying glass) doesn't
&gt; &gt; work, I guess it's an encoding issue (hint, the attached jpeg).
&gt; &gt; Lookup from a japanese document doesn't work (the kindle falls back to its
&gt; &gt; own wawa dictionary, disregards edict2.mobi).
&gt;
&gt; There doesn't seem to be a magnifying glass in Kindle Previewer.

Hello,

downloaded the Kindle Previewer to double check.

Indeed there is no magnifying glass and hitting &quot;Go To&quot; -&gt; &quot;Dictionary
Search&quot; does nothing.


&gt; When I created the edict2.html file file (ruby to_opf.rb &lt; edict2.txt
&gt; &gt; html/edict2.html)
&gt; I noticed the entries came out looking like this:
&gt;
&gt; &lt;idx:entry name=&quot;word&quot; scriptable=&quot;yes&quot;&gt;
&gt;   &lt;h2&gt;金円【きんえん】&lt;/h2&gt;
&gt;   &lt;idx:orth value=&quot;\351\207\221\345\206\206&quot;&gt;&lt;/idx:orth&gt;
&gt;   &lt;idx:orth value=&quot;\343\201\215\343\202\223\343\201\210\343\202\223&quot;&gt;&lt;/idx:orth&gt;
&gt;   &lt;p&gt;(n) money&lt;/p&gt;
&gt; &lt;/idx:entry&gt;
&gt;
&gt; In other words, the kanji/kana UTF8 indices are in octal literals.
&gt; Should that not happen?
&gt;
&gt; It's being generated by the ruby script you have on github.
&gt; Perhaps the ruby I have installed behaves differently?
&gt; Mine is &quot;ruby 1.8.7 (2010-01-10 patchlevel 249) [i486-linux]&quot;
&gt; and is the latest available for the Ubuntu I am running.

Yes, that should not happen. Sorry, I should have mentioned in the docs that
Ruby 1.9 is required.

I reach the same result (\351\207...) if I use 1.8.7 on my system.

1.9.2 or 1.9.3 are better. There are probably Ubuntu packages for them out
there or you can use RVM (<a  rel="nofollow" href="http://rvm.io">http://rvm.io</a>) or chruby
(<a  rel="nofollow" href="https://github.com/postmodern/chruby">https://github.com/postmodern/chruby</a>). Probably following the
instructions in <a  rel="nofollow" href="https://github.com/postmodern/chruby/wiki/MRI">https://github.com/postmodern/chruby/wiki/MRI</a> is better and
more classical.


&gt; &gt; Sorry, I didn't look at (b). It would be interesting to have a look at the
&gt; &gt; edict2.html output before it gets rolled into the .mobi file.
&gt;
&gt; Is the sample above enough? I can send you the whole thing
&gt;
&gt; I checked what's showing in Kindle Previewer. The last entry,
&gt; marked &quot;118523&quot; is the last in EDICT2, so the other 50k
&gt; may have been dropped internally. Does your Kindle display
&gt; the number of entries?

I'm not sure this 118483 (my file) or 118523 (your file) indicates the number
of entries. My file goes from &quot;getsu - cutting off the leg at the knee&quot; to
&quot;harubaru - from afar&quot;.

I think those numbers are a mobi/kindle numbering scheme (not pages, not
words, something else).

I see &quot;no 118481&quot; and &quot;100%&quot; on my Kindle when on the last &quot;page&quot; (harubaru).

I guess a real mobi book would give hints to the reader about page numbering
and those hints are missing (not necessary for us) so the reader falls back
to whatever routine it has to determine those points.


If you need more help, please tell me. Best regards,

John


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00065" href="msg00065.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00028" href="msg00028.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
<ul><li><em>From:</em> John Mettraux</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00063" href="msg00063.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00063.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00065.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00063.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00065.html">Re: [tlug] EDICT dictionary on Kindle</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00064"><strong>Date</strong></a></li>
<li><a href="threads.html#00064"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
