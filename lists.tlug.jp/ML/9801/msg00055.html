<!-- MHonArc v2.2.0 -->
<!--X-Subject: tlug: Katakana to Romanji conversion -->
<!--X-From: "Stephen J. Turnbull" <turnbull@example.com> -->
<!--X-Date: Fri, 9 Jan 1998 03:14:29 &#45;0500 (EST) -->
<!--X-Message-Id: m0xqZMZ&#45;00012bC@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199801090522.OAA21752@example.com&#45;web.or.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00054.html">Date Prev</A>][<A HREF="msg00056.html">Date Next</A>][<A HREF="msg00053.html">Thread Prev</A>][<A HREF="msg00058.html">Thread Next</A>][<A HREF="maillist.html#00055">Date Index</A>][<A HREF="threads.html#00055">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>tlug: Katakana to Romanji conversion</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>tlug: Katakana to Romanji conversion</strong></LI>
<LI><strong>From</strong>: <strong>"Stephen J. Turnbull" &lt;<A HREF="mailto:turnbull@example.com">turnbull@example.com</A>&gt;</strong></LI>
<LI>Date: Fri, 9 Jan 1998 17:00:19 +0900 (JST)</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: text/plain; charset=iso-2022-jp</LI>
<LI>In-Reply-To: &lt;<A HREF="msg00053.html">199801090522.OAA21752@example.com</A>&gt;</LI>
<LI>References: &lt;<A HREF="msg00053.html">199801090522.OAA21752@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt;&gt;&gt;&gt;&gt; "Dmytro" == Dmytro Kovalev &lt;dk@example.com&gt; writes:

    Dmytro&gt; I need some tool for conversion from Japanese personal
    Dmytro&gt; names written in katakana into a romanji. Does anybody
    Dmytro&gt; know about such tool available? Any platform should be OK

Load the following into your friendly neighborhood Mule.  Note that it
will blow up on punctuation, kanji, hiragana, whitespace, and
everything else that isn't in that alist.  Including half-width
katakana.  So make sure there's nothing but katakana in the region,
then do M-X katakana-to-romaji.  It does fail-safe, though.  I think :^)

楽しんでくださいね。

(defconst kana-romaji-alist
      '((?ア . "a")
	(?イ . "i")
	(?ウ . "u")
	(?エ . "e")
	(?オ . "o")
	(?カ . "ka")
	(?キ . "ki")
	(?ク . "ku")
	(?ケ . "ke")
	(?コ . "ko")
	(?ガ . "ga")
	(?ギ . "gi")
	(?グ . "gu")
	(?ゲ . "ge")
	(?ゴ . "go")
	(?サ . "sa")
	(?シ . "si")
	(?ス . "su")
	(?セ . "se")
	(?ソ . "so")
	(?ザ . "za")
	(?ジ . "ji")
	(?ズ . "zu")
	(?ゼ . "ze")
	(?ゾ . "zo")
	(?タ . "ta")
	(?チ . "chi")
	(?ツ . "tsu")
	(?ッ . "xtu")
	(?テ . "te")
	(?ト . "to")
	(?ダ . "da")
	(?ヂ . "ji")
	(?ヅ . "dzu")
	(?デ . "de")
	(?ド . "do")
	(?ナ . "na")
	(?ニ . "ni")
	(?ヌ . "nu")
	(?ネ . "ne")
	(?ノ . "no")
	(?ハ . "ha")
	(?ヒ . "hi")
	(?フ . "fu")
	(?ヘ . "he")
	(?ホ . "ho")
	(?バ . "ba")
	(?ビ . "bi")
	(?ブ . "bu")
	(?ベ . "be")
	(?ボ . "bo")
	(?パ . "pa")
	(?ピ . "pi")
	(?プ . "pu")
	(?ペ . "pe")
	(?ポ . "po")
	(?マ . "ma")
	(?ミ . "mi")
	(?ム . "mu")
	(?メ . "me")
	(?モ . "mo")
	(?ヤ . "ya")
	(?ユ . "yu")
	(?ヨ . "yo")
	(?ャ . "xya")
	(?ュ . "xyu")
	(?ョ . "xyo")
	(?ラ . "ra")
	(?リ . "ri")
	(?ル . "ru")
	(?レ . "re")
	(?ロ . "ro")
	(?ワ . "wa")
	(?ン . "n")))

(defun katakana-to-romaji (start end)
  "Translate from katakana to romaji between buffer positions START and END.

When called interactively, uses the current region.  Error handling is poor."
  (interactive "r")
  (save-excursion
    (save-restriction
      (narrow-to-region start end)
      (goto-char (point-min))
      (save-excursion
	(while (&lt; (point) (point-max))
	  (let ((romaji (cdr (assoc (following-char) kana-romaji-alist))))
	    (if (not romaji)
		(error "That ain't no steenkin' katakana!")
	      (delete-char 1)
	      (insert romaji)))))
      (save-excursion
	(while (search-forward "xtu" nil t)
	  (delete-char -3)
	  (insert (following-char))))
      (save-excursion
	(while (search-forward "ixy" nil t)
	  (forward-char -1)
	  (delete-char -2)))
      (save-excursion
	(while (search-forward "ty" nil t)
	  (delete-char -2)
          (insert "ch"))
      (save-excursion
	(while (search-forward "sy" nil t)
	  (delete-char -2)
          (insert "sh"))
      (save-excursion
	(while (search-forward "si" nil t)
	  (forward-char -1)
	  (insert ?h))))))

---------------------------------------------------------------
Next TLUG Nomikai: 14 January 1998 19:15  Tokyo station
Yaesu Chuo ticket gate.  Or go directly to Tengu TokyoEkiMae 19:30
Chuo-ku, Kyobashi 1-1-6, EchiZenYa Bld. B1/B2 03-3275-3691
Next Saturday Meeting: 14 February 1998 12:30 Tokyo Station
Yaesu Chuo ticket gate.
---------------------------------------------------------------
a word from the sponsor:
TWICS - Japan's First Public-Access Internet System
www.twics.com  info@example.com  Tel:03-3351-5977  Fax:03-3353-6096
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00053" HREF="msg00053.html">tlug: Katakana to Romanji conversion</A></STRONG>
<UL><LI><EM>From:</EM> Dmytro Kovalev &lt;dk@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00054.html">Re: tlug: Mule-begotten problems for Emacs and Gnus</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00056.html">Re: tlug: Mule-begotten problems for Emacs and Gnus</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00053.html">tlug: Katakana to Romanji conversion</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00058.html">tlug: Re: LILO Vs NT</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00055"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00055"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
