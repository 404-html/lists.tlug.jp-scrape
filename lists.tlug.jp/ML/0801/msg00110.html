<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] detect fake HTTP referrer -->
<!--X-From-R13: Euva [WQVW[GYA <fzvgvzxbNpn2.fb&#45;arg.ar.wc> -->
<!--X-Date: Thu, 17 Jan 2008 16:36:41 +0900 -->
<!--X-Message-Id: 478EEBC3.3000108@ca2.so&#45;net.ne.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 78d7dd350801160011x2db75b54ofdbffb76d41c5044@mail.gmail.com -->
<!--X-Reference: 20080116112944.ab6ae181.attila@kinali.ch -->
<!--X-Reference: 78d7dd350801160622taa0faf3sa072283d59964936@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00109.html">Date Prev</a>][<a href="msg00111.html">Date Next</a>][<a href="msg00123.html">Thread Prev</a>][<a href="msg00112.html">Thread Next</a>][<a href="maillist.html#00110">Date Index</a>][<a href="threads.html#00110">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] detect fake HTTP referrer</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 17 Jan 2008 14:46:43 +0900</li>
<li><strong>From</strong>: <strong>Shin MICHIMUKO &lt;<a href="mailto:smitimko@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20detect%20fake%20HTTP%20referrer">smitimko@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] detect fake HTTP referrer</strong></li>
<li>References: &lt;<a href="msg00096.html">78d7dd350801160011x2db75b54ofdbffb76d41c5044@mail.gmail.com</a>&gt;	&lt;<a href="msg00097.html">20080116112944.ab6ae181.attila@kinali.ch</a>&gt;	&lt;<a href="msg00098.html">78d7dd350801160622taa0faf3sa072283d59964936@mail.gmail.com</a>&gt;</li>
<li>User-agent: Thunderbird 1.5.0.12 (X11/20070719)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,

I believe the Referer header doesn't exist if the link is written in the
e-mail.

Nguyen Vu Hung wrote:
&gt; Yes, some hosting sites block &quot;hot linking&quot;, or &quot;hot download&quot;, that
&gt; means, you have to visit that site and click a link to download. We
&gt; can also do this with mod_rewrite ,while this can be bypassed if you
&gt; set Referer [1] which is easily done with Perl, PHP or wget.

I guess that you may want to block by Referer or by IP addresses.
Otherwise you may need to use Cookie or a query string to authorize the
requests.

&gt;&gt;&gt; so that the request looks &quot;normal&quot;. They are stealing my traffic.
&gt;&gt; I'm not an expert in HTTP, but i doubt that this is possible.
&gt;&gt; Referers are a client side thing and just some info for the
&gt;&gt; server where they are comming from.
&gt; No.
&gt; 
&gt; For example, aocgroup.com.ar[2] with my permission, create a list that
&gt; includes links to *all* for files under /aoc/recs. If you don't set
&gt; Referer, we will not able to know where the traffic comes from. That's
&gt; why we call it &quot;traffic stealing&quot;.

If the link is introduced in a mailing list, then the request may not
have the Referer. So it can be happened, I think. Also, some of the
mirroring tools can start pulling the contents from the top directory
without Referer, so I think it can be happened.

&gt; I can't do that - in fact it is impossible -  because my site serves world-wide.

Sometimes the IP address of the clients in China are behind the
firewall. Even if the IP address blocks are very limited range, the
client could be so many. Sometimes they are using the proxy servers
(sometimes forced to use it by the political reasons), and it is
sometimes difficult to determine if those requests are really invalid or
not.

If you think that the requests are really invalid, then I recommend to
block the several IP addresses for the moment. If the end users will
have the actual problem, then they may contact you to allow the accesses.

If you think that the requests are valid and if you don't want to block
them, then you may need to add more capacity to the server farm (like a
CDN).

How do you think?

Regards,
---Shin.
-- 
== Money is one of the minimum conditions to do anything, but... =======
  Shin MICHIMUKO &lt;smitimko@example.com&gt; <a  href="http://www.peanuts.gr.jp/">http://www.peanuts.gr.jp/</a>
============================================ Freedom is everything. ====

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00112" href="msg00112.html">Re: [tlug] detect fake HTTP referrer</a></strong>
<ul><li><em>From:</em> Nguyen Vu Hung</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00096" href="msg00096.html">[tlug] detect fake HTTP referrer</a></strong>
<ul><li><em>From:</em> Nguyen Vu Hung</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">Re: [tlug] detect fake HTTP referrer</a></strong>
<ul><li><em>From:</em> Attila Kinali</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">Re: [tlug] detect fake HTTP referrer</a></strong>
<ul><li><em>From:</em> Nguyen Vu Hung</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00109.html">Re: [tlug] More on ePaper based book readers</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00111.html">Re: [tlug] detect fake HTTP referrer</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00123.html">Re: [tlug] detect fake HTTP referrer</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00112.html">Re: [tlug] detect fake HTTP referrer</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00110"><strong>Date</strong></a></li>
<li><a href="threads.html#00110"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
