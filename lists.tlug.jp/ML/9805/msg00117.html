<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: Chat with NEC Aterm IW60 -->
<!--X-From: craigoda@example.com -->
<!--X-Date:  Sat, 9 May 1998 00:33:39 +0900 -->
<!--X-Message-Id: 19980509002321K.craigoda@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.3.96LJ1.1b7.980508175159.1783H&#45;100000@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00116.html">Date Prev</A>][<A HREF="msg00118.html">Date Next</A>][<A HREF="msg00106.html">Thread Prev</A>][<A HREF="msg00108.html">Thread Next</A>][<A HREF="maillist.html#00117">Date Index</A>][<A HREF="threads.html#00117">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: Chat with NEC Aterm IW60</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: Chat with NEC Aterm IW60</strong></LI>
<LI><strong>From</strong>: <strong><A HREF="mailto:craigoda@example.com">craigoda@example.com</A></strong></LI>
<LI>Date: Sat, 09 May 1998 00:23:21 +0900</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: Text/Plain; charset=us-ascii</LI>
<LI>In-Reply-To: Your message of "Fri, 8 May 1998 17:53:40 +0900 (JST)"&lt;<A HREF="msg00106.html">Pine.LNX.3.96LJ1.1b7.980508175159.1783H-100000@example.com</A>&gt;</LI>
<LI>References: &lt;<A HREF="msg00106.html">Pine.LNX.3.96LJ1.1b7.980508175159.1783H-100000@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
From: Scott Stone &lt;sstone@example.com&gt;
Subject: Re: tlug: Chat with NEC Aterm IW60
Date: Fri, 8 May 1998 17:53:40 +0900 (JST)

sstone&gt; On Fri, 8 May 1998 craigoda@example.com wrote:
sstone&gt; 
sstone&gt; &gt; cow:~# cat connect-ppp 
sstone&gt; &gt; #!/bin/bash
sstone&gt; &gt; #modem
sstone&gt; &gt; /usr/sbin/pppd connect '/usr/sbin/chat -V "" ATZ OK ATDT53617270 " "' user craig /dev/modem 38400 crtscts
sstone&gt; &gt; 
sstone&gt; &gt; # NEC TA
sstone&gt; &gt; # setserial -W -b /dev/modem spd_vhi
sstone&gt; &gt; # /usr/sbin/pppd connect '/usr/sbin/chat -v "" atz0 OK ATD53617270 CONNECT' user craig /dev/modem 38400 crtscts
sstone&gt; &gt; 

sstone&gt; You *did* uncomment the setserial and pppd lines for the TA, right?  The
sstone&gt; code above shows them commented out...

Yes.  

sstone&gt; I can email you my chat script/ifcfg script that I use on my TurboLinux
sstone&gt; system with my AIWA TA, if you want.

That might be helpful.  Could you send it to me.  Thank you. 

sstone&gt; I'll be interested to see if the NEC TAs will drop 50% of the packets over
sstone&gt; a ppp conn like the AIWAs do.  If so, I have a fix.. (easy fix).

Once I connect, I'll let you know.  The disappointing part of this 
story is that I tested the TA on my wife's Mac just to make sure
it could connect and the Mac worked no problem with KanjiTalk 7.1,
MacPPP, connecting at 64Kbps.  This would have been quite easy
with Linux had NEC remembered to include the Linux chapters
in their TA manuals.  I figure it must have been a printers error
and that the Linux chapters will be in the next release.  ;-)

In any event, the true Linux user presses on with or without
relevant documentation. 

The TA should work at or close to 128Kbps on the Linux box... Hopefully.
I am using UART: 16550A, so maybe I can pus it above 115,200.  

An interesting thing about setserial and stty.  I seem to be having
inconsistent behavior with my serial ports.  Sometimes the chat
script will detect the OK, sometimes it won't.  Right before I
wrote this message (using a 14.4Kbps modem), I had the chat script 
failing when using the ISDN with a 

 Can't get terminal parameters: Inappropriate ioctl for device

message.

However, I could dialout with minicom.  At one point, it was detecting
the expected "OK" keyword after I did a 

 #  setserial /dev/modem autoconfig

However, then it kind of started to hang.  The most interesting thing
was that when I went back to the modem, the modem didn't work either.
I tried various "setserial" options and "stty" commands, but could
only get the modem to talk to the Linux box after I did a reset.

Did anything evil happen to the serial programs recently?  I'm using
an old 2.0.33 kernel with pppd 2.3 patch level 2.  This whole
dialup networking thing is very interesting.  I guess that things
were too easy with the Ascend router in my house and it was taking 
the fun out of serial configuration.   Well, I'll give it another
try tomorrow.  If anyone has any Aterm IW60 / pppd / chat / ISDN
hints, please send them to me.

Regards,
Craig








--------------------------------------------------------------
Next Nomikai: 15 May Fri, 19:30 Tengu TokyoEkiMae 03-3275-3691
Next TLUG Meeting: 13 June Sat, Tokyo Station Yaesu gate 12:30
Featuring Stone and Turnbull on .rpm and .deb packages
--------------------------------------------------------------
Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00106" HREF="msg00106.html">Re: tlug: Chat with NEC Aterm IW60</A></STRONG>
<UL><LI><EM>From:</EM> Scott Stone &lt;sstone@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00116.html">Re: tlug: Modem question</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00118.html">tlug: .tgz files</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00106.html">Re: tlug: Chat with NEC Aterm IW60</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00108.html">Re: tlug: Chat with NEC Aterm IW60</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00117"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00117"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
