<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Making my LAN a passwordless zone -->
<!--X-From-R13: Rbht [pZrna <qzpyrna635Ntznvy.pbz> -->
<!--X-Date: Fri, 10 Jul 2009 16:02:05 +0900 -->
<!--X-Message-Id: 956ae5a90907100001t325a6d40q9621b7aae4aaca6e@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4A55DA40.2060202@articlass.org -->
<!--X-Reference: f118b8b90907090519w323e933esd3549bad11a88af@mail.gmail.com -->
<!--X-Reference: 1247134003.3591.4.camel@myhost -->
<!--X-Reference: 654B4C51&#45;23BA&#45;4C3B&#45;9BB0&#45;3986A95FFC61@bawdo.com -->
<!--X-Reference: 87zlbdku0s.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 956ae5a90907092354x12ba2d5cxe6d18830bd1479d3@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00076.html">Date Prev</a>][<a href="msg00078.html">Date Next</a>][<a href="msg00076.html">Thread Prev</a>][<a href="msg00078.html">Thread Next</a>][<a href="maillist.html#00077">Date Index</a>][<a href="threads.html#00077">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Making my LAN a passwordless zone</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Fri, 10 Jul 2009 08:01:32 +0100</li>
<li><strong>From</strong>: <strong>Doug McLean &lt;<a href="mailto:dmclean635@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">dmclean635@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Making my LAN a passwordless zone</strong></li>
<li>References: &lt;<a href="mailto:4A55DA40.2060202@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">4A55DA40.2060202@example.com</a>&gt;	&lt;<a href="mailto:f118b8b90907090519w323e933esd3549bad11a88af@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">f118b8b90907090519w323e933esd3549bad11a88af@example.com</a>&gt;	&lt;<a href="mailto:1247134003.3591.4.camel@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">1247134003.3591.4.camel@example.com</a>&gt;	&lt;<a href="mailto:654B4C51-23BA-4C3B-9BB0-3986A95FFC61@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">654B4C51-23BA-4C3B-9BB0-3986A95FFC61@example.com</a>&gt;	&lt;<a href="mailto:87zlbdku0s.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">87zlbdku0s.fsf@example.com</a>&gt;	&lt;<a href="mailto:956ae5a90907092354x12ba2d5cxe6d18830bd1479d3@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Making%20my%20LAN%20a%20passwordless%20zone">956ae5a90907092354x12ba2d5cxe6d18830bd1479d3@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Fri, Jul 10, 2009 at 7:54 AM, Doug McLean&lt;dmclean635@example.com&gt; wrote:
&gt; On Fri, Jul 10, 2009 at 6:05 AM, Stephen J. Turnbull&lt;stephen@example.com&gt; wrote:
&gt;&gt; Keith Bawden writes:
&gt;&gt;  &gt; On 2009/07/09, at 19:06, Phillip Tribble
&gt;&gt;  &gt; &lt;ptribble@example.com&gt; wrote:
&gt;&gt;  &gt; &gt;
&gt;&gt;  &gt; &gt; When you do ssh-copy-id, make sure that you do it like this:
&gt;&gt;  &gt; &gt;
&gt;&gt;  &gt; &gt; ssh-keygen -i ~/.ssh/id_rsa.pub root@example.com
&gt;&gt;  &gt;
&gt;&gt;  &gt; Not sure if that is such a great idea. As root ?
&gt;&gt;
&gt;&gt; There are other issues there, like the command syntax is wrong.
&gt;&gt; ssh-keygen has no non-option arguments.  It's optimized for
&gt;&gt; interactive use, and prompts for all optional arguments.  (I got that
&gt;&gt; wrong, too; what I should have written for generating the key is
&gt;&gt;
&gt;&gt;    ssh-keygen -t rsa -f ~/.ssh/id_rsa
&gt;&gt;
&gt;&gt; of course.)
&gt;&gt;
&gt;&gt; I also don't understand the purpose of the &quot;-i&quot; flag here.  ISTM we
&gt;&gt; know that the key files are in OpenSSH format, but that flag's only
&gt;&gt; useful for *importing* non-OpenSSH keys.  It might make sense if you
&gt;&gt; were exporting the keys to a non-OpenSSH machine (say a Windows box),
&gt;&gt; but then the option you want is &quot;-e&quot;.
&gt;
&gt; Exactly.  I'm always a little leery of root SSH keys, especially if
&gt; passwordless.  For that reason, for a small environment it's nice to
&gt; utilize 'ssh-agent' then 'ssh-add' because it unlocks the key ahead of
&gt; time, so you only have to use the passphrase once, but you can make
&gt; SSH connections as much as you like.
&gt;
&gt; A cursory Google search revealed a nice page both on generating SSH
&gt; keys (essentially the same steps as outlined by Mr. Bawden), plus how
&gt; to script ssh-agent to run from the shell profile script at login
&gt; time.
&gt;
&gt; But this setup is still not entirely automated, so if you need
&gt; something totally automated, then it's probably ok to setup some kind
&gt; of system account that both systems have (with restricted privileges,
&gt; shell, etc), generate password-less keys as Mr. Bawden outlined, and
&gt; then provide a means to escalate privileges to the system account.  In
&gt; other words, only just enough privileges to carry out its task.  Sudo
&gt; can help facilitate this.
&gt;
&gt; This might be overkill for a tiny home environment, but good practice
&gt; for a similiar setup in corporate environment.
&gt;
&gt; Good luck!
&gt;
&gt; --
&gt; Doug McLean
&gt;
&gt; Blog: <a  rel="nofollow" href="http://nihonshukyo.wordpress.com/">http://nihonshukyo.wordpress.com/</a>
&gt;

Almost forget to suggest.  When you do setup your keys, scripts and so
on, it's a good idea to use a minimalist ssh command to prevent abuse
by other folks.

Something like:

ssh -2 -x (destination)

Does a couple things.  SSHv2 is more secure than SSHv1 due to
improvements in its redundancy checks among other things.  The -x
turns off interactive X (unless you need it).  In addition, you can
configure SSH further to disable interactive shell if all you're doing
is just passing files.  If you do want interactive shell action, you'd
probably want to skip that feature.

Again, best of luck.

-- 
Doug &quot;Remembering to write below the quote ;)&quot; McLean

Blog: <a  rel="nofollow" href="http://nihonshukyo.wordpress.com/">http://nihonshukyo.wordpress.com/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00078" href="msg00078.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> David Shanahan</li></ul></li>
<li><strong><a name="00079" href="msg00079.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00059" href="msg00059.html">[tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00065" href="msg00065.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Keith Bawden</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Phillip Tribble</li></ul></li>
<li><strong><a name="00069" href="msg00069.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Keith Bawden</li></ul></li>
<li><strong><a name="00072" href="msg00072.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00076" href="msg00076.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
<ul><li><em>From:</em> Doug McLean</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00076.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00078.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00076.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00078.html">Re: [tlug] Making my LAN a passwordless zone</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00077"><strong>Date</strong></a></li>
<li><a href="threads.html#00077"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
