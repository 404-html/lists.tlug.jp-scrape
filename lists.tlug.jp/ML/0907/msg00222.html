<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Open&#45;source repository question -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Sun, 26 Jul 2009 00:19:19 +0900 -->
<!--X-Message-Id: 87y6qcztco.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5634e9210907141717r18873031s7dfc4dd216c708a5@mail.gmail.com -->
<!--X-Reference: 877hyak75b.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4A5D556F.2050605@bebear.net -->
<!--X-Reference: 873a8yjvhd.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4A5D9487.7010604@bebear.net -->
<!--X-Reference: 4A5E92C7.3060008@fremlin.org -->
<!--X-Reference: 87hbxdhtij.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4A5FF697.8030603@fremlin.org -->
<!--X-Reference: 877hy7ift8.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4A66DEE7.5080302@fremlin.org -->
<!--X-Reference: 87tz1499sz.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4A695A40.9020108@fremlin.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00221.html">Date Prev</a>][<a href="msg00223.html">Date Next</a>][<a href="msg00218.html">Thread Prev</a>][<a href="msg00232.html">Thread Next</a>][<a href="maillist.html#00222">Date Index</a>][<a href="threads.html#00222">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Open-source repository question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sun, 26 Jul 2009 00:15:51 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Open-source repository question</strong></li>
<li>References: &lt;<a href="mailto:5634e9210907141717r18873031s7dfc4dd216c708a5@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">5634e9210907141717r18873031s7dfc4dd216c708a5@example.com</a>&gt;	&lt;<a href="mailto:877hyak75b.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">877hyak75b.fsf@example.com</a>&gt;	&lt;<a href="mailto:4A5D556F.2050605@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">4A5D556F.2050605@example.com</a>&gt;	&lt;<a href="mailto:873a8yjvhd.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">873a8yjvhd.fsf@example.com</a>&gt;	&lt;<a href="mailto:4A5D9487.7010604@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">4A5D9487.7010604@example.com</a>&gt; &lt;<a href="mailto:4A5E92C7.3060008@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">4A5E92C7.3060008@example.com</a>&gt;	&lt;<a href="mailto:87hbxdhtij.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">87hbxdhtij.fsf@example.com</a>&gt;	&lt;<a href="mailto:4A5FF697.8030603@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">4A5FF697.8030603@example.com</a>&gt;	&lt;<a href="mailto:877hy7ift8.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">877hy7ift8.fsf@example.com</a>&gt;	&lt;<a href="mailto:4A66DEE7.5080302@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">4A66DEE7.5080302@example.com</a>&gt;	&lt;<a href="mailto:87tz1499sz.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">87tz1499sz.fsf@example.com</a>&gt;	&lt;<a href="mailto:4A695A40.9020108@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Open-source%20repository%20question">4A695A40.9020108@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>John Fremlin writes:
 &gt; Stephen J. Turnbull wrote:

 &gt; &gt; The assumption that two changes which conflict partially but are
 &gt; &gt; identical on the conflict are not in conflict.  David originally had
 &gt; &gt; this right but eventually bowed to pressure from the peanut gallery.
 &gt; 
 &gt; Why do you think one way is more correct than another and how does this 
 &gt; relate at all to the theory?

The problem is precisely that *neither* way is globally correct; you
need to understand the semantics to know which answer is right.  For
example, you and I may both change foo.c, but in different ways (ie,
semantically independent).  However, we both notice the same typo
&quot;hte&quot; and correct it to &quot;the&quot;.  This isn't a conflict, it's
independent invention, you know, the kind of thing that gets you sued
when a patent is involved.

OTOH, maybe we have this:

--------------------------------
char *identifiers[25] = {
    &quot;double&quot;,
    &quot;float&quot;,
    };

int next_open_slot = 2;
--------------------------------

and I change it to

--------------------------------
char *identifiers[25] = {
    &quot;char&quot;,
    &quot;double&quot;,
    &quot;float&quot;,
    };

int next_open_slot = 3;
--------------------------------

and you change it to

--------------------------------
char *identifiers[25] = {
    &quot;double&quot;,
    &quot;float&quot;,
    &quot;int&quot;,
    };

int next_open_slot = 3;
--------------------------------

OK, so let's merge.  I insert at line 2, you insert at line 4, no
conflict, right?  And semantically, entirely reasonable, no?  But we
both changed line 6, in the same way.  Original Darcs would throw a
conflict on that ... and be right.  'Cause now we get:

--------------------------------
char *identifiers[25] = {
    &quot;char&quot;,
    &quot;double&quot;,
    &quot;float&quot;,
    &quot;int&quot;,
    };

int next_open_slot = 3;
--------------------------------

Note that when the compiler (using this symbol table) parses

    int foo;

it will do

    insert_new_identifier (&quot;foo&quot;, 3);

and your change will get overwritten at runtime (and the parser will
throw inexplicable errors on all future int declarations :-).  Bad
Darcs!  Bad bad Darcs!  (And all other existing VCSes, for that matter.)

 &gt; The theory works fine provided the black box that determines whether 
 &gt; patches conflict is &quot;reasonable&quot; -- I'm not sure of the exact conditions 
 &gt; -- are you saying they are violated by this the choice of allowing 
 &gt; patches that share a common implied patch to commute or not?

I'm saying that there is a theory which says two patches which change
the same place are in conflict, unless the wholes of the two patches
are identical, and Darcs followed that theory at first, but then
decided to go with the heuristic that this is usually something like
the typo case.

 &gt; I don't see this at all, sorry for being so slow -- can you explain?
 &gt; 
 &gt; On a related note <a  rel="nofollow" href="http://projects.haskell.org/camp/">http://projects.haskell.org/camp/</a>

Yeah, I haven't been following that, they decided to go their own way
and not publish on the Darcs lists.  But the occasional traffic on the
Darcs list suggests that camp is no better in the sense that it has no
semantic theory, and is entirely based on textual heuristics for
identifying conflicts.

 &gt; &gt; Of course git has to worry about conflicts.  If it didn't, there would
 &gt; &gt; be no need for git-rebase --continue and/or git-rebase --skip.
 &gt; 
 &gt; It doesn't worry about it, it let's the users deal with it and provides 
 &gt; tools to help them.
 &gt; 
 &gt; Darcs is explicitly designed to worry about it.

No, it's not.  Darcs is designed to be smarter about what is and isn't
a conflict, but if it detects a conflict, Darcs throws the whole thing
into the user's lap just like all the others.  And in fact I don't
think Darcs really does much better than the heuristics build into git
(like &quot;patches which don't touch the same file don't conflict&quot;).

Definitely Darcs *really* sucks in its conflict markup.

 &gt; As the H.264 stuff used DMA, these two changes had to have separate 
 &gt; branches (in fact as we used CVS, I actually just checked out versions 
 &gt; of the source tree into different directories).

But this is precisely what Curt advocates, no?  Keeping it in a
workspace until it's ready to go into the mainline.  The point of a
branch is communicating (either with other developers or a forgetful
incarnation of yourself :-).  So I'm not sure where you're going with
this (unless you meant you *wished* you could branch but you were
stuck with CVS...).

 &gt; How would Curt or Linus keep this in their heads?

Well, Curt says he wouldn't, and in fact he probably doesn't need to
from how he describes his preferred workflows.  Linus doesn't keep the
details in his head, but from what I've seen on lkml, he does
understand the implications of all changes to the code in a very deep
way.  So he can look at a patch and decide it sucks or maybe it can
work &quot;as if&quot; he really had all those details at hand.  I personally
have something of that.  I'm not a very good programmer, and
definitely really slow, but I can look at other people's patches to
XEmacs and &quot;guess&quot; how they're going to blow up without really
understanding the details of what they're doing.

But that kind of &quot;intuition&quot; only goes so far, even for Linus.  So he
(and we) need branching.

 &gt; &gt; Heh.  It's a lot easier than that.  Git is a specialized Lisp with
 &gt; &gt; annotated conses (commits), multiway trees (trees), symbols (tags),
 &gt; &gt; and hash tables with stable universal hashes (all objects).  All done! 

Really, I should have dropped the hashtable part of the analogy and
just called it &quot;The Universal Obarray&quot;.

 &gt; &gt; Look Ma: no lambdas, and no parentheses.  I'm in heaven! :-)
 &gt; 
 &gt; But git's database is not a programming language so that doesn't make 
 &gt; sense. The difference between Lispy languages and others is that in Lisp 
 &gt; code is a singly linked list and can be fiddled with as if were data.
 &gt; 
 &gt; You could equally well claim that git was a specialised Python.

Well, you can claim that anything is a specialized Turing machine,
too.  But in the Lisp analogy there's something a little deeper than
that going on, I think.

What I was referring to is the recursive and cons-oriented style of
both Lisp and git *data*.  Even the &quot;array&quot; notation of git (HEAD~3)
is backward from all the others, and it's just an abbreviation for a
recursive notation (HEAD^^^).  Contrast with all the others, which
make it easier to refer to your mother by the number of generations
she's descended from Eve than by calling her &quot;Mom&quot;.  It's very easy
for a Lisp programmer to wrap his head around what git is doing.

And the cheap branching of git: a branch is just a pointer.  Cheap to
bind, cheap to throw away.  Make a reference, and your stuff won't get
garbage collected.

It's not a really robust analogy, rather a patchwork of small
correspondences.  But there are a lot of them!

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00232" href="msg00232.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00126" href="msg00126.html">[tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00128" href="msg00128.html">[tlug]  Open-source repository question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00132" href="msg00132.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00134" href="msg00134.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00135" href="msg00135.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00147" href="msg00147.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
<li><strong><a name="00156" href="msg00156.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00171" href="msg00171.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
<li><strong><a name="00183" href="msg00183.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00203" href="msg00203.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
<li><strong><a name="00204" href="msg00204.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00214" href="msg00214.html">Re: [tlug] Open-source repository question</a></strong>
<ul><li><em>From:</em> John Fremlin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00221.html">Re: [tlug] The Android Has Landed</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00223.html">Re: [tlug] How to display ISO-2022-JP (=EUC-JP =JIS) text in vim ?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00218.html">Re: [tlug] Open-source repository question</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00232.html">Re: [tlug] Open-source repository question</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00222"><strong>Date</strong></a></li>
<li><a href="threads.html#00222"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
