<!-- MHonArc v2.5.2 -->
<!--X-Subject: [tlug] Security question with grep/egrep -->
<!--X-From-R13: Xvz Perra <Xvz.PerraNvasbgrpu.zbanfu.rqh.nh> -->
<!--X-Date: Mon, 22 Mar 2004 13:18:04 +1100 (EST) -->
<!--X-Message-Id: 200403220218.i2M2I4BO026729@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00332.html">Date Prev</a>][<a href="msg00338.html">Date Next</a>][<a href="msg00344.html">Thread Prev</a>][<a href="msg00339.html">Thread Next</a>][<a href="maillist.html#00337">Date Index</a>][<a href="threads.html#00337">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Security question with grep/egrep</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 22 Mar 2004 13:18:04 +1100 (EST)</li>
<li><strong>From</strong>: <strong>Jim Breen &lt;<A HREF="mailto:Jim.Breen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Security%20question%20with%20grep%2Fegrep">Jim.Breen@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Security question with grep/egrep</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Greetings,

A question about the security/insecurity of something I am 
proposing to do with a CGI program.

I have a huge collection of Japanese/English sentence pairs, which I
have linked to my dictionary server. One option I am playing with is
to allow users to do greppy searches on English or Japanese strings.
&gt;From a form the user would enter a string, then the CGI program would
do a system() call of:

        egrep -i "&lt;data from the form&gt;" examples_file | &lt;display processing&gt;

Now the dangers of this are pretty clear, since it has the potential for
a user to put in something like " /dev/null &gt; /dev/null ; rm -f *
and the server will be in deep, deep kuso.

I'd like users to have the flexibility of regex searches available to
them, but removing any security holes is paramount.

The obvious thing is to ban user strings with a " in them, thus stopping
the premature termination of the pattern. Another is to write the 
pattern to a file, and use the -f option. (A wee bit slower, but
possibly MUCH safer, since the shell won't look at the input string.)

What is the opinion of the assembled TLUG wisdom on this? Is bumping off
the " enough? Are there other characters I should exclude? Is the -f
option safer?

Cheers

Jim

-- 
Jim Breen                                <A HREF="http://www.csse.monash.edu.au/~jwb/">http://www.csse.monash.edu.au/~jwb/</A>
Computer Science &amp; Software Engineering,                Tel: +61 3 9905 9554
Monash University, VIC 3800, Australia                  Fax: +61 3 9905 5146
(Monash Provider No. 00008C)                ジム・ブリーン@モナシュ大学
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00339" href="msg00339.html">Re: [tlug] Security question with grep/egrep</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00340" href="msg00340.html">Re: [tlug] Security question with grep/egrep</a></strong>
<ul><li><em>From:</em> Brett Robson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00332.html">[tlug] Magazines &amp; Software</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00338.html">[tlug] Magazines &amp; Software</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00344.html">Re: [tlug] Magazines &amp; Software</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00339.html">Re: [tlug] Security question with grep/egrep</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00337"><strong>Date</strong></a></li>
<li><a href="threads.html#00337"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
