<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: STB Velocity 3D and XFree 3.3.2 -->
<!--X-From: "Manuel M. T. Chakravarty" <chak@example.com> -->
<!--X-Date:  Thu, 23 Jul 1998 17:23:19 +0900 -->
<!--X-Message-Id: 19980723171532U.chak@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.4.00.9807230932530.2071&#45;100000@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00460.html">Date Prev</A>][<A HREF="msg00462.html">Date Next</A>][<A HREF="msg00451.html">Thread Prev</A>][<A HREF="msg00464.html">Thread Next</A>][<A HREF="maillist.html#00461">Date Index</A>][<A HREF="threads.html#00461">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: STB Velocity 3D and XFree 3.3.2</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A>, <A HREF="mailto:chris@example.com">chris@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: STB Velocity 3D and XFree 3.3.2</strong></LI>
<LI><strong>From</strong>: <strong>"Manuel M. T. Chakravarty" &lt;<A HREF="mailto:chak@example.com">chak@example.com</A>&gt;</strong></LI>
<LI>Date: Thu, 23 Jul 1998 17:15:32 +0900</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: Text/Plain; charset=us-ascii</LI>
<LI>In-Reply-To: Your message of "Thu, 23 Jul 1998 09:41:53 +0900 (JST)"&lt;<A HREF="msg00448.html">Pine.LNX.4.00.9807230932530.2071-100000@example.com</A>&gt;</LI>
<LI>References: &lt;<A HREF="msg00448.html">Pine.LNX.4.00.9807230932530.2071-100000@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
From: Christopher Sekiya &lt;chris@example.com&gt;
Subject: Re: tlug: STB Velocity 3D and XFree 3.3.2
Date: Thu, 23 Jul 1998 09:41:53 +0900 (JST)

&gt; On Wed, 22 Jul 1998, Scott Stone wrote:
&gt; 
&gt; &gt; &gt; I just installed TurboLinux on my desktop machine, happily throwing
&gt; &gt; &gt; AccelleratedX out, which I used so far for my STB Velocity 3D video
&gt; &gt; &gt; card (and which every couple of days messed up its font data forcing
&gt; &gt; &gt; me to restart the server over again).
&gt;
[...]
&gt;
&gt; Manuel said:
&gt; 
&gt; &gt; &gt; Scott once mentioned that the card uses the S3 ViRGE/VX, which is
&gt; &gt; &gt; supported by XFree's SVGA server and probing also finds this chip, but
&gt; &gt; &gt; in some video modes -- in particular in 1152x900, which I want to use
&gt; &gt; &gt; -- starting the X servers freezes the machine and I have to reboot.
&gt; 
&gt; Hmmm.  Further:
&gt; 
&gt; &gt; &gt; Does anybody have experience with this card?  Interestingly, the
&gt; &gt; &gt; higher resolution of 1280x1024 works (but the quality is not good -- I 
&gt; &gt; &gt; guess due to the lower refresh rate), so I'd like to use 1152x900,
&gt; &gt; &gt; which worked with AccelleratedX.
&gt; 
&gt; Huh.  Sounds to me like the card doesn't like those particular CRTC
&gt; timings.
&gt; 
&gt; If you're not afraid to monkey with your XF86Config, I'll try to dig up
&gt; some alternate timing values for you.
&gt; 
&gt; &gt; &gt; Modeline "1152x900" 80.00 1152 1209 1399 1513  900 920 930 948 -hsync -vsync
&gt; &gt; &gt; Modeline "1152x900" 95.00 1152 1193 1383 1521  900 920 930 948 -hsync -vsync
&gt; 
&gt; *laugh* Comment out the second one and try again.

Some more experiments resulted in the following: The card
works *exactly once* after booting.  When I leave X and
start it again, the machine freezes.  Actually, all video
modes (including the second above) seem to work (I tried
about five), but all of them work only when the card is
`freshly' booted.  I guess that it is the probing of the
clock that freezes the machine when it is done after I have
started X already once.  In particular, if, after starting
X, I run `turboxcfg' to set up video modes, the machine
already freezes after the dialog where I have to select the
color depth -- `turboxcfg' seems to probe for the possible
video modes, which I guess requires probing the clock.

Apart from this problem, everything seems to work fine, even 
the acceleration (though I have a slight distortion on the top
1cm of the screen image, which I cannot remember to have
seen before installing the new server). 

&gt; When you run at 1280, which dot clock does it use?

I append the output of the SVGA server below (but for
1152x900 -- otherwise, I have to boot again, and somebody else
is currently also logged in).  It says

  (--) SVGA: Maximum allowed dot-clock: 135.000 MHz

I guess, the server probed for this value?  Can I just tell
it the value, so that it doesn't probe?  (I didn't find any
such option in the manual -- but maybe I just didn't
recognize it.)

Any idea why the card behaves differently the second time I
start X?

Thanx,

Manuel

-------------------------------------------------------------------------------


XFree86 Version 3.3.2 / X Window System
(protocol Version 11, revision 0, vendor release 6300)
Release Date: March 2 1998
	If the server is older than 6-12 months, or if your card is newer
	than the above date, look for a newer version before reporting
	problems.  (see <A TARGET="_top" HREF="http://www.XFree86.Org/FAQ">http://www.XFree86.Org/FAQ</A>)
Operating System: Linux 2.0.33 i586 [ELF] 
Configured drivers:
  SVGA: server for SVGA graphics adaptors (Patchlevel 0):
      NV1, STG2000, RIVA128, ET4000, ET4000W32, ET4000W32i,
      ET4000W32i_rev_b, ET4000W32i_rev_c, ET4000W32p, ET4000W32p_rev_a,
      ET4000W32p_rev_b, ET4000W32p_rev_c, ET4000W32p_rev_d, ET6000, ET6100,
      et3000, pvga1, wd90c00, wd90c10, wd90c30, wd90c24, wd90c31, wd90c33,
      gvga, ati, sis86c201, sis86c202, sis86c205, tvga8200lx, tvga8800cs,
      tvga8900b, tvga8900c, tvga8900cl, tvga8900d, tvga9000, tvga9000i,
      tvga9100b, tvga9200cxr, tgui9400cxi, tgui9420, tgui9420dgi,
      tgui9430dgi, tgui9440agi, cyber9320, tgui9660, tgui9680, tgui9682,
      tgui9685, cyber9382, cyber9385, cyber9388, cyber9397, cyber9520,
      3dimage975, 3dimage985, clgd5420, clgd5422, clgd5424, clgd5426,
      clgd5428, clgd5429, clgd5430, clgd5434, clgd5436, clgd5446, clgd5480,
      clgd5462, clgd5464, clgd5465, clgd6205, clgd6215, clgd6225, clgd6235,
      clgd7541, clgd7542, clgd7543, clgd7548, clgd7555, ncr77c22, ncr77c22e,
      cpq_avga, mga2064w, mga1064sg, mga2164w, mga2164w AGP, oti067, oti077,
      oti087, oti037c, al2101, ali2228, ali2301, ali2302, ali2308, ali2401,
      cl6410, cl6412, cl6420, cl6440, video7, ark1000vl, ark1000pv,
      ark2000pv, ark2000mt, mx, realtek, AP6422, AT24, AT3D, s3_virge,
      s3_svga, ct65520, ct65525, ct65530, ct65535, ct65540, ct65545,
      ct65546, ct65548, ct65550, ct65554, ct65555, ct68554, ct64200,
      ct64300, neomagic, generic
(using VT number 7)

XF86Config: /usr/X11R6/lib/X11/XF86Config
(**) stands for supplied, (--) stands for probed/default values
(**) XKB: rules: "xfree86"
(**) XKB: model: "jp106"
(**) XKB: layout: "jp"
(**) Mouse: type: PS/2, device: /dev/psaux, buttons: 3
(**) SVGA: Graphics device ID: "AutoProbed (S3 ViRGE/VX:PCI)"
(**) SVGA: Monitor ID: "Custom Monitor"
(**) FontPath set to "/usr/X11R6/lib/X11/fonts/misc/,/usr/X11R6/lib/X11/fonts/Type1/,/usr/X11R6/lib/X11/fonts/Speedo/,/usr/X11R6/lib/X11/fonts/100dpi/,/usr/X11R6/lib/X11/fonts/75dpi/"
(--) SVGA: PCI: S3 ViRGE/VX rev 2, Memory @ 0xf8000000
(--) SVGA: S3V: ViRGE/VX rev 2, Linear FB @ 0xf8000000
(--) SVGA: Detected S3 ViRGE/VX
(--) SVGA: using driver for chipset "s3_virge"
(**) SVGA: videoram:  4096k
(--) SVGA: Ramdac speed: 220 MHz  (135 MHz for 24 bpp)
(--) SVGA: Detected current MCLK value of 50.114 MHz
(--) SVGA: chipset:  s3_virge
(**) SVGA: videoram: 4096k
(**) SVGA: Option "fifo_moderate"
(**) SVGA: Option "pci_burst_on"
(**) SVGA: Option "xaa_benchmark"
(**) SVGA: Option "pci_retry"
(**) SVGA: Using 24 bpp, Depth 24, Color weight: 888
(--) SVGA: Maximum allowed dot-clock: 135.000 MHz
(**) SVGA: Mode "1152x900": mode clock =  95.000
(--) SVGA: Virtual resolution set to 1152x900
(--) SVGA: SpeedUp code selection modified because virtualX != 1024
(--) SVGA: s3_virge: Using hardware cursor
(--) SVGA: Using XAA (XFree86 Acceleration Architecture)
(--) SVGA: XAA: Solid filled rectangles
(--) SVGA: XAA: Screen-to-screen copy
(--) SVGA: XAA: 8x8 pattern fill
(--) SVGA: XAA: 8x8 color expand pattern fill
(--) SVGA: XAA: CPU to screen color expansion (bitmap, TE/NonTE imagetext, TE/NonTE polytext)
(--) SVGA: XAA: Using 9 128x128 areas for pixmap caching
(--) SVGA: XAA: Caching tiles and non-transparent stipples
(--) SVGA: XAA: Horizontal and vertical lines and segments
CPU to framebuffer                                9.83 Mpix/sec (29.49 MB/s)
10x1 solid rectangle fill                        30.13 Mpix/sec (90.39 MB/s)
40x40 solid rectangle fill                       83.68 Mpix/sec (251.04 MB/s)
400x400 solid rectangle fill                    124.87 Mpix/sec (374.61 MB/s)
10x10 screen copy                                18.55 Mpix/sec (55.65 MB/s)
40x40 screen copy                                32.61 Mpix/sec (97.83 MB/s)
400x400 screen copy                              46.33 Mpix/sec (138.99 MB/s)
400x400 aligned screen copy (scroll)             36.90 Mpix/sec (110.70 MB/s)
10x10 8x8 pattern fill                           39.95 Mpix/sec (119.85 MB/s)
400x400 8x8 pattern fill                        124.44 Mpix/sec (373.32 MB/s)
10x10 8x8 color expand pattern fill              43.50 Mpix/sec (130.50 MB/s)
400x400 8x8 color expand pattern fill           125.16 Mpix/sec (375.48 MB/s)
10x10 CPU-to-screen color expand                  4.37 Mpix/sec (13.11 MB/s)
416x400 CPU-to-screen color expand              111.00 Mpix/sec (333.00 MB/s)

--------------------------------------------------------------
Next Meeting: 8 August, Tokyo Station Yaesu central gate 12:30
featuring Linux on multiple platforms:
i386, Sparc, PA-Risc, Amiga, SGI, Alpha, PalmPilot, ...
Next Nomikai: September, 19:30 Tengu TokyoEkiMae 03-3275-3691
--------------------------------------------------------------
Sponsor: PHT, makers of TurboLinux <A TARGET="_top" HREF="http://www.pht.co.jp">http://www.pht.co.jp</A>

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00464" HREF="msg00464.html">Re: tlug: STB Velocity 3D and XFree 3.3.2</A></STRONG>
<UL><LI><EM>From:</EM> Christopher Sekiya &lt;chris@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00466" HREF="msg00466.html">Re: tlug: STB Velocity 3D and XFree 3.3.2</A></STRONG>
<UL><LI><EM>From:</EM> Scott Stone &lt;sstone@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00448" HREF="msg00448.html">Re: tlug: STB Velocity 3D and XFree 3.3.2</A></STRONG>
<UL><LI><EM>From:</EM> Christopher Sekiya &lt;chris@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00460.html">Re: tlug: HTML beautifier</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00462.html">Re: tlug: HTML beautifier</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00451.html">Re: tlug: STB Velocity 3D and XFree 3.3.2</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00464.html">Re: tlug: STB Velocity 3D and XFree 3.3.2</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00461"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00461"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
