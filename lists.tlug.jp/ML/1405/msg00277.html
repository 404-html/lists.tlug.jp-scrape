<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [tlug] Limits on file numbers in sort &#45;m -->
<!--X-From-R13: Pehab Dnbhyg <oenbhygNtznvy.pbz> -->
<!--X-Date: Thu, 29 May 2014 18:21:42 +0900 -->
<!--X-Message-Id: CAJA1Y2b13ZMH6zhoXJtDmbPQuMkkCCjWiyHesHCW8dRoT_9JTw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CABHGxq7jYkDDLkF8uzzNK8WeU+37t1wgpVhk6VD2HQKyEi7wBw@mail.gmail.com -->
<!--X-Reference: CAJMSLH618MfmhL9ufAOfLXxw52i4STpF8dsc_+xe&#45;2GRB3JM8g@mail.gmail.com -->
<!--X-Reference: 87bnui8sky.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: CABHGxq4NEBMVR8jndiEvcgsGkc_B0f&#45;qcrs2sFjqaAdWH3n9sw@mail.gmail.com -->
<!--X-Reference: CAJMSLH6SdSUmvHsjmZBZP&#45;g1graNuPV51vdwLzpPf7ipmz7+zA@mail.gmail.com -->
<!--X-Reference: CABHGxq7eCk9Pk1JtNrZuqK_8yv4bt7ftoWwyXqf5P+GKYQH=5w@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00276.html">Date Prev</a>][<a href="msg00278.html">Date Next</a>][<a href="msg00276.html">Thread Prev</a>][<a href="msg00279.html">Thread Next</a>][<a href="maillist.html#00277">Date Index</a>][<a href="threads.html#00277">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Limits on file numbers in sort -m</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 29 May 2014 11:21:19 +0200</li>
<li><strong>From</strong>: <strong>Bruno Raoult &lt;<a href="mailto:braoult@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Limits%20on%20file%20numbers%20in%20sort%20-m">braoult@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Limits on file numbers in sort -m</strong></li>
<li>References: &lt;<a href="msg00267.html">CABHGxq7jYkDDLkF8uzzNK8WeU+37t1wgpVhk6VD2HQKyEi7wBw@mail.gmail.com</a>&gt;	&lt;<a href="msg00268.html">CAJMSLH618MfmhL9ufAOfLXxw52i4STpF8dsc_+xe-2GRB3JM8g@mail.gmail.com</a>&gt;	&lt;<a href="msg00272.html">87bnui8sky.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;	&lt;<a href="msg00273.html">CABHGxq4NEBMVR8jndiEvcgsGkc_B0f-qcrs2sFjqaAdWH3n9sw@mail.gmail.com</a>&gt;	&lt;<a href="msg00274.html">CAJMSLH6SdSUmvHsjmZBZP-g1graNuPV51vdwLzpPf7ipmz7+zA@mail.gmail.com</a>&gt;	&lt;CABHGxq7eCk9Pk1JtNrZuqK_8yv4bt7ftoWwyXqf5P+GKYQH=5w@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div class="gmail_extra"><div class="gmail_quote">On Thu, May 29, 2014 at 7:32 AM, Jim Breen <span dir="ltr">&lt;<a rel="nofollow" href="mailto:jimbreen@example.com" target="_blank">jimbreen@example.com</a>&gt;</span> wrote:<br>

<blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div class="">
&gt; Regarding the count of occurrences you could pipe the &quot;sort -m ....&quot; into<br>
&gt; &quot;uniq -c&quot;. I&#39;ve always been annoyed by the format of uniq (a space-padded,<br>
&gt; fixed-width count as the first column) but if you can live with that you&#39;ll<br>
&gt; be getting to what you want quicker. The pipe to uniq will consume it&#39;s<br>
&gt; input buffer very quickly so it&#39;s not going to be the case that all of the<br>
&gt; output of sort must stay in memory as long as the process is running. Also<br>
&gt; if duplicates are common, your final output file saved to disk will be<br>
&gt; usefully smaller.<br>
<br>
</div>In any case the output from &quot;uniq -c&quot; is not what I want, so since I&#39;d need to<br>
reformat it it&#39;s easier to use my own utility. It also give me the<br>
option of turning<br>
<br>
this  3<br>
this  4<br>
<br>
into<br>
<br>
this  7<br>
<br>
which I can&#39;t do with &quot;uniq -c&quot;.<br></blockquote><div><br></div><div>If you pipe the output of sort -m, you will get one line only (your &quot;this 7&quot;).<br></div></div>I don&#39;t understand how you get 2 lines with uniq -c.<br>

<br><span style="font-family:courier new,monospace">br@lorien:/export/home/br$ cat x<br>a<br>a a<br>c<br>d<br>br@lorien:/export/home/br$ cat y<br>a<br>a a<br>b<br>c<br>br@lorien:/export/home/br$ sort -m x y | uniq -c<br>
      2 a<br>
      2 a a<br>      1 b<br>      2 c<br>      1 d<br>br@lorien:/export/home/br$ sort -m x y | uniq -c | sed -e &#39;s/^[ ]*//&#39; -e &#39;s/ /,/&#39;<br>2,a<br>2,a a<br>1,b<br>2,c<br>1,d</span><br><br></div><div class="gmail_extra">

The last command is to get a csv (if the filename contains special characters, such as comma or double quotes, they should be handled differently, but this could be enough if your filenames are not in this case).<br></div>

<div class="gmail_extra"><br></div><div class="gmail_extra"><br></div><div class="gmail_extra">br.<br></div><div class="gmail_extra"><br clear="all"><br>-- <br>2 + 2 = 5, for very large values of 2.<br>
</div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00267" href="msg00267.html">[tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00268" href="msg00268.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> 黒鉄章</li></ul></li>
<li><strong><a name="00272" href="msg00272.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00273" href="msg00273.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00274" href="msg00274.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> 黒鉄章</li></ul></li>
<li><strong><a name="00276" href="msg00276.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00276.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00278.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00276.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00279.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00277"><strong>Date</strong></a></li>
<li><a href="threads.html#00277"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
