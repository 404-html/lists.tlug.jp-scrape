<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [tlug] Limits on file numbers in sort &#45;m -->
<!--X-From-R13: =?GFT&#45;8?P?6ohE6KzS56ht?= <nxven.xhebtnarNtznvy.pbz> -->
<!--X-Date: Wed, 28 May 2014 10:28:15 +0900 -->
<!--X-Message-Id: CAJMSLH618MfmhL9ufAOfLXxw52i4STpF8dsc_+xe&#45;2GRB3JM8g@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CABHGxq7jYkDDLkF8uzzNK8WeU+37t1wgpVhk6VD2HQKyEi7wBw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00267.html">Date Prev</a>][<a href="msg00269.html">Date Next</a>][<a href="msg00267.html">Thread Prev</a>][<a href="msg00269.html">Thread Next</a>][<a href="maillist.html#00268">Date Index</a>][<a href="threads.html#00268">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Limits on file numbers in sort -m</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 28 May 2014 10:27:53 +0900</li>
<li><strong>From</strong>: <strong>黒鉄章 &lt;<a href="mailto:akira.kurogane@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Limits%20on%20file%20numbers%20in%20sort%20-m">akira.kurogane@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Limits on file numbers in sort -m</strong></li>
<li>References: &lt;<a href="msg00267.html">CABHGxq7jYkDDLkF8uzzNK8WeU+37t1wgpVhk6VD2HQKyEi7wBw@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Jim.<div><br></div><div>    A small precursor to consider is if the filename expansion (i.e. from *.interim to all the separate files) will exceed the size of ARG_MAX. On my system you&#39;d be OK (it&#39;s ~2M, i.e. more than ~10k * 20 chars = ~200k)<div>

<br></div><blockquote style="margin:0px 0px 0px 40px;border:none;padding:0px"><div><div>akira@akira-t3500-ub:~$ getconf ARG_MAX</div></div><div><div>2097152</div></div><div><br></div></blockquote><div>    I am not aware of any filehandle limit that would affect the sort program, other than the general limits for any process. In this case there would an issue on my system (4096 hard limit for open files &lt; ~10k):</div>

<div><br></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div><div>akira@akira-t3500-ub:~$ cat /proc/self/limits | grep -P &quot;^Limit|^Max open files&quot;</div></div><div><div>Limit                     Soft Limit           Hard Limit           Units     </div>

</div><div><div>Max open files            1024                 4096                 files     </div></div></blockquote><div><br></div><div>Cheers,</div><div><br></div><div>Akira</div><div><br></div></div></div><div class="gmail_extra">

<br><br><div class="gmail_quote">On Wed, May 28, 2014 at 9:48 AM, Jim Breen <span dir="ltr">&lt;<a rel="nofollow" href="mailto:jimbreen@example.com" target="_blank">jimbreen@example.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">

A real *n*x question for once.<br>
<br>
I&#39;m gearing up for a merging of a very large number of<br>
sorted text files(*). Does anyone know if there is an upper<br>
limit on how many sorted files can be merged using something<br>
like: &quot;sort -m *.interim &gt; final&quot;.<br>
<br>
Also, is it worth fiddling with the &quot;--batch-size=NMERGE&quot; option?<br>
The system I&#39;ll be doing it on has masses of disk (10Tb), 8Gb of<br>
RAM and is a quad processor.<br>
<br>
TIA<br>
<br>
Jim<br>
<br>
(*) about 10k files, each about 4M lines of text.<br>
<span class="HOEnZb"><font color="#888888"><br>
--<br>
Jim Breen<br>
Adjunct Snr Research Fellow, Japanese Studies Centre, Monash University<br>
<br>
--<br>
To unsubscribe from this mailing list,<br>
please see the instructions at <a rel="nofollow" href="http://lists.tlug.jp/list.html" target="_blank">http://lists.tlug.jp/list.html</a><br>
<br>
The TLUG mailing list is hosted by ASAHI Net, provider of mobile and<br>
fixed broadband Internet services to individuals and corporations.<br>
Visit ASAHI Net&#39;s English-language Web page: <a rel="nofollow" href="http://asahi-net.jp/en/" target="_blank">http://asahi-net.jp/en/</a><br>
</font></span></blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00269" href="msg00269.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> 黒鉄章</li></ul></li>
<li><strong><a name="00270" href="msg00270.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> 黒鉄章</li></ul></li>
<li><strong><a name="00271" href="msg00271.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00272" href="msg00272.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00267" href="msg00267.html">[tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00267.html">[tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00269.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00267.html">[tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00269.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00268"><strong>Date</strong></a></li>
<li><a href="threads.html#00268"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
