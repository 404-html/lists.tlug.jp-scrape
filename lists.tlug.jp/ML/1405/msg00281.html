<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [tlug] Limits on file numbers in sort &#45;m -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Fri, 30 May 2014 03:53:00 +0900 -->
<!--X-Message-Id: 87d2ew76yd.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CABHGxq7jYkDDLkF8uzzNK8WeU+37t1wgpVhk6VD2HQKyEi7wBw@mail.gmail.com -->
<!--X-Reference: CAJMSLH618MfmhL9ufAOfLXxw52i4STpF8dsc_+xe&#45;2GRB3JM8g@mail.gmail.com -->
<!--X-Reference: 87bnui8sky.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: CABHGxq4NEBMVR8jndiEvcgsGkc_B0f&#45;qcrs2sFjqaAdWH3n9sw@mail.gmail.com -->
<!--X-Reference: CAJMSLH6SdSUmvHsjmZBZP&#45;g1graNuPV51vdwLzpPf7ipmz7+zA@mail.gmail.com -->
<!--X-Reference: CABHGxq7eCk9Pk1JtNrZuqK_8yv4bt7ftoWwyXqf5P+GKYQH=5w@mail.gmail.com -->
<!--X-Reference: 87sins7mhy.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: CAJA1Y2b6XyFNsFhDbK+ktgWk0cE5Lzfv9OrhimBH8RyN78yzLQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00280.html">Date Prev</a>][<a href="msg00282.html">Date Next</a>][<a href="msg00280.html">Thread Prev</a>][<a href="msg00282.html">Thread Next</a>][<a href="maillist.html#00281">Date Index</a>][<a href="threads.html#00281">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Limits on file numbers in sort -m</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Fri, 30 May 2014 03:52:58 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Limits%20on%20file%20numbers%20in%20sort%20-m">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Limits on file numbers in sort -m</strong></li>
<li>References: &lt;<a href="msg00267.html">CABHGxq7jYkDDLkF8uzzNK8WeU+37t1wgpVhk6VD2HQKyEi7wBw@mail.gmail.com</a>&gt;	&lt;<a href="msg00268.html">CAJMSLH618MfmhL9ufAOfLXxw52i4STpF8dsc_+xe-2GRB3JM8g@mail.gmail.com</a>&gt;	&lt;<a href="msg00272.html">87bnui8sky.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;	&lt;<a href="msg00273.html">CABHGxq4NEBMVR8jndiEvcgsGkc_B0f-qcrs2sFjqaAdWH3n9sw@mail.gmail.com</a>&gt;	&lt;<a href="msg00274.html">CAJMSLH6SdSUmvHsjmZBZP-g1graNuPV51vdwLzpPf7ipmz7+zA@mail.gmail.com</a>&gt;	&lt;CABHGxq7eCk9Pk1JtNrZuqK_8yv4bt7ftoWwyXqf5P+GKYQH=5w@mail.gmail.com&gt;	&lt;<a href="msg00279.html">87sins7mhy.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;	&lt;<a href="msg00280.html">CAJA1Y2b6XyFNsFhDbK+ktgWk0cE5Lzfv9OrhimBH8RyN78yzLQ@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Bruno Raoult writes:

 &gt; Could you precise again &quot;which kind of application&quot;?

One that reads the entire contents of each of several thousand files
each of which is 4 million lines long.

 &gt; A syscall is difficult to track, except when following them (which
 &gt; is very difficult, but possible).  Using buffered I/O is to avoid
 &gt; syscalls.

Exactly my point.

 &gt; uniq -c does it.

It does.  The problem is that if Jim merges 100 files 100 times
(that's 10,000 files) and then runs uniq -c on each of the 100 merged
files, he now has 100 files each of which has a count for each line.
If the &quot;real&quot; line in two such files is a duplicate, then he gets two
such lines.  That's what Jim meant by

    3 this                &lt;- result of merge 1
    4 this                &lt;- result of merge 2

Then he wants to merge the two files and get

    7 this

because there were 7 lines like that in all the different files.
(Actually he wants the count after the &quot;real&quot; text of the line, but
that's not a big deal.)  But he can't, because uniq doesn't know about
its own output format.  (You can use the -f flags to uniq and sort to
ignore the counts for sorting and uniquifying, but you're not quite
there because uniq won't add up the counts for identical lines from
the 1st pass merges for you.)


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00282" href="msg00282.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00267" href="msg00267.html">[tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00268" href="msg00268.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> 黒鉄章</li></ul></li>
<li><strong><a name="00272" href="msg00272.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00273" href="msg00273.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00274" href="msg00274.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> 黒鉄章</li></ul></li>
<li><strong><a name="00276" href="msg00276.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Jim Breen</li></ul></li>
<li><strong><a name="00279" href="msg00279.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00280" href="msg00280.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00280.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00282.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00280.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00282.html">Re: [tlug] Limits on file numbers in sort -m</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00281"><strong>Date</strong></a></li>
<li><a href="threads.html#00281"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
