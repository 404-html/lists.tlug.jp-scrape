<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Efficient editor keystrokes [was: How to use FF's shortcuts] -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Thu, 09 Aug 2007 13:56:11 +0900 -->
<!--X-Message-Id: 87hcn970qz.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 46B6E363.1010101@cnt.mxt.nes.nec.co.jp -->
<!--X-Reference: d8fcc0800708060212j1d0f16e7ybcdea487ff004ba6@mail.gmail.com -->
<!--X-Reference: Pine.NEB.4.64.0708062157030.11029@homeric.cynic.net -->
<!--X-Reference: d8fcc0800708061634w34b11790s8898274ee67fe535@mail.gmail.com -->
<!--X-Reference: Pine.NEB.4.64.0708080914040.22040@homeric.cynic.net -->
<!--X-Reference: 87y7gm7dbo.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: Pine.NEB.4.64.0708090315210.2520@homeric.cynic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00506.html">Date Prev</a>][<a href="msg00508.html">Date Next</a>][<a href="msg00598.html">Thread Prev</a>][<a href="msg00592.html">Thread Next</a>][<a href="maillist.html#00507">Date Index</a>][<a href="threads.html#00507">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Efficient editor keystrokes [was: How to use FF's shortcuts]</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Thu, 09 Aug 2007 14:09:08 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Efficient%20editor%20keystrokes%20%5Bwas:%20How%20to%20use%20FF%27s%20shortcuts%5D">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Efficient editor keystrokes [was: How to use FF's shortcuts]</strong></li>
<li>References: &lt;<a href="msg00297.html">46B6E363.1010101@cnt.mxt.nes.nec.co.jp</a>&gt;	&lt;<a href="msg00298.html">d8fcc0800708060212j1d0f16e7ybcdea487ff004ba6@mail.gmail.com</a>&gt;	&lt;<a href="msg00317.html">Pine.NEB.4.64.0708062157030.11029@homeric.cynic.net</a>&gt;	&lt;<a href="msg00333.html">d8fcc0800708061634w34b11790s8898274ee67fe535@mail.gmail.com</a>&gt;	&lt;<a href="msg00409.html">Pine.NEB.4.64.0708080914040.22040@homeric.cynic.net</a>&gt;	&lt;<a href="msg00418.html">87y7gm7dbo.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;	&lt;<a href="msg00475.html">Pine.NEB.4.64.0708090315210.2520@homeric.cynic.net</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Curt Sampson writes:

 &gt; On Wed, 8 Aug 2007, Stephen J. Turnbull wrote:
 &gt; 
 &gt; &gt; More [efficient], quite possible (although the viper emulation mode
 &gt; &gt; is pretty good, which might wipe out that advantage entirely ;-)
 &gt; 
 &gt; It has one serious failure which drove me up the wall: it puts the
 &gt; cursor on characters that don't exist. Specifically, the non-existent
 &gt; character after the last character of the line.

Emacs edits anything including the Linux kernel and tarfiles (although
I'll grant I would not want to run the bzip2 algorithm if coded in
LISP ;-).  There is a character there, the NEW LINE FUNCTION (NLF),
and it simplifies the conceptual model to treat it as one.

I'm not sure how hard it would be to treat lines as physical records,
and ignore the NLF.  Depends on your usage, and it might be very
inefficient without changes to the low-level C code.  For example,
counting characters in Mule is in principle O(n) so we cache
positions, but even so it needs to be done in C.  If you change the
algorithm, that could be very costly if done in LISP.

 &gt; that Emacs' LISP-like thing, bastardized as it is,

Emacs LISP is a true LISP, invented before Common LISP implementations
were freely available.  It is neither Common LISP nor Scheme, and much
the worse for that.  But it is true LISP.

In XEmacs, most Common LISP constructs are available by default; in
GNU Emacs, you can get them with by require'ing 'cl.  The main missing
feature in both cases is lexical scoping (although there is a
lexical-let hack, which nobody uses so might as well not be there),
which is a biggy, I admit.

 &gt; &gt; Of course 8 of them are chords, which is hard on the tendons.
 &gt; 
 &gt; Chords, to me, and many others, count as as many keystrokes are in the
 &gt; chord. Let me justify it this way, and see if you agree:

I disagree.  Chords are chords, and in public should be counted as
such (rather than assigning a specific number of keystrokes), as you
can expect any two typists to hold three opinions on how to count them.

 &gt; First, I think it's not a true chord, as in one you'd play on a piano,
 &gt; since the order in which you press the keys is important.

True.  This never matters to me unless I *try* to press the main
character fractionally before the modifier.  [Pointed noted, but I
gather that abbreviating &quot;ordered chord&quot; to &quot;chord&quot; is acceptable, so
I'm not going to differentiate since true availability of true chords
is determined by the hardware.]

The same thing is true of uppercase and other shifted keystrokes, of
course.  Do you have a keyboard layout that makes the most commonly
used uppercase letters available as single keystrokes?  If not, would
you consider using it now that I mention it?

 &gt; Second, a chord seems to me harder in that I now have to
 &gt; co-ordinate the lifting off a finger from the key,

You have to do the lift, but as far as I can tell order doesn't matter.

 &gt; &gt; In Emacs, that's
 &gt; &gt;
 &gt; &gt; C-s foo C-s C-s M-b C-b C-SPC M-} C-w .
 &gt; &gt;  1   4   5   6   7   8     9  10  11 12
 &gt; 
 &gt; Or, if you count chords the way I (and many others!) do, ignoring having
 &gt; to time the lift, and just looking at keypresses: [...] 19 keystrokes.

Maybe that's unfair.  I don't think the repeated control characters
should count Control as keystrokes twice.

 &gt; In vi, where the last E is an escape:
 &gt; 
 &gt;      3/foo/-1c}.E
 &gt; 
 &gt; or 13 keystrokes (remember the shift for the '}').

So accepting your accounting, Emacs costs about 50% more than vi.
&quot;Premature optimization is the root of all error.&quot;  (That's a joke,
you're welcome to optimize whatever you want.)  As a data point, is
this kind of operation often in your inner loop?

One thing that your example elides is the need to count &quot;foos&quot;.  You
save about n - log n keystrokes (counting a repetition of the same
control character as one keystroke as I did above, which is reasonable
for C-s and C-r).  However, if the problem is &quot;find nth foo and
replace, where n happens to be 3&quot;, you get 

/fooR/R/R-1c}.E

which is 16 keystrokes.  This is not a moot point; IIRC at one time
(ca. 1979) C-s was bound to a fixed search (not incremental), but the
incremental search was found to be more efficient so it was changed.
If C-s were a fixed search, then the Emacs user could save a couple
keystrokes by using ESC 3 C-s foo RET, and for large n the saving
(relative to the Emacs pattern above) would be proportional to n.
(ESC 3 C-s would not give three repetitions, rather it gives an
incremental regexp search, which is pretty cool.)

 &gt; Of course, you also need to consider what kind of reach you need for the
 &gt; keystrokes, and the right-left balance,

Not according to RMS. :-(  He's paid for his error, though.

 &gt; In general, watching what appear to me to be good Emacs users, I find
 &gt; them banging on or holding down arrow keys and the like quite a lot more
 &gt; than I do.

I do that for selecting lines with Shift Arrow.  Otherwise, a *good*
Emacs user will not usually be using the arrow keys.  What you will
find me banging on repeatedly are C-s and C-r (the search keystrokes),
and C-u C-SPC, which moves to the top mark and pops it off the mark
stack.

In general, you should *not* use position-based navigation in Emacs.
It's much more efficient to use content-based navigation and
mark-based navigation to get &quot;close&quot; to where you want to be.  This
can be further optimized by use of syntax-based navigation for fine
positioning.  Emacs has commands for motion (and therefore marking,
and often deletion and transposition) by words, sentences, paragraphs,
and sexps, at least.  Some modes (like PSGML) add more.  Granted, most
people, even those who generally are pretty efficient users, never
make paragraphs and sexps part of their daily repertoire (except that
movement by sexp is an essential part of debugging mismatched parens
in LISP, so everybody learns to use it for that).

The other key sequence that you will see me repeat a lot is C-x e,
which is &quot;execute macro&quot;.

 &gt; Then again, for most users, the whole point may be moot. My friend Perry
 &gt; Metzger once claimed to me that you will never become a good Emacs user
 &gt; if you didn't learn it before you were fifteen, and I can believe the
 &gt; same of vi.

You'll probably never become a Leonard Bernstein or even a George
Winston, true.  But you can become a good user if you kaizen your
usage, in the same way that you kaizen your coding process.

 &gt; It's not likely to happen because what expert Emacs user is likely
 &gt; to want to stand around behind me for several weeks answering
 &gt; questions such as, &quot;how do I move to the space before third
 &gt; instance of the word 'foo' ahead of the cursor and replace the rest
 &gt; of the the paragraph with a period?&quot;

Well, in most cases it's obvious, and Emacs bindings are pretty
orthogonal, though the &quot;mnemonic&quot; part is often unintuitive.  If
C-CHAR operates by characters, then M-CHAR operates by words and
C-M-CHAR operates by sexps.  A similar relationship holds for lines,
sentences, and defuns.  (IIRC this is not an advantage over vi, which
is even more orthogonal, except that there are abbreviations for the
most common operations on the most common objects.)

If you can guess the name of a command (normally not hard, something
like &quot;forward-paragraph&quot; is easy to guess, no?), then M-x
forward-paragraph RET will do what you want, and will also inform you
that it's bound to &quot;M-}, M-down, M-kp-down&quot;.  So it is fairly easy to
optimize your Emacs usage compared to vi, I think, because of the many
ways available to introspect Emacs's UI.

Where things get hard is when something like that becomes part of the
inner loop, and you need to do it in a macro-friendly way.  That is
something of an art, and I think that's a reason why most Emacs users
don't learn to use them effectively.  (Another issue is that they are
pretty ephemeral, although you can name them it's not as transparent
as I would like, and having more than one available at a time requires
manual management with little help from Emacs.)


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00592" href="msg00592.html">Re: [tlug] Efficient editor keystrokes [was: How to use FF's	shortcuts]</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00297" href="msg00297.html">[tlug] How to use FF's shortcuts</a></strong>
<ul><li><em>From:</em> Nguyen Vu Hung</li></ul></li>
<li><strong><a name="00298" href="msg00298.html">Re: [tlug] How to use FF's shortcuts</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="00317" href="msg00317.html">Re: [tlug] How to use FF's shortcuts</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00333" href="msg00333.html">Re: [tlug] How to use FF's shortcuts</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="00409" href="msg00409.html">Re: [tlug] How to use FF's shortcuts</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00418" href="msg00418.html">Re: [tlug] How to use FF's shortcuts [C&amp;C?]</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00475" href="msg00475.html">Re: [tlug] How to use FF's shortcuts [C&amp;C?]</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00506.html">Re: [tlug] [IME] :P Which IME does everyone use?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00508.html">Re: [tlug] [RFC] Proposed method for TAGGING subjects</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00598.html">Re: [tlug] How to use FF's shortcuts [C&amp;C?]</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00592.html">Re: [tlug] Efficient editor keystrokes [was: How to use FF's	shortcuts]</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00507"><strong>Date</strong></a></li>
<li><a href="threads.html#00507"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
