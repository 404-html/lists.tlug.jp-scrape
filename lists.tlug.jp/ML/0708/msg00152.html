<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Mail archiving question -->
<!--X-From-R13: "Xvz Perra" <wvzoerraNtznvy.pbz> -->
<!--X-Date: Fri, 03 Aug 2007 21:01:24 +0900 -->
<!--X-Message-Id: 5634e9210708030501q228e9e31ya2f3dfdb29168cf6@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00151.html">Date Prev</a>][<a href="msg00153.html">Date Next</a>][<a href="msg00146.html">Thread Prev</a>][<a href="msg00155.html">Thread Next</a>][<a href="maillist.html#00152">Date Index</a>][<a href="threads.html#00152">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Mail archiving question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Fri, 3 Aug 2007 22:01:22 +1000</li>
<li><strong>From</strong>: <strong>&quot;Jim Breen&quot; &lt;<a href="mailto:jimbreen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Mail%20archiving%20question">jimbreen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Mail archiving question</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Some background, then some questions.....

I foolishly volunteered to help set up a searchable
email archive for the Honyaku mailing list (A few
TLUGers are also on that list.) My current task is to
extract the essential headers (From, Subject, Date, ...)
and the body of the email, convert them to UTF-8 and
store them as one file per email. I am working on a collection
of about 40,000 accumulated emails from the last 18 months.

My first thought was to pipe each email through metamail, as
this would unpack things like Base64 and printed-quotable.
I can usually work out the coding from the MIME headers, so
converting to UTF-8 is not a big problem, Preliminary testing went
very well.

The metamail approach has run into a snag with emails
containg html. It goes and invokes my default browser
(Firefox), which is not much use when I'm batch-processing.
In many cases I can get around this by detecting there is
a second part to the email containing html, and simply throw it
away, however in some cases the html is in a Base64 coded block
so I'm not aware of it.

Another problem is the horrible Microsoft TNEF format, which
ignores email rules, doesn't have MIME information, etc.
Metamail simply throws in the towel on these.

Anyway, to get to my questions:

- has anyone done this sort of thing before and can suggest
perhaps an alternative approach?

- if I am sticking with metamail, is there any easy way
to get it to ignore html rather than hitting htmlview?

Cheers

Jim
-- 
Jim Breen
Honorary Senior Research Fellow
Clayton School of Information Technology,
Monash University, VIC 3800, Australia
<a  href="http://www.csse.monash.edu.au/~jwb/">http://www.csse.monash.edu.au/~jwb/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00155" href="msg00155.html">[tlug] Mail archiving question</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00151.html">Re: [tlug] Learning to Program</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00153.html">Re: [tlug] [OT] Good IT Resume</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00146.html">[tlug] Re: Emergency nomikai August 17th?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00155.html">[tlug] Mail archiving question</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00152"><strong>Date</strong></a></li>
<li><a href="threads.html#00152"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
