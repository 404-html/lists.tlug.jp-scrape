<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] reiserfs kernel panic -->
<!--X-From-R13: "@thlra Hh Vhat" <ihuhat16cyhfNtznvy.pbz> -->
<!--X-Date: Tue, 23 Oct 2007 11:25:49 +0900 -->
<!--X-Message-Id: 78d7dd350710221925r35d59be9v98f02229d983ad5@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00221.html">Date Prev</a>][<a href="msg00223.html">Date Next</a>][<a href="msg00224.html">Thread Prev</a>][<a href="msg00225.html">Thread Next</a>][<a href="maillist.html#00222">Date Index</a>][<a href="threads.html#00222">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] reiserfs kernel panic</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 23 Oct 2007 11:25:47 +0900</li>
<li><strong>From</strong>: <strong>&quot;Nguyen Vu Hung&quot; &lt;<a href="mailto:vuhung16plus@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20reiserfs%20kernel%20panic">vuhung16plus@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] reiserfs kernel panic</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi all,

When I run my application app_make_img under a RHEL 4, kernel
2.6.9-42.ELsmp, with NO upgrade applied, I got a kernel panic as
follows.

I also checked the RHEL ( Nahant Update 4 ) errata but I didn't found
any related information.

The other maybe interesting thing is that: when I run app_make_img,
the server will become *VERY* high-loaded ( using 6/8GB of memory,
100% CPU and dumping continuosly data to the disk.

----

cat /etc/redhat-release
Red Hat Enterprise Linux ES release 4 (Nahant Update 4)

uname -a
Linux teriyaki 2.6.9-42.ELsmp #1 SMP Wed Jul 12 23:27:17 EDT 2006 i686 GNU/Linux

Oct 20 16:32:08 server00 kernel: REISERFS: panic (device Null
superblock): reiserfs[26932]: assertion !( !bh ) failed at
fs/reiserfs/do_balan.c:1323:check_internal_node: PAP-12336: bh == 0
Oct 20 16:32:08 server00 kernel:
Oct 20 16:32:08 server00 kernel: ------------[ cut here ]------------
Oct 20 16:32:08 server00 kernel: kernel BUG at fs/reiserfs/prints.c:362!
Oct 20 16:32:08 server00 kernel: invalid operand: 0000 [#1]
Oct 20 16:32:08 server00 kernel: SMP
Oct 20 16:32:08 server00 kernel: Modules linked in: md5(U) ipv6(U)
parport_pc(U) lp(U) parport(U) reiserfs(U) dm_mirror(U) dm_mod(U)
button(U) battery(U) ac(U) uhci_hcd(U) ehci_hcd(U) tg3(U) bonding(U)
floppy(U) ext3(U) jbd(U) mppVhba(U) lpfc(U) scsi_transport_fc(U)
ata_piix(U) libata(U) megaraid_sas(U) mppUpper(U) sg(U) sd_mod(U)
scsi_mod(U)
Oct 20 16:32:08 server00 kernel: CPU:    3
Oct 20 16:32:08 server00 kernel: EIP:    0060:[&lt;f8c1ad7b&gt;]    Not tainted VLI
Oct 20 16:32:08 server00 kernel: EFLAGS: 00210216   (2.6.9-prep)
Oct 20 16:32:08 server00 kernel: EIP is at reiserfs_panic+0x36/0x56 [reiserfs]
Oct 20 16:32:08 server00 kernel: eax: 000000a0   ebx: f8c358da   ecx:
e26bd950   edx: f8c358ea
Oct 20 16:32:08 server00 kernel: esi: 00000000   edi: 00000160   ebp:
f6f25400   esp: e26bd94c
Oct 20 16:32:08 server00 kernel: ds: 007b   es: 007b   ss: 0068
Oct 20 16:32:08 server00 kernel: Process app_make_img (pid: 26932,
threadinfo=e26bd000 task=f681cc70)Oct 20 16:32:08 server00 kernel:
Stack: f8c358ea f8c358da f8c485a0 00000000 00000005 e26bda10 f8c0a0f9
00000000Oct 20 16:32:08 server00 kernel:        f8c308dd 00006934
0000052b f8c2cdb9 f8c30c69 e26bda10 00000005 e26bda10
Oct 20 16:32:08 server00 kernel:        00000000 f8c0a448 00000005
e26bd9b0 f8c0a5a7 ff1ed000 e26bdc20 00000000
Oct 20 16:32:08 server00 kernel: Call Trace:
Oct 20 16:32:08 server00 kernel:  [&lt;f8c0a0f9&gt;]
check_internal_node+0x42/0xe8 [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c0a448&gt;]
check_internal_levels+0x2a/0x6e [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c0a5a7&gt;] do_balance+0x11b/0x148 [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c17eb1&gt;] fix_nodes+0x2f3/0x435
[reiserfs]Oct 20 16:32:08 server00 kernel:  [&lt;f8c25706&gt;]
reiserfs_insert_item+0x1ef/0x27d [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c2623f&gt;]
indirect2direct+0x249/0x2a2 [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c24645&gt;]
reiserfs_cut_from_item+0x10b/0x57e [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c24de4&gt;]
reiserfs_do_truncate+0x2ce/0x4c2 [reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c2a0ab&gt;] journal_begin+0x7b/0x9e
[reiserfs]
Oct 20 16:32:08 server00 kernel:  [&lt;f8c1004a&gt;]
reiserfs_truncate_file+0xdb/0x1b0 [reiserfs]
Oct 20 16:32:09 server00 kernel:  [&lt;f8c2a38a&gt;] journal_end+0x84/0x89 [reiserfs]
Oct 20 16:32:09 server00 kernel:  [&lt;f8c11769&gt;]
reiserfs_file_release+0x3c5/0x40e [reiserfs]
Oct 20 16:32:09 server00 kernel:  [&lt;c015bbd6&gt;] __fput+0x55/0x100
Oct 20 16:32:09 server00 kernel:  [&lt;c015a7f5&gt;] filp_close+0x59/0x5f
Oct 20 16:32:09 server00 kernel:  [&lt;c02d4703&gt;] syscall_call+0x7/0xb
Oct 20 16:32:09 server00 kernel:  [&lt;c02d007b&gt;]
packet_rcv+0x242/0x307Oct 20 16:32:09 server00 kernel: Code: 8b 44 24
14 bb da 58 c3 f8 8d be 60 01 00 00 e8 a2 fd ff ff 68 a0 85 c4 f8 85
f6 89 d8 0f 45 c7 50 68 ea 58 c3 f8 e8 23 7b 50 c7 &lt;0f&gt; 0b 6a 01 0e 59
c3 f8 83 c4 0c 85 f6 68 a0 85 c4 f8 0f 45 df
Oct 20 16:32:09 server00 kernel:  &lt;0&gt;Fatal exception: panic in 5
secondsOct 20 16:32:09 server00 kernel: 514


-- 
Best Regards,
Nguyen Hung Vu
vuhung16plus{remove}@example.com
An inquisitive look at Harajuku
<a  href="http://www.flickr.com/photos/vuhung/sets/72157600109218238/">http://www.flickr.com/photos/vuhung/sets/72157600109218238/</a>

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00221.html">[tlug] Tlug archive in mbox format</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00223.html">[tlug] Tlug archive in mbox format</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00224.html">Re: [tlug] Tlug archive in mbox format</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00225.html">[tlug] good C book for iso c99?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00222"><strong>Date</strong></a></li>
<li><a href="threads.html#00222"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
