<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] Looking for advice on the best way to rebuild a gentoo box -->
<!--X-From-R13: Oy Vbnat <ubnatnNnyhz.ecv.rqh> -->
<!--X-Date: Wed, 01 Nov 2006 17:37:58 +0900 -->
<!--X-Message-Id: 20061101083757.GE9438@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: op.tibu97eo4j0um6@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00010.html">Date Prev</a>][<a href="msg00012.html">Date Next</a>][<a href="msg00010.html">Thread Prev</a>][<a href="msg00018.html">Thread Next</a>][<a href="maillist.html#00011">Date Index</a>][<a href="threads.html#00011">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Looking for advice on the best way to rebuild a gentoo box</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 1 Nov 2006 17:37:57 +0900</li>
<li><strong>From</strong>: <strong>Al Hoang &lt;<a href="mailto:hoanga@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Looking%20for%20advice%20on%20the%20best%20way%20to%20rebuild%20a%20gentoo%20box">hoanga@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Looking for advice on the best way to rebuild a gentoo box</strong></li>
<li>References: &lt;<a href="msg00010.html">op.tibu97eo4j0um6@example.com</a>&gt;</li>
<li>User-agent: Mutt/1.5.12-2006-07-14</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, Nov 01, 2006 at 05:02:21PM +0900, Zev Blut wrote:
[snip]
&gt; USE changes and such for at least over a year and a half.  I would
&gt; like to reduce down time as much as possible, so before I decide to
&gt; rebuild from scratch I would like to know if any of you have some good
&gt; strategies for rebuilding your system.
&gt; 
&gt; I am tempted to try doing a :
&gt; 
&gt; emerge -Duave world
&gt; 
[snip]

	I'm not a Gentoo expert by any means although *cough* I presume
there are some folks on TLUG who are.  But you might want to keep these
factors in the quest to answer 'upgrade' or 'reinstall'
1. What (green/blue/brown)black belt level of Distro-fu are you at?
2. How much do you value your current system state as is?
3. How much do you want to get rid of old cruft?
4. How many new things that came down the pipeline look like they'll stomp
   on what you have now?

If 2 is pretty big on your concern list and 1 is not a problem, it's 
probably more tempting to hit 'emerge world'.
If 3 &amp; 4 are concerns perhaps a reinstall with an overlay of what you have
for your current system will be more appropriate

As a rough barometer of how to calculate the time it will take to 
do operation 'get my box current'.  I'd make a guess
that the time you'll spend  can be factored into
1. emerge world option will cost something like Npu + Db where:
  Npu = # of packages needing upgrade. Np is affected by how many 
packages you've kept back from doing the upgrade slide over time.
  Db  = Debug time for any packages that have experienced a transition 
change that require some sort of change from the admin.  Db tends to be a big
fuzzy factor that I should probably break down a bit more.
  Db is affected by the amount of time + effort + avoid frying pan factors
in working with the portage system AND its innards. 

2. Reinstall option cost is something like:  Bt + Dl + In + Npi
  Bt  =  Time to backup all your relevant data to use as a template for a
reinstall.
  Dl  =  Time to download the new Gentoo distro (Maybe you already have 
the disc so this becomes zero)
  In  =  Install time for distro.  Since you're an experienced Gentoo user, I imagine more time will be waiting for the the tarball to extract
  Npi =  # of packages needing install.  You'll need to factor in download 
times as well as compile.  However this can be slightly mitigated by saving
your old tarballs and trying to recycle as much as you can.
  Mct =  Migration configuration time.  All the time to overlay your old 
configs onto the new config tree.  This is a bit tedious but like with the
other factors, you have a running system to use as a template for what to
fill in.
 

	If it was me, I'd catalog all the stuff I installed, backup /etc,
/home, /usr/portage and anything in /usr/local/portage then reinstall 
from scratch since the number of system affecting changes in your case 
seem a large enough delta that it'd be better to try to install a 
new system and figure out which settings you had can be merged back in 
properly.  I'm sure other folks will have different opinions on this.  
Another reason being that, my experience is that many distros spend 
incredible amounts of effort making sure INSTALLS go very well however 
upgrades are a very hard problem to get right since upgrades usually 
tend to be on a customized configuration to the point each machine is 
a little bit unique so the possibility of hitting an unforeseen snag 
is high without huge amounts of integration testing or just installing 
very plain and boring packages.

	On a side note,	as nice as Gentoo's source package management 
system is, when I was bitten by the /etc/shadow, pam issue that I 
posted on TLUG a few months ago, my faith in Gentoo's upgrade process 
was a bit shaken.  I guess that's what happens when you get spoiled 
using FreeBSD for a few years ;)

Alain

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00018" href="msg00018.html">Re: [tlug] Looking for advice on the best way to rebuild a gentoo box</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: [tlug] Looking for advice on the best way to rebuild a gentoo box</a></strong>
<ul><li><em>From:</em> Zev Blut</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00010" href="msg00010.html">[tlug] Looking for advice on the best way to rebuild a gentoo box</a></strong>
<ul><li><em>From:</em> Zev Blut</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00010.html">[tlug] Looking for advice on the best way to rebuild a gentoo box</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00012.html">Re: [tlug] Becoming Windows Free: Linux Lazer Printers</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00010.html">[tlug] Looking for advice on the best way to rebuild a gentoo box</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00018.html">Re: [tlug] Looking for advice on the best way to rebuild a gentoo box</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00011"><strong>Date</strong></a></li>
<li><a href="threads.html#00011"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
