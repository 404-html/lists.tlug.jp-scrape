<!-- MHonArc v2.6.10 -->
<!--X-Subject: [tlug] Dmesg and CPU Information -->
<!--X-From-R13: Qheg Enzcfba <pwfNfgneyvat&#45;fbsgjner.pbz> -->
<!--X-Date: Mon, 07 May 2007 16:04:52 +0900 -->
<!--X-Message-Id: Pine.NEB.4.64.0705071516450.741@homeric.cynic.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.NEB.4.64.0705062342230.741@homeric.cynic.net -->
<!--X-Reference: 877irlcl3u.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00130.html">Date Prev</a>][<a href="msg00132.html">Date Next</a>][<a href="msg00129.html">Thread Prev</a>][<a href="msg00135.html">Thread Next</a>][<a href="maillist.html#00131">Date Index</a>][<a href="threads.html#00131">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[tlug] Dmesg and CPU Information</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 7 May 2007 16:04:51 +0900 (JST)</li>
<li><strong>From</strong>: <strong>Curt Sampson &lt;<a href="mailto:cjs@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Dmesg%20and%20CPU%20Information">cjs@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[tlug] Dmesg and CPU Information</strong></li>
<li>References: &lt;<a href="msg00113.html">Pine.NEB.4.64.0705062342230.741@homeric.cynic.net</a>&gt;	&lt;<a href="msg00126.html">877irlcl3u.fsf@uwakimon.sk.tsukuba.ac.jp</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Mon, 7 May 2007, Stephen J. Turnbull wrote:</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">I thought that was what dmesg was for, logging all the low-level
bitflicking in case inquiring minds want to know.  (That's a question,
really.  I'm not a kernel hacker.)
</pre></blockquote><pre style="margin: 0em;"><br>Not really; logging *all* of that stuff quickly becomes quite
overwhelming. It's mostly there so you can see in general what devices
the system is probing and configuring (and not configuring), and get
leads for further debugging.</pre><br>
<pre style="margin: 0em;">I use it mostly to figure out exactly what hardware is in the machine,
what source code files I have to look at to figure out what the kernel
is doing in some particular area, and what further debug messages to
turn on in a debugging kernel. (Speaking here as a rather casual &quot;kernel
hacker.&quot;)</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">I suppose in theory it could be better organized, but it would be
organizationally hard since Linux kernel architecture and development
organization is so decentralized compared to BSD.  So all of the
different messages are being output according to the tastes of the
developer doing that particular modules.  (&quot;Have you ever tried to
herd cats?&quot; :-)
</pre></blockquote><pre style="margin: 0em;"><br>If they can agree on Kernel API changes, I'm sure they could agree on
what kind of messages things print. Anyway, Linux kernel development, in
and of itself, seems reasonably centralized, even if there are eighteen
zillion different userlands.</pre><br>
<blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">&gt; doesn't even bother to give you things such as the CPU ID string.</pre><br>
<tt>cat /proc/cpuinfo give you what you're looking for?
</tt></blockquote><pre style="margin: 0em;"><br>Nope. As an example, here's the /proc/cpuinfo, which is a bit light on
information:</pre><br>
<pre style="margin: 0em;">    processor       : 0
    vendor_id       : CentaurHauls
    cpu family      : 6
    model           : 7
    model name      : VIA Ezra
    stepping        : 10
    cpu MHz         : 800.065
    cache size      : 64 KB
    fdiv_bug        : no
    hlt_bug         : no
    f00f_bug        : no
    coma_bug        : no
    fpu             : yes
    fpu_exception   : yes
    cpuid level     : 1
    wp              : yes
    flags           : fpu de tsc msr cx8 mtrr pge mmx 3dnow up
    bogomips        : 1602.08
    clflush size    : 32</pre><br>
<pre style="margin: 0em;">and the CPU-related dmesg output (I've elided quite a number of
interleaved messages which are not CPU-related), which has a bunch
of stuff that wouldn't be very interesting unless you were actively
debugging that section of the kernel:</pre><br>
<pre style="margin: 0em;">    [   66.571992] Initializing CPU#0
    ...
    [   66.691752] Checking if this processor honours the WP bit even in supervisor mode... Ok.
    [   66.772025] Calibrating delay using timer specific routine.. 1602.08 BogoMIPS (lpj=3204179)
    ...
    [   66.772997] CPU: After generic identify, caps: 00803035 80803035 00000000 00000000 00000000 00000000 00000000
    [   66.773035] CPU: L1 I Cache: 64K (32 bytes/line), D cache 64K (32 bytes/line)
    [   66.773050] CPU: L2 Cache: 64K (32 bytes/line)
    [   66.773060] CPU: After all inits, caps: 00803135 80803035 00000000 00000000 00000000 00000000 00000000
    [   66.773119] Compat vDSO mapped to ffffe000.
    [   66.773146] Remapping vsyscall page to ffffe000
    [   66.773175] Checking 'hlt' instruction... OK.
    [   66.788134] SMP alternatives: switching to UP code
    [   66.789150] Freeing SMP alternatives: 11k freed
    ...
    [   68.564152] CPU0: Centaur VIA Ezra stepping 0a
    [   68.564172] SMP motherboard not detected.
    ...
    [   68.564346] Brought up 1 CPUs</pre><br>
<pre style="margin: 0em;">And the nice, clean, colocated, informative NetBSD output:</pre><br>
<pre style="margin: 0em;">    cpu0 at mainbus0: (uniprocessor)
    cpu0: VIA C3 Samuel 2/Ezra (686-class), 800.07 MHz, id 0x67a
    cpu0: features 80803035&lt;FPU,DEFAULT,TSC,MSR,MTRR&gt;
    cpu0: features 80803035&lt;PGE,MMX&gt;
    cpu0: features 80803035&lt;3DNOW&gt;
    cpu0: &quot;VIA Ezra&quot;
    cpu0: I-cache 64 KB 32B/line 4-way, D-cache 64 KB 32B/line 4-way
    cpu0: L2 cache 64 KB 32B/line 4-way
    cpu0: ITLB 128 4 KB entries 8-way
    cpu0: DTLB 128 4 KB entries 8-way
    cpu0: 4 page colors</pre><br>
<pre style="margin: 0em;">You'll note in particular that NetBSD is giving you more information
(in a more compact format) useful to build a mental model of how the
architecture is going to affect performance (Linux leaves out the cache
associativity and the translation lookaside buffer information), as well
as a much more readable CPU capability printout (very useful if you're
wondering, for example, what kind of virtualization your CPU supports).</pre><br>
<pre style="margin: 0em;">Of course, most people nice as all this is, I'm sure that some folks
would prefer things such as broader ACPI support to easier kernel
debugging. (Though I have yet to see hibernate work properly even on a
Linux system.)</pre><br>
<pre style="margin: 0em;">cjs
--
Curt Sampson       &lt;cjs@example.com&gt;        +81 90 7737 2974</pre><br>
<pre style="margin: 0em;">Mobile sites and software consulting: <a  href="http://www.starling-software.com">http://www.starling-software.com</a></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00135" href="msg00135.html">[tlug] Dmesg and CPU Information</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00150" href="msg00150.html">Re: [tlug] Dmesg and CPU Information</a></strong>
<ul><li><em>From:</em> Attila Kinali</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00113" href="msg00113.html">[tlug] Ubuntu / EPIA / Media Player</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00126" href="msg00126.html">[tlug] Ubuntu / EPIA / Media Player</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00130.html">Re: [tlug] Ubuntu / EPIA / Media Player</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00132.html">Re: [tlug] Ubuntu / EPIA / Media Player</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00129.html">Re: [tlug] Ubuntu / EPIA / Media Player</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00135.html">[tlug] Dmesg and CPU Information</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00131"><strong>Date</strong></a></li>
<li><a href="threads.html#00131"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
