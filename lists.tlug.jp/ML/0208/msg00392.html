<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] Server shows strange load and memory spikes -->
<!--X-From-R13: "Xrna&#45;Quevfgvna Wzornhyg" <wrna_puevfgvnaNubgznvy.pbz> -->
<!--X-Date: Wed, 28 Aug 2002 14:16:09 +0900 (JST) -->
<!--X-Message-Id: F248wEow0lClpclcK5s0001140b@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00391.html">Date Prev</a>][<a href="msg00393.html">Date Next</a>][<a href="msg00388.html">Thread Prev</a>][<a href="msg00397.html">Thread Next</a>][<a href="maillist.html#00392">Date Index</a>][<a href="threads.html#00392">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Server shows strange load and memory spikes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 28 Aug 2002 14:17:49 +0900</li>
<li><strong>From</strong>: <strong>&quot;Jean-Christian Imbeault&quot; &lt;<A HREF="mailto:jean_christian@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20Server%20shows%20strange%20load%20and%20memory%20spikes">jean_christian@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Server shows strange load and memory spikes</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
&gt;From: B0Ti &lt;9915104t@example.com&gt;
&gt;
&gt;Did you look at the output, or just piped it to the mail command? ;)

Cute ;)

&gt; &gt; /usr/local/sbin/cronolog /www/logs/%Y/%m/%d/error.log
&gt; &gt; root       627  0.1  0.0  1512  372 ?        S    Aug27   1:46
&gt;If you look at all your processes, this one stands out with it's total CPU
&gt;time consumption.

Yup. It's a program that captures apache's log output and writes it to disk. 
It's nothing more than a pipe, but it has the nice feature of creating 
directories hierachies based on the date, i.e. it files away the logs in 
nicely ordered directories. It continually runs in the background as long as 
apache is up and running.

So that processes is running *all* the time. Why would it start pumping up 
my load at 11:00am when the server is relatively not busy instead of say 
midnight when I have &gt;500 http processes up and running.

&gt;Just because it doesn't show high CPU usage in that top output it doesn't
&gt;mean CPU peaks never happen any other time for that process.

True. But the top output I gave shows a load above 3. What I'd like to find 
out is what processes are waiting to be run that can't be run right now and 
why. What is the bottleneck?

The CPU is mostly iddle but the load is high. I figure this must mean that 
some processes are waiting on a ressource other than the CPU that isn't 
available right now and hence are queuing up. And with a load of 3 it must 
mean that I have at least three processes blocked and waiting ...

&gt;Even if CPU
&gt;load is not high disk I/O will pump up your load average.

I again totally agreee. Is there any way for me to see what processes are 
using or waiting on disk I/O?

&gt;Though it might be something completely different.

Which I am afraid of ...

I'd like to learn more about system administration, and I figure one 
important skill to have would be the ability to profile load usage and 
figure out what makes a machine busy, why, and then how to tune the machine 
so that it utilize ressources as best as possible.

I'm really stumped on this one ...

Jc

_________________________________________________________________
Join the world’s largest e-mail service with MSN Hotmail. 
<A  HREF="http://www.hotmail.com">http://www.hotmail.com</A>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00397" href="msg00397.html">Re: [tlug] Server shows strange load and memory spikes</a></strong>
<ul><li><em>From:</em> B0Ti</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00391.html">Re: [tlug] Class B Hubs not suitable for data center use?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00393.html">Re: [tlug] Class B Hubs not suitable for data center use?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00388.html">Re: [tlug] Server shows strange load and memory spikes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00397.html">Re: [tlug] Server shows strange load and memory spikes</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00392"><strong>Date</strong></a></li>
<li><a href="threads.html#00392"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
