<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] Server shows strange load and memory spikes -->
<!--X-From-R13: "Xrna&#45;Quevfgvna Wzornhyg" <wrna_puevfgvnaNubgznvy.pbz> -->
<!--X-Date: Wed, 28 Aug 2002 11:16:46 +0900 (JST) -->
<!--X-Message-Id: F70WQyZ9gR9Zrj7mBHd00013fc0@example.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00381.html">Date Prev</a>][<a href="msg00383.html">Date Next</a>][<a href="msg00364.html">Thread Prev</a>][<a href="msg00388.html">Thread Next</a>][<a href="maillist.html#00382">Date Index</a>][<a href="threads.html#00382">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Server shows strange load and memory spikes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Wed, 28 Aug 2002 11:18:26 +0900</li>
<li><strong>From</strong>: <strong>&quot;Jean-Christian Imbeault&quot; &lt;<A HREF="mailto:jean_christian@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20Server%20shows%20strange%20load%20and%20memory%20spikes">jean_christian@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Server shows strange load and memory spikes</strong></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Me again. Sorry to keep this thread alive but the sysadmin in me has been 
really peeved at not being able to figure why my web server would be showing 
so high a load at times when it should not be busy.

I disabled cron jobs yesterdy in the hopes that it would help me pinpoint 
which processes where causing my CPU load and memory usage to spike at 
certain times of the day.

Disabling cron did remove the memory spike I was seeing at 4:00am. However 
it did not do anything for the spikes in CPU load. For example, right now my 
server is doing over 3 for CPU load and I can't figure out why. Top reports 
this:

10:56am  up 22:27,  1 user,  load average: 3.17, 2.59, 1.87
245 processes: 241 sleeping, 4 running, 0 zombie, 0 stopped
CPU states:  1.3% user,  3.9% system,  0.9% nice, 93.6% idle
Mem:   516820K av,  512408K used,    4412K free,       0K shrd,   24300K 
buff
Swap: 1052216K av,    5280K used, 1046936K free                  388452K 
cached

Other than http processes ps gives me this:

USER       PID %CPU %MEM   VSZ  RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0  1416  456 ?        S    Aug27   0:06 init [3]
root         2  0.0  0.0     0    0 ?        SW   Aug27   0:00 [keventd]
root         3  0.0  0.0     0    0 ?        SWN  Aug27   0:00 
[ksoftirqd_CPU0]
root         4  0.0  0.0     0    0 ?        SW   Aug27   0:07 [kswapd]
root         5  0.0  0.0     0    0 ?        SW   Aug27   0:00 [bdflush]
root         6  0.0  0.0     0    0 ?        SW   Aug27   0:00 [kupdated]
root       129  0.0  0.0     0    0 ?        SW   Aug27   0:00 [kjournald]
root       130  0.0  0.0     0    0 ?        SW   Aug27   0:00 [kjournald]
root       131  0.0  0.0     0    0 ?        SW   Aug27   0:00 [kjournald]
root       132  0.0  0.0     0    0 ?        SW   Aug27   0:00 [kjournald]
root       133  0.0  0.0     0    0 ?        SW   Aug27   0:01 [kjournald]
root       134  0.0  0.0     0    0 ?        SW   Aug27   0:00 [kjournald]
root       135  0.0  0.0     0    0 ?        SW   Aug27   0:07 [kjournald]
root       468  0.0  0.1  1476  528 ?        S    Aug27   0:00 syslogd -m 0
root       473  0.0  0.0  1892  436 ?        S    Aug27   0:00 klogd -2
root       549  0.0  0.1  2968  808 ?        S    Aug27   0:00 
/usr/local/sbin/sshd
root       591  0.0  0.1  5196  816 ?        S    Aug27   0:00 sendmail: 
accepting connections
root       611  0.0  0.1  1604  620 ?        S    Aug27   0:00 crond
root       618  0.0  0.0  1388  368 tty1     S    Aug27   0:00 
/sbin/mingetty tty1
root       619  0.0  0.0  1388  368 tty2     S    Aug27   0:00 
/sbin/mingetty tty2
root       620  0.0  0.0  1388  368 tty3     S    Aug27   0:00 
/sbin/mingetty tty3
root       621  0.0  0.0  1388  368 tty4     S    Aug27   0:00 
/sbin/mingetty tty4
root       622  0.0  0.0  1388  368 tty5     S    Aug27   0:00 
/sbin/mingetty tty5
root       623  0.0  0.0  1388  368 tty6     S    Aug27   0:00 
/sbin/mingetty tty6
root       626  0.0  0.0  1512  364 ?        S    Aug27   0:02 
/usr/local/sbin/cronolog /www/logs/%Y/%m/%d/error.log
root       627  0.1  0.0  1512  372 ?        S    Aug27   1:46 
/usr/local/sbin/cronolog /www/logs/%Y/%m/%d/access.log
root      1032  0.0  0.2  2860 1324 ?        SN   Aug27   0:00 /usr/bin/perl 
-w ./t2.pl
root      1069  0.0  0.2  2844 1308 ?        SN   Aug27   0:01 /usr/bin/perl 
-w ./mem.pl
root      1084  0.0  0.2  2860 1324 ?        SN   Aug27   0:02 /usr/bin/perl 
-w ./load.pl
root      1100  0.0  0.2  2860 1324 ?        SN   Aug27   0:00 /usr/bin/perl 
-w ./load60.pl
root     23016  0.0  0.3  3196 1572 ?        S    10:51   0:00 
/usr/local/sbin/sshd
root     23018  0.0  0.2  2528 1352 pts/1    S    10:51   0:00 -bash
root     23202  0.0  0.3  3296 1664 ?        S    10:52   0:00 
/usr/local/sbin/sshd
root     23204  0.0  0.1  2400  936 ?        S    10:52   0:00 sftp-server
root     23975  0.0  0.1  2884  912 pts/1    R    10:59   0:00 ps -auwx

I really can't see what is causing the load to be so high. Does anyone have 
any idea why my load is so high?

Jc

_________________________________________________________________
Chat with friends online, try MSN Messenger: <A  HREF="http://messenger.msn.com">http://messenger.msn.com</A>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00388" href="msg00388.html">Re: [tlug] Server shows strange load and memory spikes</a></strong>
<ul><li><em>From:</em> B0Ti</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00381.html">Re: [tlug] Japanese encoding</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00383.html">[tlug] Class B Hubs not suitable for data center use?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00364.html">Re: [tlug] Server shows strange load and memory spikes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00388.html">Re: [tlug] Server shows strange load and memory spikes</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00382"><strong>Date</strong></a></li>
<li><a href="threads.html#00382"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
