<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Are ordered hashes useful? -->
<!--X-From-R13: Xha&#45;Rnv Pngrf&#45;Ybonfuvtnjn <wq.yvfgfNxhehggn.arg> -->
<!--X-Date: Sat, 12 Feb 2011 15:43:09 +0900 -->
<!--X-Message-Id: AANLkTiknPv3VsKzKQVxMacFE9i9aSSmwXDU4Fz+rZU3g@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 4D4E75AB.5060703@articlass.org -->
<!--X-Reference: 4D4FB368.4010403@gmail.com -->
<!--X-Reference: AANLkTimk8AUJMRiwbPjGfDfciCwfaQr9_o3vBXtW2+rW@mail.gmail.com -->
<!--X-Reference: 87lj1rza76.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: AANLkTikqy8G6G1Pt3ramSqxKHKJHSpo=zjHYLVENW0Gb@mail.gmail.com -->
<!--X-Reference: 878vxqyfok.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00102.html">Date Prev</a>][<a href="msg00104.html">Date Next</a>][<a href="msg00098.html">Thread Prev</a>][<a href="msg00105.html">Thread Next</a>][<a href="maillist.html#00103">Date Index</a>][<a href="threads.html#00103">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Are ordered hashes useful?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sat, 12 Feb 2011 01:42:34 -0500</li>
<li><strong>From</strong>: <strong>Jun-Dai Bates-Kobashigawa &lt;<a href="mailto:jd.lists@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">jd.lists@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Are ordered hashes useful?</strong></li>
<li>References: &lt;<a href="mailto:4D4E75AB.5060703@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">4D4E75AB.5060703@example.com</a>&gt; &lt;<a href="mailto:4D4FB368.4010403@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">4D4FB368.4010403@example.com</a>&gt;	&lt;<a href="mailto:AANLkTimk8AUJMRiwbPjGfDfciCwfaQr9_o3vBXtW2%2BrW@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">AANLkTimk8AUJMRiwbPjGfDfciCwfaQr9_o3vBXtW2+rW@example.com</a>&gt;	&lt;<a href="mailto:87lj1rza76.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">87lj1rza76.fsf@example.com</a>&gt;	&lt;<a href="mailto:AANLkTikqy8G6G1Pt3ramSqxKHKJHSpo%3DzjHYLVENW0Gb@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">AANLkTikqy8G6G1Pt3ramSqxKHKJHSpo=zjHYLVENW0Gb@example.com</a>&gt;	&lt;<a href="mailto:878vxqyfok.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Are%20ordered%20hashes%20useful%3F">878vxqyfok.fsf@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div>The most common use case for a bundle of key/value pairs is simply as a dictionary, and thus hash maps / dictionaries / associative arrays are the most common data structure involving key/value pairs.</div><div><br></div>
There are cases where you want an ordered list of key/value pairs.  For example, an ordered list of airport code -&gt; airport name mappings that you want to use in a dropdown.  I&#39;ve always found this a bit awkward in most languages, but given that it&#39;s not so common, there&#39;s usually some way to do it.  If you think about it, it&#39;s really just a special case of an ordered list of objects, where the object type in question only has two attributes (e.g., airport_code, airport_name), one of which is the basis for the ordering.  Depending on the circumstance, I usually end up with (i) an ordered list of custom objects, (ii) an ordered list of some kind of KeyValuePair objects, or (iii) an ordered list of two-item arrays.<div>
<br></div><div>Then there are cases where you want a data structure that provides both dictionary access and ordered list access.  I definitely run into this from time to time (just ran into it this week, actually).  If there were such a construct in the language I was working in, I&#39;m guessing I would use it.  Instead, I usually roll my own each time.  Usually it just involves simultaneously maintaining a dictionary and an ordered list of its keys.  This provides the same quick read-access from either angle, and in most cases where I&#39;ve encountered the need for this structure it was for something read-only, so the time taken to add a value to both the list and the hashmap isn&#39;t important.  The other concerns it creates are memory usage and time taken to assemble the structure (if it&#39;s not being cached), but those haven&#39;t been problems for me yet…</div>
<div><br></div><div>Neither the second nor the third data structure should really be considered a &quot;hash&quot;.  But they can be useful.</div><div><br></div><div><br></div><div>It seems the Ruby solution makes similar tradeoffs to what I normally end up building (they have more complex dictionary entries, instead of maintaining two access structures), but with a smaller footprint:</div>
<div><a rel="nofollow" href="http://www.igvita.com/2009/02/04/ruby-19-internals-ordered-hash/">http://www.igvita.com/2009/02/04/ruby-19-internals-ordered-hash/</a></div><div><br></div><div>I agree it seems wrong to rely on the ordering of a &quot;hash&quot;.  I don&#39;t know that it&#39;s likely to cause bugs in Ruby code, but it does seem like a naming problem that might cause confusion for someone brought up using Ruby that moves on to any other language.</div>
<div><br></div><div> -Jdbk<br><div><br></div><div><br></div><div><br><br><div class="gmail_quote">On Tue, Feb 8, 2011 at 5:38 AM, Stephen J. Turnbull <span dir="ltr">&lt;<a rel="nofollow" href="mailto:stephen@example.com">stephen@example.com</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">Changing the Subject, because I&#39;m changing the subject.<br>
<br>
Josh Glover writes:<br>
<br>
 &gt; Ruby has a hash that keeps the keys FIFO ordered, if that makes sense.<br>
 &gt; The first key you put in is the first key that<br>
 &gt; GoogleOnlyKnowsTheNameOfTheHashClass#keys will return.<br>
<br>
This has recently been proposed for Python, but the consensus so far<br>
is that it&#39;s not very useful by itself.  It doesn&#39;t quite do the right<br>
thing when used as a dictionary for keeping keyword arguments AIUI,<br>
which is the most common proposed use for a &quot;bare&quot; FIFO hash at<br>
python-dev.  (The people who want this are probably trying to solve<br>
Dave&#39;s problem in an elegant way, in fact, now that you remind me of<br>
the idea of ordered hash.)<br>
<br>
Do you know of any use cases for it?<br>
<font color="#888888"><br>
--<br>
To unsubscribe from this mailing list,<br>
please see the instructions at <a rel="nofollow" href="http://lists.tlug.jp/list.html" target="_blank">http://lists.tlug.jp/list.html</a><br>
<br>
The TLUG mailing list is hosted by the award-winning Internet provider<br>
ASAHI Net.<br>
Visit ASAHI Net&#39;s English-language Web page: <a rel="nofollow" href="http://asahi-net.jp/en/" target="_blank">http://asahi-net.jp/en/</a><br>
</font></blockquote></div><br></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00105" href="msg00105.html">Re: [tlug] Are ordered hashes useful?</a></strong>
<ul><li><em>From:</em> Simon Cozens</li></ul></li>
<li><strong><a name="00111" href="msg00111.html">Re: [tlug] Are ordered hashes useful?</a></strong>
<ul><li><em>From:</em> Marty Pauley</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00032" href="msg00032.html">[tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00046" href="msg00046.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Raymond Wan</li></ul></li>
<li><strong><a name="00048" href="msg00048.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="00053" href="msg00053.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00063" href="msg00063.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Josh Glover</li></ul></li>
<li><strong><a name="00065" href="msg00065.html">[tlug] Are ordered hashes useful?</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00102.html">Re: [tlug] Are ordered hashes useful?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00104.html">Re: [tlug] Are ordered hashes useful?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00098.html">Re: [tlug] Are ordered hashes useful?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00105.html">Re: [tlug] Are ordered hashes useful?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00103"><strong>Date</strong></a></li>
<li><a href="threads.html#00103"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
