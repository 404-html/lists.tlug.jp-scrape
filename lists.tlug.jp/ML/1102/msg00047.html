<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] [Javascript] Shouldn't there be a sort option on objects -->
<!--X-From-R13: Rnir [ U <qnirNnegvpynff.bet> -->
<!--X-Date: Mon, 07 Feb 2011 22:50:38 +0900 -->
<!--X-Message-Id: 4D4FF8AB.3090809@articlass.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D4E75AB.5060703@articlass.org -->
<!--X-Reference: 87aai91c4o.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Reference: 4D4F65F2.1060000@articlass.org -->
<!--X-Reference: 87sjw0z3g8.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00046.html">Date Prev</a>][<a href="msg00048.html">Date Next</a>][<a href="msg00043.html">Thread Prev</a>][<a href="msg00049.html">Thread Next</a>][<a href="maillist.html#00047">Date Index</a>][<a href="threads.html#00047">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Mon, 07 Feb 2011 22:50:35 +0900</li>
<li><strong>From</strong>: <strong>Dave M G &lt;<a href="mailto:dave@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BJavascript%5D%20Shouldn%27t%20there%20be%20a%20sort%20option%20on%20objects">dave@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</strong></li>
<li>References: &lt;<a href="mailto:4D4E75AB.5060703@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BJavascript%5D%20Shouldn%27t%20there%20be%20a%20sort%20option%20on%20objects">4D4E75AB.5060703@example.com</a>&gt;	&lt;<a href="mailto:87aai91c4o.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BJavascript%5D%20Shouldn%27t%20there%20be%20a%20sort%20option%20on%20objects">87aai91c4o.fsf@example.com</a>&gt;	&lt;<a href="mailto:4D4F65F2.1060000@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BJavascript%5D%20Shouldn%27t%20there%20be%20a%20sort%20option%20on%20objects">4D4F65F2.1060000@example.com</a>&gt;	&lt;<a href="mailto:87sjw0z3g8.fsf@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20%5BJavascript%5D%20Shouldn%27t%20there%20be%20a%20sort%20option%20on%20objects">87sjw0z3g8.fsf@example.com</a>&gt;</li>
<li>User-agent: Mozilla/5.0 (X11; U; Linux i686; en-US;	rv:1.9.2.13) Gecko/20101208 Thunderbird/3.1.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Stephen, Josh, Fredric, Raymond,

Thanks guys for your explanations. Stephen's &quot;between a banana and red&quot;
explanation really helped me get a hold on the concept that objects are
not happy when one tries to sort them.

So... I'm down with the idea that what I need to do is be dealing with a
simple array, and not an object. This should be possible, as the data
I'm dealing with is data that has been sent from a server in JSON format.

I thought I could maybe stop Javascript from thinking of it as an object
and save it as an array right off, but it seems to be entirely automatic
that it's made into an object.

I think I should just be really specific about what I'm trying to do.

The code I use to send and receive JSON data looks like this:
$.post('jsonhandler.php', {JSON: JSON.stringify(data)}, checkResult,
&quot;json&quot;);

&quot;checkresult&quot; is the function that does stuff with the JSON data that
comes back from the server, and all it does is this (well, right now I'm
just testing things):

function checkResult(JSONdata)
{
    console.log(JSONdata);
}

So, at this point, I haven't acted on the JSON data or anything, but
when I'm checking what I've got in the console (I use Firebug in
Firefox), it says in capital letters that the data is an OBJECT.

The contents of that data look like this

OBJECT JSONdata
1
 displayName: &quot;Dude1&quot;
 email: &quot;dude1@example.com &lt;<a  rel="nofollow" href="mailto:dude1@example.com">mailto:dude1@example.com</a>&gt;&quot;
 lastActive: 1296980700
 level: 57
 timeout: 12969932837
    
2
 displayName: &quot;Dude2&quot;
 email: &quot;dude2@example.com &lt;<a  rel="nofollow" href="mailto:dude2@example.com">mailto:dude2@example.com</a>&gt;&quot;
 lastActive: 1296983456
 level: 28
 timeout: 12969937382

3
 displayName: &quot;Dude3&quot;
 email: &quot;dude3@example.com &lt;<a  rel="nofollow" href="mailto:dude3@example.com">mailto:dude3@example.com</a>&gt;&quot;
 lastActive: 1296980749
 level: 99
 timeout: 129699323459


The numbers, 1, 2, and 3, are the values stored in the first level of
the object. They are just represent the order in which the values were
constructed when the data was created by the server (in PHP).

What I want to be able to do is reorder these based on one of the values
of the second level of the object. So, for example, if I sorted
(descending) on the &quot;level&quot; key, it would be like this:

OBJECT JSONdata
1
 displayName: &quot;Dude2&quot;
 email: &quot;dude2@example.com &lt;<a  rel="nofollow" href="mailto:dude2@example.com">mailto:dude2@example.com</a>&gt;&quot;
 lastActive: 1296980749
 level: 99
 timeout: 129699323459

2
 displayName: &quot;Dude1&quot;
 email: &quot;dude1@example.com &lt;<a  rel="nofollow" href="mailto:dude1@example.com">mailto:dude1@example.com</a>&gt;&quot;
 lastActive: 1296980700
 level: 57
 timeout: 12969932837

3
 displayName: &quot;Dude3&quot;
 email: &quot;dude3@example.com &lt;<a  rel="nofollow" href="mailto:dude3@example.com">mailto:dude3@example.com</a>&gt;&quot;
 lastActive: 1296983456
 level: 28
 timeout: 12969937382

If I can get JSON to look at this as an array, not an object, I think I
can do something like this:

function sortBylevel(a, b) {
    var x = a.level;
    var y = b.level;
    return ((x &lt; y) ? -1 : ((x &gt; y) ? 1 : 0));
}
JSONdata.sort(sortByLevel);

However, I've searched all over Google, and I can't seem to find any way
of either making sure the JSON is made into an array in the first place,
or converting it from an object into an array after the fact. Everyone
seems to want to convert from objects to JSON and all discussion about
the other way around seems to talk about it like it's so obvious or
automatic that it doesn't merit mention.

Can anyone break it down to me on my lower-than-noob level?

-- 
Dave M G


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00049" href="msg00049.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Raymond Wan</li></ul></li>
<li><strong><a name="00058" href="msg00058.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00032" href="msg00032.html">[tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00034" href="msg00034.html">[tlug]  [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00037" href="msg00037.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Dave M G</li></ul></li>
<li><strong><a name="00043" href="msg00043.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00046.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00048.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00043.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00049.html">Re: [tlug] [Javascript] Shouldn't there be a sort option on objects</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00047"><strong>Date</strong></a></li>
<li><a href="threads.html#00047"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
