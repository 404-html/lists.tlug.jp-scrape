<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: XIM, kinput2 & Tk -->
<!--X-From: jwb@example.com (Jim Breen) -->
<!--X-Date: Fri, 11 May 2001 14:47:25 +0900 (JST) -->
<!--X-Message-Id: 200105110547.OAA17710@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00187.html">Date Prev</A>][<A HREF="msg00189.html">Date Next</A>][<A HREF="msg00175.html">Thread Prev</A>][<A HREF="msg00197.html">Thread Next</A>][<A HREF="maillist.html#00188">Date Index</A>][<A HREF="threads.html#00188">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: XIM, kinput2 &amp; Tk</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: XIM, kinput2 &amp; Tk</strong></LI>
<LI><strong>From</strong>: <strong><A HREF="mailto:jwb@example.com">jwb@example.com</A> (Jim Breen)</strong></LI>
<LI>Date: Fri, 11 May 2001 14:47:25 +0900 (JST)</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Resent-From: tlug@example.com</LI>
<LI>Resent-Message-ID: &lt;iATkLB.A.--B.sz3-6@example.com&gt;</LI>
<LI>Resent-Sender: tlug-request@example.com</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt;&gt; From: Mike Fabian &lt;mfabian@example.com&gt;
&gt;&gt; No, I don't think that what Kterm did here was an effort to work
&gt;&gt; flexibly with the locales. It had a build-in list of locales:
&gt;&gt; 
&gt;&gt;     ptyx.h, line 264:
&gt;&gt; 
&gt;&gt;     #ifdef KTERM_XIM
&gt;&gt;     # define EUCJPLOCALE	"ja_JP.eucJP,ja_JP.ujis,ja_JP.EUC,japanese.euc,Japanese-EUC,ja,japan"
&gt;&gt;     #endif /* KTERM_XIM */
&gt;&gt; 
&gt;&gt; Then it tried in a loop to call "setlocale(LC_CTYPE, *locales)" for
&gt;&gt; all the locales in this list and stop at the first successfull
&gt;&gt; setlocale call. On Linux, with glibc 2.2 or glibc 2.1.x + japanese
&gt;&gt; locale extensions, the first call setlocale(LC_CTYPE,"ja_JP.eucJP")
&gt;&gt; will already be successful therefore the other ones won't be tried.

I don't think this is kterm being flexible. I think it is botched
attempt by maintainers of a pre-locale slab of software to keep it running.

&gt;&gt; With glibc 2.1.x, this didn't matter, kterm worked OK even if the user
&gt;&gt; did set LANG=ja_JP or LANG=ja_JP.ujis. With glibc 2.2 this didn't work
&gt;&gt; anymore, the user had to set LANG=ja_JP.eucJP, otherwise kterm would
&gt;&gt; not work correctly.

Of course. Everyone knows that only the Japanese ever want to read and
write Japanese. All those other people running kterms either have to
convert their entire OS to Japanese, or rack off.

That's the way Unix I18N works, isn't it Stephen?    8-)}

&gt;&gt; I don't think it makes sense to make kterm work only for the first
&gt;&gt; locale in this internal list. How should the user know that kterm
&gt;&gt; has an internal list of locales and that he *must* set lang
&gt;&gt; to the first value of this internal list to make it work. I think
&gt;&gt; this is nonsense and therefore my patch makes sense.

As I said. Botched.

And to follow up my previous partially rhetorical question, if a Swede
wants to run a kterm, while still getting messages etc. in Swedish,

(a) what does he/she set variables to?
(b) how should kterm respond to which which variables?

-- 
Jim Breen  [jwb@example.com  <A TARGET="_top" HREF="http://www.csse.monash.edu.au/~jwb/">http://www.csse.monash.edu.au/~jwb/</A>]
Visiting Professor, Institute for the Study of Languages and Cultures of 
Asia and Africa, Tokyo University of Foreign Studies, Japan
+81 3 5974 3880         [$B%8%`!&amp;%V%j!&lt;%s(B@$BEl5~30Bg(B]

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00197" HREF="msg00197.html">Re: XIM, kinput2 &amp; Tk</A></STRONG>
<UL><LI><EM>From:</EM> B0Ti &lt;9915104t@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00187.html">Re: Yet another locale question....</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00189.html">Re: XIM, kinput2 &amp; Tk</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00175.html">Re: XIM, kinput2 &amp; Tk</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00197.html">Re: XIM, kinput2 &amp; Tk</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00188"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00188"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
