<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: Unicode TTF containing CJK? -->
<!--X-From: Mike Fabian <mfabian@example.com> -->
<!--X-Date: 14 Jun 2001 18:00:06 +0200 -->
<!--X-Message-Id: s3ty9qv3vcp.fsf@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 200106130147.KAA28066@example.com -->
<!--X-Reference-Id: 20010613030514.B17352@example.com&#45;dark&#45;truthful&#45;mirror.pmb.ox.ac.uk -->
<!--X-Reference-Id: s3tg0d46t57.fsf@example.com -->
<!--X-Reference-Id: 20010614075822.E11151@example.com&#45;dark&#45;truthful&#45;mirror.pmb.ox.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00428.html">Date Prev</A>][<A HREF="msg00430.html">Date Next</A>][<A HREF="msg00415.html">Thread Prev</A>][<A HREF="msg00372.html">Thread Next</A>][<A HREF="maillist.html#00429">Date Index</A>][<A HREF="threads.html#00429">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Unicode TTF containing CJK?</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: Unicode TTF containing CJK?</strong></LI>
<LI><strong>From</strong>: <strong>Mike Fabian &lt;<A HREF="mailto:mfabian@example.com">mfabian@example.com</A>&gt;</strong></LI>
<LI>Date: 14 Jun 2001 18:00:06 +0200</LI>
<LI>Content-Type: text/plain; charset=iso-2022-jp</LI>
<LI>In-Reply-To: Simon Cozens's message of "Thu, 14 Jun 2001 07:58:22 +0100"</LI>
<LI>References: &lt;<A HREF="msg00369.html">200106130147.KAA28066@example.com</A>&gt;&lt;<A HREF="msg00373.html">20010613030514.B17352@example.com</A>&gt;&lt;<A HREF="msg00391.html">s3tg0d46t57.fsf@example.com</A>&gt;&lt;<A HREF="msg00415.html">20010614075822.E11151@example.com</A>&gt;</LI>
<LI>Reply-To: <A HREF="mailto:mfabian@example.com">mfabian@example.com</A></LI>
<LI>Resent-From: tlug@example.com</LI>
<LI>Resent-Message-ID: &lt;5UDOtC.A.gy.M-NK7@example.com&gt;</LI>
<LI>Resent-Sender: tlug-request@example.com</LI>
<LI>Sender: <A HREF="mailto:mfabian@example.com">mfabian@example.com</A></LI>
<LI>User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.4 (Copyleft)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Simon Cozens &lt;simon@example.com&gt; writes:

&gt; On Wed, Jun 13, 2001 at 10:07:16PM +0200, tlug-request@example.com wrote:
&gt; &gt; But xfs as contained in XFree86 4.x will work. And you don't have to
&gt; &gt; use a font server if you don't want to, the "freetype" module as well
&gt; &gt; as the "xtt" module of XFree86 4.x can handle something like
&gt; &gt; Microsoft's Arial Unicode as well.
&gt; 
&gt; Yes, after much fiddling, I got it working with the freetype module.
&gt; 
&gt; &gt; It is very slow though, opening Microsoft's Arial Unicode takes more
&gt; &gt; than 30 seconds on my 500 MHz Pentium III. When you use the "freetype"
&gt; &gt; or "xtt" modules of XFree86 4.x, your whole X-server will freeze
&gt; &gt; during that time.
&gt; 
&gt; Huh, weird, seems fine here. You ran ttmkfdir and mkfontdir in your
&gt; truetype fonts directory?

Of course I used mkfontdir. If you use the output of ttmkfdir
directly, you are missing the line for the unicode encoding:

    mfabian@example.com:~/arialunicode$ ttmkfdir
    16
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-ascii-0
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-c-0-jisx0201.1976-0
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-koi8-ru
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-koi8-r
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-fcd8859-15
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-15
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-10
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-9
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-8
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-7
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-6
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-5
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-4
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-3
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-2
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso8859-1
    mfabian@example.com:~/arialunicode$ 

Add the following lines, which are missing, manually to your fonts.scale:

    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso10646-1
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-ksc5601.1987-0
    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0

rerun mkfontdir. Now use the font as a unicode font: 

    ~$ xfd -fn "-monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-p-0-iso10646-1"

Slow, isn't it? Not that

    ~$ xfd -fn "-monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-c-0-jisx0208.1983-0"

is very fast, because of the "-c-" (which means charcell font,
i.e. all characters fit into the same size box). xfs or the freetype
module or the xtt module can open a charcell font fast. But for a
proportional font they have to render all glyphs to get the font
metrics, which takes a long time. If you replace the "-p-" in the
unicode line with a "-c-" like this:

    arialuni.ttf -monotype-Arial Unicode MS-medium-r-normal--0-0-0-0-c-0-iso10646-1

the Arial Unicode font will open fast in unicode encoding as well, but
the spacing of the latin characters will be completely broken (lots of
white space between all characters). So it makes no sense to do that.
For the Japanese part alone (jisx0208.1983), it is OK to write a line
with "-c-" into fonts.scale, because the assumption of a charcell font
is mostly true for the Japanese part. Using "-p-" instead would not
buy you much but make it much slower. But for the latin parts of the
Arial Unicode font, assuming it is a charcell font is so far from
correct that the results are just terrible.

-- 
Mike Fabian   &lt;mfabian@example.com&gt;   <A HREF="http://www.suse.de/~mfabian">http://www.suse.de/~mfabian</A>
睡眠不足はいい仕事の敵だ。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00369" HREF="msg00369.html">Re: Unicode TTF containing CJK?</A></STRONG>
<UL><LI><EM>From:</EM> jwb@example.com (Jim Breen)</LI></UL></LI>
<LI><STRONG><A NAME="00373" HREF="msg00373.html">Re: Unicode TTF containing CJK?</A></STRONG>
<UL><LI><EM>From:</EM> Simon Cozens &lt;simon@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00391" HREF="msg00391.html">Re: Unicode TTF containing CJK?</A></STRONG>
<UL><LI><EM>From:</EM> Mike Fabian &lt;mfabian@example.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00415" HREF="msg00415.html">Re: Unicode TTF containing CJK?</A></STRONG>
<UL><LI><EM>From:</EM> Simon Cozens &lt;simon@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00428.html">RE: Nomikai attendance list</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00430.html">Re: Nomikai attendance list</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00415.html">Re: Unicode TTF containing CJK?</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00372.html">Re: Unicode TTF containing CJK?</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00429"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00429"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
