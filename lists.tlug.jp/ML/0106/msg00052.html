<!-- MHonArc v2.2.0 -->
<!--X-Subject: cron/logrotate -->
<!--X-From: "Jean&#45;Christian Imbeault" <jean_christian@example.com> -->
<!--X-Date: Tue, 05 Jun 2001 01:04:07 &#45;0000 -->
<!--X-Message-Id: F81H3b98KtdhQYZkxOj00005932@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00051.html">Date Prev</A>][<A HREF="msg00053.html">Date Next</A>][<A HREF="msg00068.html">Thread Prev</A>][<A HREF="msg00053.html">Thread Next</A>][<A HREF="maillist.html#00052">Date Index</A>][<A HREF="threads.html#00052">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>cron/logrotate</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>cron/logrotate </strong></LI>
<LI><strong>From</strong>: <strong>"Jean-Christian Imbeault" &lt;<A HREF="mailto:jean_christian@example.com">jean_christian@example.com</A>&gt;</strong></LI>
<LI>Date: Tue, 05 Jun 2001 01:04:07 -0000</LI>
<LI>Content-Type: text/plain; format=flowed</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Resent-From: tlug@example.com</LI>
<LI>Resent-Message-ID: &lt;RF216D.A.wI.PADH7@example.com&gt;</LI>
<LI>Resent-Sender: tlug-request@example.com</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
I was checking my apache logs this morning and noticed that they got rotated 
last night.

-rw-r--r--    1 root     root         3.0M Jun  4 23:42 access_log
-rw-r--r--    1 root     root         7.6M Jun  2 23:43 access_log.1

I'm running Apache 1.3.12 on RH 6.2 and trying to find out why the logs 
where rotated at this particular time.

I'm under the impression that Apache's log rotation is controlled by 
/usr/sbin/logrotate, which is itself called by cron.

I've found logrotate to be under etc/cron.daily/

I've check the crontab and cron.daily has the following entry:

02 4 * * * root run-parts /etc/cron.daily

Which would make daily cron jobs run at 4:20 am ... so logrotate should be 
run at 4:20am no?

So then I check logrotate.conf but it has no settings for time except:

#rotate log files weekly
weekly

So then I check /etc/logrotate.d/apache and find nothing relating to time 
here either, just:

/var/log/httpd/access_log {
    missingok
    postrotate
        /usr/bin/killall -HUP httpd 2&gt; /dev/null || true
    endscript
}

It would seem then that the Apache logs should only get rotated at 4:20am 
but this is not what happened.

Can anyone shed any light on this? I'm not sure but log rotation seems to be 
causing some of my clients/programs to hang. I had open connections at the 
time the logs where rotated and one of them didn't close properly and was 
still open when I did a ps this morning, had to kill it off.

Thanks,

Jc

_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at <A TARGET="_top" HREF="http://www.hotmail.com">http://www.hotmail.com</A>.

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00053" HREF="msg00053.html">Re: cron/logrotate</A></STRONG>
<UL><LI><EM>From:</EM> Darren Cook &lt;darrenj@example.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00051.html">Re: Japanese Keyboard</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00053.html">Re: cron/logrotate</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00068.html">Re: Japanese Keyboard</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00053.html">Re: cron/logrotate</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00052"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00052"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
