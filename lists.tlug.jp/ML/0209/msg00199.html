<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: [tlug] Re: Apache: Logging: how&#45;to pipe logs orlogtoanothermachine (was Disk -->
<!--X-From-R13: Pehab Dnbhyg <oeNenbhyg.pbz> -->
<!--X-Date: Mon, 9 Sep 2002 08:37:14 +0900 (JST) -->
<!--X-Message-Id: 1031528229.19434.30.camel@example.com -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: F166yDd3OJXsNQptgFr00000022@example.com -->
<!--X-Reference: 1031470505.12169.24.camel@example.com -->
<!--X-Reference: 15739.26268.212283.846293@example.com -->
<!--X-Reference: 15739.26854.670800.686908@example.com -->
<!--X-Reference: 20020908163321.GD32551@example.com -->
<!--X-Reference: 15739.32427.53683.926767@example.com -->
<!--X-Reference: 1031506840.4581.3.camel@example.com -->
<!--X-Reference: 15739.38256.521689.352117@example.com -->
<!--X-Derived: pgp00097.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00198.html">Date Prev</a>][<a href="msg00200.html">Date Next</a>][<a href="msg00198.html">Thread Prev</a>][<a href="msg00200.html">Thread Next</a>][<a href="maillist.html#00199">Date Index</a>][<a href="threads.html#00199">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: 09 Sep 2002 08:37:08 +0900</li>
<li><strong>From</strong>: <strong>Bruno Raoult &lt;<A HREF="mailto:br@DOMAIN.HIDDEN?SUBJECT=Re%3A%20%5Btlug%5D%20Re%3A%20Apache%3A%20Logging%3A%20how-to%20pipe%20logs%20orlogtoanothermachine%20%28was%20Disk">br@example.com</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</strong></li>
<li>References: &lt;<a href="msg00180.html">F166yDd3OJXsNQptgFr00000022@example.com</a>&gt;&lt;<a href="msg00181.html">1031470505.12169.24.camel@example.com</a>&gt; &lt;<a href="msg00189.html">15739.26268.212283.846293@example.com</a>&gt;&lt;<a href="msg00190.html">15739.26854.670800.686908@example.com</a>&gt;&lt;<a href="msg00195.html">20020908163321.GD32551@example.com</a>&gt;&lt;<a href="msg00196.html">15739.32427.53683.926767@example.com</a>&gt; &lt;<a href="msg00197.html">1031506840.4581.3.camel@example.com</a>&gt; &lt;<a href="msg00198.html">15739.38256.521689.352117@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
On Mon, 2002-09-09 at 03:22, Viktor Pavlenko wrote:
&gt;     BR&gt; strace on gzip gives:
&gt;     BR&gt; [...]
&gt;     BR&gt; read(0, &quot;VIDIA NVdriver Kernel Module  1.&quot;..., 8192) = 8192
&gt;     BR&gt; read(0, &quot;(li) CMD (cd /www/li-bridge; wge&quot;..., 32768) = 8192
&gt;     BR&gt; read(0, &quot;] Rejected at IN(default) filter&quot;..., 24576) = 8192
&gt;     BR&gt; write(1, &quot;\266\255\334\221\322\\\333\272$)\315\267\255\272\332!I&quot;...,
&gt;     BR&gt; 16384) = 16384
&gt;     BR&gt; [...]
&gt; 
&gt;     BR&gt; This means that the input buffer is BUFSIZ, and output buffer is
&gt;     BR&gt; 2*BUFSIZ.
&gt; 
&gt; Yes but you can also see several reads before the write. It means that
&gt; gzip writes its output after certain number of reads (6 for the first
&gt; output, 6*BUFSIZ = 49152 according to what I found out). But I think
&gt; the internal buffering (a number of reads followed by a number of
&gt; writes) depends on the compressing algorithm.
&gt; 
&gt; Viktor

I don't think so: As soon as 16K are ready for output, they are written.
You could have 2, 4, 10, or 100 8K reads prior to this, depending on
your input file (see your file filled with &quot;1&quot;, where gzip will read all
the data before the unique output...).
I just checked gzip source files (gzip.h), and they don't use stdio
(this was obvious because of the different output buffer size), but
rather use they own buffers. These buffers sizes are different on input
and output, and are decided at compilation time: 8K or 32K for input, 8K
or 16K for output.
*BUT* you could also force these values at compilation time (they are
not overwritten), meaning that your OUTBUFSIZE could be different...

br.
 
-- 
GPG Key: 653514E5 (<A  HREF="http://www.raoult.com/gpg">http://www.raoult.com/gpg</A>)
--
&quot;When you open your Windows you'll see a light blue sky filled with
clouds.
If you look past the clouds, you'll only see the Sun.&quot;

</pre>
<p><strong>Attachment:
<a href="pgp00097.pgp" ><tt>signature.asc</tt></a></strong><br>
<em>Description:</em> This is a digitally signed message part</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00200" href="msg00200.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
<ul><li><em>From:</em> Viktor Pavlenko</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00180" href="msg00180.html">Re: [tlug] Apache: Logging: how-to pipe logs or logtoanothermachine (was Disk</a></strong>
<ul><li><em>From:</em> Jean-Christian Imbeault</li></ul></li>
<li><strong><a name="00181" href="msg00181.html">Re: [tlug] Apache: Logging: how-to pipe logs or logtoanothermachine(was Disk</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00189" href="msg00189.html">Re: [tlug] Apache: Logging: how-to pipe logs or logtoanothermachine(was Disk</a></strong>
<ul><li><em>From:</em> Viktor Pavlenko</li></ul></li>
<li><strong><a name="00190" href="msg00190.html">Re: [tlug] Apache: Logging: how-to pipe logs or logtoanothermachine(was Disk</a></strong>
<ul><li><em>From:</em> Viktor Pavlenko</li></ul></li>
<li><strong><a name="00195" href="msg00195.html">[tlug] Re: Apache: Logging: how-to pipe logs or logtoanothermachine (was Disk</a></strong>
<ul><li><em>From:</em> Tobias Diedrich</li></ul></li>
<li><strong><a name="00196" href="msg00196.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs or logtoanothermachine (was Disk</a></strong>
<ul><li><em>From:</em> Viktor Pavlenko</li></ul></li>
<li><strong><a name="00197" href="msg00197.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
<ul><li><em>From:</em> Bruno Raoult</li></ul></li>
<li><strong><a name="00198" href="msg00198.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
<ul><li><em>From:</em> Viktor Pavlenko</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00198.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00200.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00198.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00200.html">Re: [tlug] Re: Apache: Logging: how-to pipe logs orlogtoanothermachine (was Disk</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00199"><strong>Date</strong></a></li>
<li><a href="threads.html#00199"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
