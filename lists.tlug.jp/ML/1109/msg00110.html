<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Possibility to recover a hard disk by swapping control	board: USB Power Limits (Especially on Laptops) -->
<!--X-From-R13: Lri <mriNororne.arg> -->
<!--X-Date: Sun, 18 Sep 2011 02:59:05 +0900 -->
<!--X-Message-Id: B6532EF5&#45;873D&#45;494F&#45;BF12&#45;D0D3BFAE5DD3@bebear.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 58AF48FC&#45;F6BB&#45;4BAF&#45;86F4&#45;83ECA9B7B729@bebear.net -->
<!--X-Reference: 20110916101729.49230185.jep200404@columbus.rr.com -->
<!--X-Reference: FD6301D8&#45;7B20&#45;4CD8&#45;952F&#45;98828699D15F@bebear.net -->
<!--X-Reference: 20110916181814.77b0194f.jep200404@columbus.rr.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00109.html">Date Prev</a>][<a href="msg00111.html">Date Next</a>][<a href="msg00106.html">Thread Prev</a>][<a href="msg00111.html">Thread Next</a>][<a href="maillist.html#00110">Date Index</a>][<a href="threads.html#00110">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Possibility to recover a hard disk by swapping control	board: USB Power Limits (Especially on Laptops)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Sun, 18 Sep 2011 02:59:02 +0900</li>
<li><strong>From</strong>: <strong>Zev &lt;<a href="mailto:zev@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Possibility%20to%20recover%20a%20hard%20disk%20by%20swapping%20control%09board:%20USB%20Power%20Limits%20%28Especially%20on%20Laptops%29">zev@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Possibility to recover a hard disk by swapping control	board: USB Power Limits (Especially on Laptops)</strong></li>
<li>References: &lt;<a href="mailto:58AF48FC-F6BB-4BAF-86F4-83ECA9B7B729@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Possibility%20to%20recover%20a%20hard%20disk%20by%20swapping%20control%09board:%20USB%20Power%20Limits%20%28Especially%20on%20Laptops%29">58AF48FC-F6BB-4BAF-86F4-83ECA9B7B729@example.com</a>&gt;	&lt;<a href="mailto:20110916101729.49230185.jep200404@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Possibility%20to%20recover%20a%20hard%20disk%20by%20swapping%20control%09board:%20USB%20Power%20Limits%20%28Especially%20on%20Laptops%29">20110916101729.49230185.jep200404@example.com</a>&gt;	&lt;<a href="mailto:FD6301D8-7B20-4CD8-952F-98828699D15F@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Possibility%20to%20recover%20a%20hard%20disk%20by%20swapping%20control%09board:%20USB%20Power%20Limits%20%28Especially%20on%20Laptops%29">FD6301D8-7B20-4CD8-952F-98828699D15F@example.com</a>&gt;	&lt;<a href="mailto:20110916181814.77b0194f.jep200404@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Possibility%20to%20recover%20a%20hard%20disk%20by%20swapping%20control%09board:%20USB%20Power%20Limits%20%28Especially%20on%20Laptops%29">20110916181814.77b0194f.jep200404@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hello all,

Thanks for all of you advice.
Here is what I did :

1) Boot linux Ubuntu cd in live mode (11.04 UI is annoying will use something better next time)

2) attach drive via USB

2.1) When I turned on the USB disk I tailed syslog and kern.log and received the following

&lt;via usb&gt;
Sep 17 14:42:12 ubuntu kernel: [  491.200163] usb 2-1: new full speed USB device using uhci_hcd and address 7
Sep 17 14:42:12 ubuntu kernel: [  491.320134] usb 2-1: device descriptor read/64, error -71
Sep 17 14:42:12 ubuntu kernel: [  491.600171] usb 2-1: device descriptor read/64, error -71
Sep 17 14:42:12 ubuntu kernel: [  491.816180] usb 2-1: new full speed USB device using uhci_hcd and address 8
Sep 17 14:42:12 ubuntu kernel: [  491.940078] usb 2-1: device descriptor read/64, error -71
Sep 17 14:42:13 ubuntu kernel: [  492.164187] usb 2-1: device descriptor read/64, error -71
Sep 17 14:42:13 ubuntu kernel: [  492.380177] usb 2-1: new full speed USB device using uhci_hcd and address 9
Sep 17 14:42:13 ubuntu kernel: [  492.792146] usb 2-1: device not accepting address 9, error -71
Sep 17 14:42:13 ubuntu kernel: [  492.904178] usb 2-1: new full speed USB device using uhci_hcd and address 10
Sep 17 14:42:14 ubuntu kernel: [  493.320183] usb 2-1: device not accepting address 10, error -71
Sep 17 14:42:14 ubuntu kernel: [  493.320215] hub 2-0:1.0: unable to enumerate USB device on port 1
&lt;/via usb&gt;

2.2) I was unable to mount it or see the actual disk in any other tools like Disk Utility etc.


3) Remove good hard disk in laptop and directly connect the bad disk to the SATA port.
I.e. this disk becomes the only hard disk on the laptop and it is internally connected.
This cuts out any USB middle man issues.

3.1) Boot live cd.

3.2) Notice it does not see the hard disk and confirm no other tool sees it too.

3.3) Copy the logs to a USB disk.  Here are some of the keys data points from kern.log and a call to lspci.


kern.log entries
&lt;via direct SATA connection on laptop&gt;
Sep 17 14:53:36 ubuntu kernel: [    0.000000] ACPI: SSDT 7eebd000 0064F (v01 SataRe  SataPri 00001000 INTL 20050309)
Sep 17 14:53:36 ubuntu kernel: [    0.000000] ACPI: SSDT 7eebc000 0069C (v01 SataRe  SataSec 00001000 INTL 20050309)
Sep 17 14:53:36 ubuntu kernel: [    6.611952] ata_piix 0000:00:1f.1: version 2.13
Sep 17 14:53:36 ubuntu kernel: [    6.611972] ata_piix 0000:00:1f.1: power state changed by ACPI to D0
Sep 17 14:53:36 ubuntu kernel: [    6.611980] ata_piix 0000:00:1f.1: power state changed by ACPI to D0
Sep 17 14:53:36 ubuntu kernel: [    6.612025] ata_piix 0000:00:1f.1: PCI INT A -&gt; GSI 18 (level, low) -&gt; IRQ 18
Sep 17 14:53:36 ubuntu kernel: [    6.612094] ata_piix 0000:00:1f.1: setting latency timer to 64
Sep 17 14:53:36 ubuntu kernel: [    6.612885] scsi0 : ata_piix
Sep 17 14:53:36 ubuntu kernel: [    6.613106] scsi1 : ata_piix
Sep 17 14:53:36 ubuntu kernel: [    6.613988] ata1: PATA max UDMA/100 cmd 0x1f0 ctl 0x3f6 bmdma 0x20b0 irq 14
Sep 17 14:53:36 ubuntu kernel: [    6.613995] ata2: PATA max UDMA/100 cmd 0x170 ctl 0x376 bmdma 0x20b8 irq 15
Sep 17 14:53:36 ubuntu kernel: [    6.614045] ata_piix 0000:00:1f.2: PCI INT B -&gt; GSI 19 (level, low) -&gt; IRQ 19
Sep 17 14:53:36 ubuntu kernel: [    6.614060] ata_piix 0000:00:1f.2: MAP [ P0 P2 -- -- ]
Sep 17 14:53:36 ubuntu kernel: [    6.776028] ata_piix 0000:00:1f.2: setting latency timer to 64
Sep 17 14:53:36 ubuntu kernel: [    6.776679] scsi2 : ata_piix
Sep 17 14:53:36 ubuntu kernel: [    6.776832] scsi3 : ata_piix
Sep 17 14:53:36 ubuntu kernel: [    6.778076] ata3: SATA max UDMA/133 cmd 0x20c8 ctl 0x20ec bmdma 0x20a0 irq 19
Sep 17 14:53:36 ubuntu kernel: [    6.778082] ata4: SATA max UDMA/133 cmd 0x20c0 ctl 0x20e8 bmdma 0x20a8 irq 19
&lt;/via direct SATA connection on laptop&gt;

&lt;lspci direct SATA&gt;
00:00.0 Host bridge: Intel Corporation Mobile 945GM/PM/GMS, 943/940GML and 945GT Express Memory Controller Hub (rev 03)
00:02.0 VGA compatible controller: Intel Corporation Mobile 945GM/GMS, 943/940GML Express Integrated Graphics Controller (rev 03)
00:02.1 Display controller: Intel Corporation Mobile 945GM/GMS/GME, 943/940GML Express Integrated Graphics Controller (rev 03)
00:07.0 Performance counters: Intel Corporation Device 27a3 (rev 03)
00:1b.0 Audio device: Intel Corporation N10/ICH 7 Family High Definition Audio Controller (rev 02)
00:1c.0 PCI bridge: Intel Corporation N10/ICH 7 Family PCI Express Port 1 (rev 02)
00:1c.1 PCI bridge: Intel Corporation N10/ICH 7 Family PCI Express Port 2 (rev 02)
00:1d.0 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #1 (rev 02)
00:1d.1 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #2 (rev 02)
00:1d.2 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #3 (rev 02)
00:1d.3 USB Controller: Intel Corporation N10/ICH 7 Family USB UHCI Controller #4 (rev 02)
00:1d.7 USB Controller: Intel Corporation N10/ICH 7 Family USB2 EHCI Controller (rev 02)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev e2)
00:1f.0 ISA bridge: Intel Corporation 82801GBM (ICH7-M) LPC Interface Bridge (rev 02)
00:1f.1 IDE interface: Intel Corporation 82801G (ICH7 Family) IDE Controller (rev 02)
00:1f.2 IDE interface: Intel Corporation 82801GBM/GHM (ICH7 Family) SATA IDE Controller (rev 02)
00:1f.3 SMBus: Intel Corporation N10/ICH 7 Family SMBus Controller (rev 02)
01:00.0 Ethernet controller: Marvell Technology Group Ltd. 88E8053 PCI-E Gigabit Ethernet Controller (rev 22)
02:00.0 Network controller: Atheros Communications Inc. AR5008 Wireless Network Adapter (rev 01)
03:03.0 FireWire (IEEE 1394): Agere Systems FW322/323 (rev 61)
&lt;/lspci direct SATA&gt;

I have more logs on a usb stick, so if there is something I missed I can post it here or on a web page for you all to confirm.

But, my guess is that this is not recoverable via a software solution.
If it is not recoverable via software, should I try to but a new disk just like this one and swap the 
controller boards?


Thanks,
Zev





</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00111" href="msg00111.html">Re: [tlug] Possibility to recover a hard disk by swapping control board: USB Power Limits (Especially on Laptops)</a></strong>
<ul><li><em>From:</em> jep200404</li></ul></li>
<li><strong><a name="00115" href="msg00115.html">Re: [tlug] Possibility to recover a hard disk by swapping control	board: USB Power Limits (Especially on Laptops)</a></strong>
<ul><li><em>From:</em> Francois Cartegnie</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00101" href="msg00101.html">[tlug] Possibility to recover a hard disk by swapping control board</a></strong>
<ul><li><em>From:</em> Zev</li></ul></li>
<li><strong><a name="00102" href="msg00102.html">Re: [tlug] Possibility to recover a hard disk by swapping control board</a></strong>
<ul><li><em>From:</em> jep200404</li></ul></li>
<li><strong><a name="00103" href="msg00103.html">Re: [tlug] Possibility to recover a hard disk by swapping control	board</a></strong>
<ul><li><em>From:</em> Zev</li></ul></li>
<li><strong><a name="00106" href="msg00106.html">Re: [tlug] Possibility to recover a hard disk by swapping control board: USB Power Limits (Especially on Laptops)</a></strong>
<ul><li><em>From:</em> jep200404</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00109.html">Re: [tlug] Possibility to recover a hard disk by swapping control	board</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00111.html">Re: [tlug] Possibility to recover a hard disk by swapping control board: USB Power Limits (Especially on Laptops)</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00106.html">Re: [tlug] Possibility to recover a hard disk by swapping control board: USB Power Limits (Especially on Laptops)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00111.html">Re: [tlug] Possibility to recover a hard disk by swapping control board: USB Power Limits (Especially on Laptops)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00110"><strong>Date</strong></a></li>
<li><a href="threads.html#00110"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
