<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [tlug] Language localization in Javacript -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Fri, 30 Sep 2011 18:25:55 +0900 -->
<!--X-Message-Id: 87bou2gz4u.fsf@uwakimon.sk.tsukuba.ac.jp -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+kCxRb8df237PV1ZdvOp5Emuqgz_=RdVzpa_fPMJEbQZRX3sA@mail.gmail.com -->
<!--X-Reference: 4E81AF97.2060001@dcook.org -->
<!--X-Reference: 4E842467.1010902@simon&#45;cozens.org -->
<!--X-Reference: 4E8564A2.9000708@dcook.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00189.html">Date Prev</a>][<a href="msg00191.html">Date Next</a>][<a href="msg00189.html">Thread Prev</a>][<a href="msg00191.html">Thread Next</a>][<a href="maillist.html#00190">Date Index</a>][<a href="threads.html#00190">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Language localization in Javacript</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Fri, 30 Sep 2011 18:25:53 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Language%20localization%20in%20Javacript">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Language localization in Javacript</strong></li>
<li>References: &lt;<a href="mailto:CA%2BkCxRb8df237PV1ZdvOp5Emuqgz_%3DRdVzpa_fPMJEbQZRX3sA@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Language%20localization%20in%20Javacript">CA+kCxRb8df237PV1ZdvOp5Emuqgz_=RdVzpa_fPMJEbQZRX3sA@example.com</a>&gt;	&lt;<a href="mailto:4E81AF97.2060001@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Language%20localization%20in%20Javacript">4E81AF97.2060001@example.com</a>&gt; &lt;<a href="mailto:4E842467.1010902@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Language%20localization%20in%20Javacript">4E842467.1010902@example.com</a>&gt;	&lt;<a href="mailto:4E8564A2.9000708@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Language%20localization%20in%20Javacript">4E8564A2.9000708@example.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Darren Cook writes:

 &gt; &gt; strings = {
 &gt; &gt; 	english: { hi: &quot;Hello world&quot;, bye: &quot;Goodbye&quot; },
 &gt; &gt; 	japanese: { hi: &quot;こんにちは舌皛逅跂勉闕\xA6&quot;, bye: &quot;さよなら&quot; },
 &gt; &gt; 	french: { hi: &quot;Bonjour tout le monde&quot;, bye: &quot;Au revoir&quot; },
 &gt; &gt; }
 &gt; &gt; 
 &gt; &gt; var language = &quot;english&quot;;
 &gt; &gt; 
 &gt; &gt; document.writeln( strings[language][&quot;hi&quot;] );
 &gt; 
 &gt; I'm glad I read all the posts before replying; Simon's answer above is
 &gt; what I was going to suggest.

&quot;Simon says, 'use a data structure'!&quot;

The biggest advantage to use of a data structure is that it localizes
the string database in the program, making it easier to add languages
or update translations.

However, there are three potential maintenance problems with it.  The
first is that unless you have a very small number of strings, coming
up with barewords that do the job as indicies is going to be tedious
and mistake-prone.  (gettext solves this by using the model language
strings themselves as indicies.)

The second is that (again, unless you have a very small number of
strings) the model language (presumably English) is going to be &quot;far&quot;
(ie, many lines) from many of the languages, and in any case it's
going to be a PITA to match up changes to the English model to any
given target language.  gettext doesn't solve this by itself, but
because it's a mature solution tools have been written to extract the
indicies (ie, the model language strings) and provide a
&quot;fill-in-the-blanks&quot; form for translators.  They'll even mark the
translations that need to be updated for you.

A third potential problem is that this format is not very friendly to
non-programmer translators.  (gettext is a familiar format to many
translators already.)

You also may need to account for the possibilty of missing
translations.  What will the Javascript do in a Japanese locale if you
add

    johnnytest: &quot;Didn't see /that/ coming!&quot;

to the English and the program, but haven't updated the Japanese
translations to account for it?  (gettext returns the string from the
model language.  At least it's not a crash or an unsightly error
message.)

 &gt; However, I'd still have a global var:
 &gt; 
 &gt; T=strings[language];
 &gt; ...
 &gt; document.writeln( T[&quot;hi&quot;] );

Yup.  Very much like the gettext convention of using a macro such as

#define _(x) (gettext(x))

to make the call as lightweight as possible.

 &gt; P.P.S. As others have said, this is all assuming you have a good
 &gt; reason to have all languages statically embedded in an html
 &gt; page. Which it sounds like you do.

&quot;Static object&quot; doesn't matter.  Generated things can be generated at
build time as well as at download time.


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00191" href="msg00191.html">Re: [tlug] Language localization in Javacript</a></strong>
<ul><li><em>From:</em> Simon Cozens</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00157" href="msg00157.html">[tlug] Language localization in Javacript</a></strong>
<ul><li><em>From:</em> Martin G</li></ul></li>
<li><strong><a name="00158" href="msg00158.html">Re: [tlug] Language localization in Javacript</a></strong>
<ul><li><em>From:</em> Darren Cook</li></ul></li>
<li><strong><a name="00182" href="msg00182.html">Re: [tlug] Language localization in Javacript</a></strong>
<ul><li><em>From:</em> Simon Cozens</li></ul></li>
<li><strong><a name="00189" href="msg00189.html">Re: [tlug] Language localization in Javacript</a></strong>
<ul><li><em>From:</em> Darren Cook</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00189.html">Re: [tlug] Language localization in Javacript</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00191.html">Re: [tlug] Language localization in Javacript</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00189.html">Re: [tlug] Language localization in Javacript</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00191.html">Re: [tlug] Language localization in Javacript</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00190"><strong>Date</strong></a></li>
<li><a href="threads.html#00190"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="/list.html"> Mailing List </a></td>
<td align=center><a href="http://tlug.jp/linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="http://tlug.jp/members.html">TLUG Members</a></td>
<td align=center><a href="http://tlug.jp//linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
